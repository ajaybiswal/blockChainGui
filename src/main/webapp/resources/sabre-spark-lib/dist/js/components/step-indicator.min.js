/* sabre-spark - v2.4.4 - 2018-3-6 DO NOT MODIFY THIS FILE DIRECTLY OR YOU WILL NOT BE ABLE TO UPDATE YOUR VERSION OF SPARK. */
!function(t){if("object"==typeof exports&&"undefined"!=typeof module)module.exports=t();else if("function"==typeof define&&define.amd)define([],t);else{var e;((e="undefined"!=typeof window?window:"undefined"!=typeof global?global:"undefined"!=typeof self?self:this).Spark||(e.Spark={})).StepIndicator=t()}}(function(){return function o(n,a,l){function d(i,t){if(!a[i]){if(!n[i]){var e="function"==typeof require&&require;if(!t&&e)return e(i,!0);if(u)return u(i,!0);var s=new Error("Cannot find module '"+i+"'");throw s.code="MODULE_NOT_FOUND",s}var r=a[i]={exports:{}};n[i][0].call(r.exports,function(t){var e=n[i][1][t];return d(e||t)},r,r.exports,o,n,a,l)}return a[i].exports}for(var u="function"==typeof require&&require,t=0;t<l.length;t++)d(l[t]);return d}({1:[function(t,e,i){"use strict";Object.defineProperty(i,"__esModule",{value:!0});var s,r=t("../helpers/util/each"),o=(s=r)&&s.__esModule?s:{default:s};var n=function(){},a=function(){function i(t){var e=1<arguments.length&&void 0!==arguments[1]?arguments[1]:{};!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,i),e.elRequired&&!t||(this.setParams(this.defaults||{},!0),this.setParams(e),(this._cacheElements||n).call(this,t,e),(this._parseParams||n).call(this))}return i.prototype.remove=function(t){return this._removeEventListeners&&this._removeEventListeners(),!t&&this.el&&this.el.parentNode&&this.el.parentNode.removeChild(this.el),this.unsetParams(this.defaults),this},i.prototype.update=function(t){var e=1<arguments.length&&void 0!==arguments[1]?arguments[1]:{};return this._removeEventListeners&&this._removeEventListeners(),(this._cacheElements||n).call(this,t||this.el,e),(this._parseParams||n).call(this),this._addEventListeners&&this._addEventListeners(),this},i.prototype.setParams=function(t,i){var s=this;return(0,o.default)(t,function(t,e){(-1!==s._whitelistedParams.indexOf(t)||i)&&(s[t]=e)}),this},i.prototype.unsetParams=function(t,e){return t=t instanceof Array?t:Object.keys(t),e=e||this,(0,o.default)(t,function(t){delete e[t]}),this},i}();a.prototype._whitelistedParams=[],a.prototype.defaults={},i.default=a,e.exports=i.default},{"../helpers/util/each":9}],2:[function(t,e,i){"use strict";Object.defineProperty(i,"__esModule",{value:!0});var s=r(t("./base")),a=r(t("../helpers/dom/add-class")),l=r(t("../helpers/dom/remove-class")),d=r(t("../helpers/dom/has-class")),o=r(t("../helpers/traversal/get-parent")),n=r(t("../helpers/util/debounce"));function r(t){return t&&t.__esModule?t:{default:t}}function u(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!=typeof e&&"function"!=typeof e?t:e}var p=function(){},c=function(s){function r(t){var e,i=1<arguments.length&&void 0!==arguments[1]?arguments[1]:{};return function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,r),(e=u(this,s.call(this,t,i)))&&(e._bindEventListenerCallbacks(),e._addEventListeners(),e._calculateStyle()),u(e)}return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}(r,s),r.prototype.update=function(t){return this._removeEventListeners(),this._cacheElements(t||this.el),this._parseParams(),this._addEventListeners(),this._calculateStyle(),this},r.prototype._cacheElements=function(t){this.el=t,this.containerEl=this.containerEl||t.parentNode,this._body=this.el.querySelector(".spark-step-indicator__body"),this._list=this.el.querySelector(".spark-step-indicator__list"),this._items=this.el.querySelectorAll(".spark-step-indicator__item")},r.prototype._parseParams=function(){this.type=null!==this.type?this.type:this.el.attributes["data-type"]&&this.el.attributes["data-type"].value,this.header=null!==this.header?this.header:this.el.attributes["data-header"]&&!0,this.subtitle=null!==this.subtitle?this.subtitle:this.el.attributes["data-subtitle"]&&!0,this.dropdownLabel=null!==this.dropdownLabel?this.dropdownLabel:this.el.attributes["data-dropdownLabel"]&&this.el.attributes["data-dropdownLabel"].value,this.dropdownLabel||(this.dropdownLabel="Select a Step")},r.prototype._bindEventListenerCallbacks=function(){this._onResizeBound=this._onResize.bind(this),this._onLoadBound=this._onLoad.bind(this),this._onVisibleBound=this._onVisible.bind(this),this._toggleDropdownBound=this._toggleDropdown.bind(this),this._onKeydownBound=(0,n.default)(this._onKeydown.bind(this),100)},r.prototype._addEventListeners=function(){window.addEventListener("resize",this._onResizeBound),document.addEventListener("spark.visible-children",this._onVisibleBound,!0),window.addEventListener("load",this._onLoadBound),this.el.addEventListener("keydown",this._onKeydownBound),document.addEventListener("spark.step-indicator",this._toggleDropdownBound,!0)},r.prototype._removeEventListeners=function(){window.removeEventListener("resize",this._onResizeBound),document.removeEventListener("spark.visible-children",this._onVisibleBound,!0),document.removeEventListener("click",this._toggleDropdownBound),window.removeEventListener("load",this._onLoadBound),this.el.removeEventListener("keydown",this._onKeydownBound),document.removeEventListener("spark.step-indicator",this._toggleDropdownBound,!0)},r.prototype._resetStepState=function(t){t<0||t>=this._items.length||((0,l.default)(this._items[t],["spark-step-indicator__item--completed","spark-step-indicator__item--current","spark-step-indicator__item--disabled"]),this._items[t].removeAttribute("tabindex"))},r.prototype.setStepState=function(t,e){if(t<0||t>=this._items.length)return this;switch(e){case"completed":this._resetStepState(t),(0,a.default)(this._items[t],"spark-step-indicator__item--completed");break;case"current":var i=this._list.querySelector(".spark-step-indicator__item--current");(0,l.default)(i,"spark-step-indicator__item--current"),(0,a.default)(this._items[t],"spark-step-indicator__item--current");break;case"disabled":this._resetStepState(t),(0,a.default)(this._items[t],"spark-step-indicator__item--disabled"),this._items[t].setAttribute("tabindex","-1");break;case"incomplete":this._resetStepState(t)}return this._calculateStyle(),this},r.prototype._onKeydown=function(t){if((0,o.default)(t.target,".spark-step-indicator__list",this.el)||(0,o.default)(t.target,".spark-step-indicator__body--dropdown",this.el)){var e=t.keyCode||t.which;13===e&&(0,d.default)(t.target,"spark-step-indicator__item--dropdown__header")&&(t.preventDefault(),this._toggleDropdown(t)),9===e&&!1===(0,d.default)(document.activeElement,"spark-step-indicator__item")&&!0===this._dropdownExpand&&this._toggleDropdown(t)}},r.prototype.bindStepClickCallback=function(t,e){e=e||p;for(var i=0;i<t.length;i++)this._items[t[i]].addEventListener("click",e);return this},r.prototype.removeStepClickCallback=function(t,e){e=e||p;for(var i=0;i<t.length;i++)this._items[t[i]].removeEventListener("click",e);return this},r.prototype._isOverWidth=function(){for(var t=this._list.offsetWidth,e=this._listPaddingTotal,i=0;i<this._items.length;i++)e+=this._items[i].offsetWidth;return t<e},r.prototype._calculateStyle=function(){this.header||(this.el.querySelector(".spark-step-indicator__title").style.display="none",(0,a.default)(this._body,"spark-step-indicator__body--no-border"));this.subtitle||(this.el.querySelector(".spark-step-indicator__subtitle").style.display="none");switch(this._switchFromDropdown(),this.type){case"standard-dropdown":this._calculateRespStyle();break;case"large":this._calculateLargeStyle();break;case"condensed":this._calculateCondensedStyle();break;case"dropdown":this._calculateDropdownStyle();break;default:this._calculateStandardStyle()}!(!navigator.userAgent.match(/Trident/)||!navigator.userAgent.match(/rv[ :]11/))&&this._addItemWidth()},r.prototype._addItemWidth=function(){if((0,d.default)(this._list,"spark-step-indicator__list--condensed")||(0,d.default)(this._body,"spark-step-indicator__body--dropdown"))this._switchWidthForIe11(0,!1);else{for(var t=this._list.offsetWidth,e=this._listPaddingTotal,i=0;i<this._items.length;i++)e+=this._items[i].offsetWidth;2<t-e?this._switchWidthForIe11(0,!0):this._switchWidthForIe11(0,!1)}},r.prototype._switchWidthForIe11=function(t,e){for(var i=t;i<this._items.length;i++)this._items[i].style.width=e?"100%":""},r.prototype._calculateLargeStyle=function(){this._list.style["flex-wrap"]="wrap";for(var t=this._list.offsetWidth,e=this._listPaddingTotal,i=0;i<this._items.length;i++)(0,l.default)(this._items[i],"noline"),t<(e+=this._items[i].offsetWidth)&&0<i&&((0,a.default)(this._items[i-1],"noline"),e=this._items[i].offsetWidth+this._listPaddingTotal)},r.prototype._calculateCondensedStyle=function(){(0,a.default)(this._list,"spark-step-indicator__list--condensed"),this._calculateLargeStyle()},r.prototype._calculateDropdownStyle=function(){this._switchToDropdown()},r.prototype._calculateStandardStyle=function(){this._list.style.visibility="hidden";for(var t=0;t<this._items.length;t++)(0,l.default)(this._items[t],"noline");(0,l.default)(this._list,"spark-step-indicator__list--condensed"),this._isOverWidth()&&((0,a.default)(this._list,"spark-step-indicator__list--condensed"),this._calculateLargeStyle()),this._list.style.visibility="visible"},r.prototype._calculateRespStyle=function(){this._list.style.visibility="hidden",(0,l.default)(this._list,"spark-step-indicator__list--condensed"),this._isOverWidth()&&((0,a.default)(this._list,"spark-step-indicator__list--condensed"),this._isOverWidth()&&((0,l.default)(this._list,"spark-step-indicator__list--condensed"),this._switchToDropdown())),this._list.style.visibility="visible"},r.prototype._createDropdownHeader=function(){var t=document.createElement("a"),e=this._list.querySelector(".spark-step-indicator__item--current");e||(e=this._items[0]),t.setAttribute("role","button"),t.setAttribute("aria-expanded","false");var i=null!==this._list.getAttribute("id")&&""!==this._list.getAttribute("id")?this._list.getAttribute("id"):"";t.setAttribute("aria-controls",i),t.innerHTML=e.innerHTML,t.innerHTML+='<span class="spark-step-indicator__notice">'+this.dropdownLabel+"</span>";var s=document.createElement("span"),r=Array.prototype.indexOf.call(this._items,e);s.innerHTML=r+1+" of "+this._items.length,s.className="spark-step-indicator__label--dropdown",t.appendChild(s),t.className=e.className,t.setAttribute("tabindex","0"),(0,a.default)(t,"spark-step-indicator__item--dropdown__header"),this._dropdownHeader=t},r.prototype._switchToDropdown=function(){(0,a.default)(this._body,"spark-step-indicator__body--dropdown"),this._createDropdownHeader(),this._list.parentNode.insertBefore(this._dropdownHeader,this._list),document.removeEventListener("click",this._toggleDropdownBound),document.addEventListener("click",this._toggleDropdownBound),(0,a.default)(this._list,"collapse");for(var t=0;t<this._items.length;t++)(0,d.default)(this._items[t],"spark-step-indicator__item--disabled")||this._items[t].setAttribute("tabindex","-1")},r.prototype._switchFromDropdown=function(){(0,l.default)(this._body,"spark-step-indicator__body--dropdown");var t=this._list.parentNode.querySelector(".spark-step-indicator__item--dropdown__header");document.removeEventListener("click",this._toggleDropdownBound),t&&this._list.parentNode.removeChild(t),(0,l.default)(this._list,"collapse");for(var e=0;e<this._items.length;e++)(0,d.default)(this._items[e],"spark-step-indicator__item--disabled")||this._items[e].removeAttribute("tabindex")},r.prototype.toggle=function(){if(this._dropdownHeader){var t=document.createEvent("Event");t.initEvent("spark.step-indicator",!0,!0),this._dropdownHeader.dispatchEvent(t)}},r.prototype._toggleDropdown=function(t){var e=t.target||t.srcElement;if(this._dropdownHeader.contains(e))if(this._dropdownExpand){(0,a.default)(this._list,"collapse"),(0,l.default)(this._dropdownHeader,"expand"),this._dropdownExpand=!1,this._dropdownHeader.setAttribute("aria-expanded","false");for(var i=0;i<this._items.length;i++)(0,d.default)(this._items[i],"spark-step-indicator__item--disabled")||this._items[i].setAttribute("tabindex","-1")}else{(0,l.default)(this._list,"collapse"),(0,a.default)(this._dropdownHeader,"expand"),this._dropdownExpand=!0,this._dropdownHeader.setAttribute("aria-expanded","true");for(var s=0;s<this._items.length;s++)(0,d.default)(this._items[s],"spark-step-indicator__item--disabled")||this._items[s].removeAttribute("tabindex")}else{(0,a.default)(this._list,"collapse"),(0,l.default)(this._dropdownHeader,"expand"),this._dropdownExpand=!1,this._dropdownHeader.setAttribute("aria-expanded","false");for(var r=0;r<this._items.length;r++)(0,d.default)(this._items[r],"spark-step-indicator__item--disabled")||this._items[r].setAttribute("tabindex","-1")}if(0<this._list.offsetHeight)for(var o=0,n=0;n<this._items.length;n++){if((0,d.default)(this._items[n],"spark-step-indicator__item--current")){this._list.scrollTop=o;break}o+=this._items[n].offsetHeight}},r.prototype._onLoad=function(){this._checkPadding(),this._calculateStyle()},r.prototype._onResize=function(){this._checkPadding(),this._calculateStyle()},r.prototype._checkPadding=function(){var t=getComputedStyle(this._list),e=parseInt(t.getPropertyValue("padding-left"),10),i=parseInt(t.getPropertyValue("padding-right"),10);this._listPaddingTotal=e+i},r.prototype._onVisible=function(t){t.target.contains(this.el)&&window.setTimeout(function(){this._calculateStyle()}.bind(this),0)},r}(s.default);c.prototype._whitelistedParams=["type","header","subtitle","dropdownLabel"],c.prototype.defaults={el:null,containerEl:null,header:null,subtitle:null,dropdownLabel:null,type:null,_body:null,_list:null,_listPaddingTotal:0,_dropdownExpand:!1,_dropdownHeader:null,_items:null,_onResizeBound:null,_onVisibleBound:null},i.default=c,e.exports=i.default},{"../helpers/dom/add-class":3,"../helpers/dom/has-class":4,"../helpers/dom/remove-class":5,"../helpers/traversal/get-parent":6,"../helpers/util/debounce":8,"./base":1}],3:[function(t,e,i){"use strict";Object.defineProperty(i,"__esModule",{value:!0});var a=s(t("../util/trim")),l=s(t("./has-class"));function s(t){return t&&t.__esModule?t:{default:t}}var d=/\s+/,u=/\s{2,}/g;i.default=function(t,e){if(1===(e=2===arguments.length&&"string"==typeof e?(0,a.default)(e).split(d):e instanceof Array?e:Array.prototype.slice.call(arguments,1)).length&&t.classList)return e[0]&&t.classList.add(e[0]),t;for(var i=[],s=0,r=e.length,o=void 0,n="string"==typeof t.className?t.className:t.getAttribute?t.getAttribute("class"):"";s<r;s++)(o=e[s])&&!(0,l.default)(n,o)&&i.push(o);return i.length&&("string"==typeof t.className?t.className=(0,a.default)((n+" "+i.join(" ")).replace(u," ")):t.setAttribute&&t.setAttribute("class",(0,a.default)((n+" "+i.join(" ")).replace(u," ")))),t},e.exports=i.default},{"../util/trim":10,"./has-class":4}],4:[function(t,e,i){"use strict";Object.defineProperty(i,"__esModule",{value:!0});var s="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t};i.default=function(t,e){return-1!==(" "+("object"===(void 0===t?"undefined":s(t))?t.className||t.getAttribute&&t.getAttribute("class")||"":t||"").replace(/[\t\r\n\f]/g," ")+" ").indexOf(" "+e+" ")},e.exports=i.default},{}],5:[function(t,e,i){"use strict";Object.defineProperty(i,"__esModule",{value:!0});var s,r=t("../util/trim"),l=(s=r)&&s.__esModule?s:{default:s};var d=/\s+/,u=/\s{2,}/g;i.default=function(t,e){if(1===(e=2===arguments.length&&"string"==typeof e?(0,l.default)(e).split(d):e instanceof Array?e:Array.prototype.slice.call(arguments,1)).length&&t.classList)return e[0]&&t.classList.remove(e[0]),t;for(var i=" "+("string"==typeof t.className?t.className:t.getAttribute?t.getAttribute("class"):"")+" ",s=i,r=void 0,o=void 0,n=0,a=e.length;n<a;n++)-1!==(o=(r=e[n])?s.indexOf(" "+r+" "):-1)&&(o+=1,s=s.slice(0,o)+s.slice(o+r.length));return i!==s&&("string"==typeof t.className?t.className=(0,l.default)(s.replace(u," ")):t.setAttribute&&t.setAttribute("class",(0,l.default)(s.replace(u," ")))),t},e.exports=i.default},{"../util/trim":10}],6:[function(t,e,i){"use strict";Object.defineProperty(i,"__esModule",{value:!0});var s,r=t("./matches"),o=(s=r)&&s.__esModule?s:{default:s};i.default=function(t,e,i){for(i=i instanceof Array?i:[i||document.body];t;){if((0,o.default)(t,e))return t;if(-1!==i.indexOf(t))return!1;t=t.parentNode}return!1},e.exports=i.default},{"./matches":7}],7:[function(t,e,i){"use strict";Object.defineProperty(i,"__esModule",{value:!0});var r="undefined"!=typeof Element&&(Element.prototype.matches||Element.prototype.matchesSelector||Element.prototype.webkitMatchesSelector||Element.prototype.mozMatchesSelector||Element.prototype.msMatchesSelector||Element.prototype.oMatchesSelector);i.default=function(t,e){if(r)return r.call(t,e);for(var i=t.parentNode?t.parentNode.querySelectorAll(e):[],s=0;s<i.length;s++)if(i[s]===t)return!0;return!1},e.exports=i.default},{}],8:[function(t,e,i){"use strict";Object.defineProperty(i,"__esModule",{value:!0}),i.default=function(e,i){var s=void 0;return function(){var t=arguments;s&&window.clearTimeout(s),s=window.setTimeout(function(){e.apply(this,t)},i)}},e.exports=i.default},{}],9:[function(t,e,i){"use strict";Object.defineProperty(i,"__esModule",{value:!0}),i.default=function(t,e){if(t){if("function"!=typeof e)throw new Error("Cannot invoke `each` without a callback!");var i=0,s=t.length;if(void 0===s)for(i in t)"prototype"!==i&&t.hasOwnProperty(i)&&e(i,t[i]);else for(;i<s;i++)e(t[i])}},e.exports=i.default},{}],10:[function(t,e,i){"use strict";Object.defineProperty(i,"__esModule",{value:!0});var s=/^[\s\uFEFF\xA0]+|[\s\uFEFF\xA0]+$/g;i.default=function(t){return t.replace(s,"")},e.exports=i.default},{}]},{},[2])(2)});