/* sabre-spark - v2.4.4 - 2018-3-6 DO NOT MODIFY THIS FILE DIRECTLY OR YOU WILL NOT BE ABLE TO UPDATE YOUR VERSION OF SPARK. */
!function(t){if("object"==typeof exports&&"undefined"!=typeof module)module.exports=t();else if("function"==typeof define&&define.amd)define([],t);else{var e;((e="undefined"!=typeof window?window:"undefined"!=typeof global?global:"undefined"!=typeof self?self:this).Spark||(e.Spark={})).ScrollToTop=t()}}(function(){return function s(r,l,a){function u(o,t){if(!l[o]){if(!r[o]){var e="function"==typeof require&&require;if(!t&&e)return e(o,!0);if(c)return c(o,!0);var i=new Error("Cannot find module '"+o+"'");throw i.code="MODULE_NOT_FOUND",i}var n=l[o]={exports:{}};r[o][0].call(n.exports,function(t){var e=r[o][1][t];return u(e||t)},n,n.exports,s,r,l,a)}return l[o].exports}for(var c="function"==typeof require&&require,t=0;t<a.length;t++)u(a[t]);return u}({1:[function(t,e,o){"use strict";Object.defineProperty(o,"__esModule",{value:!0});var i,n=t("../helpers/util/each"),s=(i=n)&&i.__esModule?i:{default:i};var r=function(){},l=function(){function o(t){var e=1<arguments.length&&void 0!==arguments[1]?arguments[1]:{};!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,o),e.elRequired&&!t||(this.setParams(this.defaults||{},!0),this.setParams(e),(this._cacheElements||r).call(this,t,e),(this._parseParams||r).call(this))}return o.prototype.remove=function(t){return this._removeEventListeners&&this._removeEventListeners(),!t&&this.el&&this.el.parentNode&&this.el.parentNode.removeChild(this.el),this.unsetParams(this.defaults),this},o.prototype.update=function(t){var e=1<arguments.length&&void 0!==arguments[1]?arguments[1]:{};return this._removeEventListeners&&this._removeEventListeners(),(this._cacheElements||r).call(this,t||this.el,e),(this._parseParams||r).call(this),this._addEventListeners&&this._addEventListeners(),this},o.prototype.setParams=function(t,o){var i=this;return(0,s.default)(t,function(t,e){(-1!==i._whitelistedParams.indexOf(t)||o)&&(i[t]=e)}),this},o.prototype.unsetParams=function(t,e){return t=t instanceof Array?t:Object.keys(t),e=e||this,(0,s.default)(t,function(t){delete e[t]}),this},o}();l.prototype._whitelistedParams=[],l.prototype.defaults={},o.default=l,e.exports=o.default},{"../helpers/util/each":12}],2:[function(t,e,o){"use strict";Object.defineProperty(o,"__esModule",{value:!0});var i=n(t("./base")),s=n(t("../helpers/dom/toggle-class")),r=n(t("../helpers/animation/scroll-to")),l=n(t("../helpers/dom/offset")),a=n(t("../helpers/util/debounce")),u=n(t("../helpers/util/each"));function n(t){return t&&t.__esModule?t:{default:t}}function c(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!=typeof e&&"function"!=typeof e?t:e}var d=function(){},f="undefined"!=typeof MutationObserver,h=function(i){function n(t){var e,o=1<arguments.length&&void 0!==arguments[1]?arguments[1]:{};return function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,n),o.elRequired=!0,(e=c(this,i.call(this,t,o)))&&(e._bindEventListenerCallbacks(),e._addEventListeners(),e._cacheSizes(),e._clearRecomputeDebounced=(0,a.default)(e._clearRecompute.bind(e),50),e._recomputeDebounced=(0,a.default)(e._recompute.bind(e),50),e._checkScrollPosition()),c(e)}return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}(n,i),n.prototype.scrollToTop=function(t){return(0,r.default)(this.scrollToEl||0,{callback:t||d}),this},n.prototype.update=function(t){return this._removeEventListeners(),this._cacheElements(t),this._addEventListeners(),this._cacheSizes(),this._checkScrollPosition(),this},n.prototype._cacheElements=function(t){this.el=t,this.containerEl=this.containerEl||t.parentNode},n.prototype._cacheSizes=function(){var t=(0,l.default)(this.containerEl),e=document.body.clientWidth,o=window.innerHeight,i=t.top,n=e-t.left-this.containerEl.offsetWidth;this._windowHeight=o,this._containerBottom=this.containerEl.offsetHeight+i,this._visibleThreshold=i+1.5*o;var s=this._isAtBottom;this._isAtBottom=!1,this._right=0,this._updateBindings(),this._right=e-this.el.offsetLeft-this.el.offsetWidth+n,this._isAtBottom=s,this._updateBindings()},n.prototype._checkScrollPosition=function(){var t=this._isVisible,e=this._isAtBottom,o=void 0!==window.scrollY?window.scrollY:window.pageYOffset,i=o+this._windowHeight;this._isVisible=o+this._windowHeight>=this._visibleThreshold,this._isAtBottom=this._containerBottom<=i,this._isAtBottom===e&&this._isVisible===t||this._updateBindings()},n.prototype._updateBindings=function(){(0,s.default)(this.el,"visible",this._isVisible),(0,s.default)(this.el,"at-bottom",this._isAtBottom),this.el.style.right=this._isAtBottom||!this._right?"":this._right+"px"},n.prototype._bindEventListenerCallbacks=function(){this._onClickBound=this._onClick.bind(this),this._onScrollBound=this._onScroll.bind(this),this._onResizeBound=this._onResize.bind(this),this._onVisibleBound=this._onVisible.bind(this),this._onMutateBound=this._onMutate.bind(this)},n.prototype._addEventListeners=function(){this.el.addEventListener("click",this._onClickBound),window.addEventListener("scroll",this._onScrollBound),window.addEventListener("orientationchange",this._onScrollBound),document.addEventListener("spark.visible-children",this._onVisibleBound,!0),f?this._addMutationObserver():window.addEventListener("resize",this._onResizeBound,!1)},n.prototype._removeEventListeners=function(){this.el.removeEventListener("click",this._onClickBound),window.removeEventListener("scroll",this._onScrollBound),window.removeEventListener("orientationchange",this._onScrollBound),document.removeEventListener("spark.visible-children",this._onVisibleBound,!0),f?this._removeMutationObserver():window.removeEventListener("resize",this._onResizeBound)},n.prototype._addMutationObserver=function(){this._observer=new MutationObserver(this._onMutateBound),this._observer.observe(this.containerEl,{childList:!0,attributes:!0,characterData:!0,subtree:!0})},n.prototype._removeMutationObserver=function(){this._observer&&this._observer.disconnect()},n.prototype._recompute=function(){this._cacheSizes(),this._checkScrollPosition()},n.prototype._recomputeThrottled=function(){this._recomputeRun||(this._recompute(),this._recomputeRun=!0),this._clearRecomputeDebounced()},n.prototype._clearRecompute=function(){this._recomputeRun=!1},n.prototype._onScroll=function(){this._recomputeThrottled(),this._checkScrollPosition()},n.prototype._onResize=function(){this._recomputeDebounced()},n.prototype._onClick=function(){this.scrollToTop()},n.prototype._onVisible=function(t){t.target.contains(this.el)&&window.setTimeout(function(){this._cacheSizes(),this._checkScrollPosition()}.bind(this),0)},n.prototype._onMutate=function(t){(0,u.default)(t,function(t){t.target!==this.el&&this._recomputeDebounced()}.bind(this))},n}(i.default);h.prototype._whitelistedParams=["containerEl","scrollToEl"],h.prototype.defaults={el:null,containerEl:null,scrollToEl:null,_isVisible:!1,_isAtBottom:!1,_containerBottom:0,_visibleThreshold:0,_windowHeight:0,_right:0,_recomputeRun:!1,_observer:null,_onClickBound:null,_onScrollBound:null,_onVisibleBound:null,_onResizeBound:null,_onMutateBound:null},o.default=h,e.exports=o.default},{"../helpers/animation/scroll-to":4,"../helpers/dom/offset":8,"../helpers/dom/toggle-class":10,"../helpers/util/debounce":11,"../helpers/util/each":12,"./base":1}],3:[function(t,e,o){"use strict";Object.defineProperty(o,"__esModule",{value:!0});var n,s,i=window.requestAnimationFrame||window.msRequestAnimationFrame||window.mozRequestAnimationFrame||window.webkitRequestAnimationFrame||(n=Date.now(),s=n,function(t){var e=Date.now(),o=Math.max(0,1e3/60-(e-s)),i=e+o;return s=i,window.setTimeout(function(){t(i-n)},o)});o.default=i,e.exports=o.default},{}],4:[function(t,e,o){"use strict";Object.defineProperty(o,"__esModule",{value:!0});var l=i(t("../dom/offset")),a=i(t("./tween"));function i(t){return t&&t.__esModule?t:{default:t}}o.default=function(t){var e=void 0,o=void 0,i=void 0,n=(t=t||{}).target||window,s=n!==window?n.scrollLeft:n.pageXOffset,r=n!==window?n.scrollTop:n.pageYOffset;t instanceof HTMLElement?(o=(e=(0,l.default)(t)).left,i=e.top,t=arguments[1]||{}):(o=t.x||0,i=t.y||0),(0,a.default)({target:n,prop:"scrollTo",start:[s,r],end:[o,i],duration:t.duration,callback:t.callback})},e.exports=o.default},{"../dom/offset":8,"./tween":5}],5:[function(t,e,o){"use strict";Object.defineProperty(o,"__esModule",{value:!0});var i,n=t("./request"),_=(i=n)&&i.__esModule?i:{default:i};var s=function(){};o.default=function(t){var a,u=(t=t||{}).target;if(!u)throw new Error("Cannot tween without a target!");var c="string"==typeof t.prop?[t.prop]:t.prop,d="number"==typeof t.start?[t.start]:t.start,f="number"==typeof t.end?[t.end]:t.end,h=t.duration||250,p=t.callback||s;if(d.length!==f.length)throw new Error("Cannot tween two different sets of parameters!");return(0,_.default)(function t(e){a||(a=e);for(var o,i=e-a,n=Math.min(i/h,1),s=[],r=0,l=d.length;r<l;r++)s[r]=d[r]+(f[r]-d[r])*n;for(r=0,l=c.length;r<l;r++)o=r+1===l&&s.length-1>r?s.slice(r):s[r],"function"==typeof u[c[r]]?u[c[r]].apply(u,o):u[c[r]]=o;i<h?(0,_.default)(t):p()})},e.exports=o.default},{"./request":3}],6:[function(t,e,o){"use strict";Object.defineProperty(o,"__esModule",{value:!0});var l=i(t("../util/trim")),a=i(t("./has-class"));function i(t){return t&&t.__esModule?t:{default:t}}var u=/\s+/,c=/\s{2,}/g;o.default=function(t,e){if(1===(e=2===arguments.length&&"string"==typeof e?(0,l.default)(e).split(u):e instanceof Array?e:Array.prototype.slice.call(arguments,1)).length&&t.classList)return e[0]&&t.classList.add(e[0]),t;for(var o=[],i=0,n=e.length,s=void 0,r="string"==typeof t.className?t.className:t.getAttribute?t.getAttribute("class"):"";i<n;i++)(s=e[i])&&!(0,a.default)(r,s)&&o.push(s);return o.length&&("string"==typeof t.className?t.className=(0,l.default)((r+" "+o.join(" ")).replace(c," ")):t.setAttribute&&t.setAttribute("class",(0,l.default)((r+" "+o.join(" ")).replace(c," ")))),t},e.exports=o.default},{"../util/trim":13,"./has-class":7}],7:[function(t,e,o){"use strict";Object.defineProperty(o,"__esModule",{value:!0});var i="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t};o.default=function(t,e){return-1!==(" "+("object"===(void 0===t?"undefined":i(t))?t.className||t.getAttribute&&t.getAttribute("class")||"":t||"").replace(/[\t\r\n\f]/g," ")+" ").indexOf(" "+e+" ")},e.exports=o.default},{}],8:[function(t,e,o){"use strict";Object.defineProperty(o,"__esModule",{value:!0}),o.default=function(t,e){var o={top:0,left:0};if(t.getBoundingClientRect){var i=t.getBoundingClientRect();o.left=i.left,o.top=i.top,e||(o.left+=void 0!==window.scrollX?window.scrollX:window.pageXOffset,o.top+=void 0!==window.scrollY?window.scrollY:window.pageYOffset)}else{for(var n=0,s=0;n+=t.offsetLeft-(e?0:t.scrollLeft),s+=t.offsetTop-(e?0:t.scrollTop),t=t.offsetParent;);o.left=n,o.top=s}return o},e.exports=o.default},{}],9:[function(t,e,o){"use strict";Object.defineProperty(o,"__esModule",{value:!0});var i,n=t("../util/trim"),a=(i=n)&&i.__esModule?i:{default:i};var u=/\s+/,c=/\s{2,}/g;o.default=function(t,e){if(1===(e=2===arguments.length&&"string"==typeof e?(0,a.default)(e).split(u):e instanceof Array?e:Array.prototype.slice.call(arguments,1)).length&&t.classList)return e[0]&&t.classList.remove(e[0]),t;for(var o=" "+("string"==typeof t.className?t.className:t.getAttribute?t.getAttribute("class"):"")+" ",i=o,n=void 0,s=void 0,r=0,l=e.length;r<l;r++)-1!==(s=(n=e[r])?i.indexOf(" "+n+" "):-1)&&(s+=1,i=i.slice(0,s)+i.slice(s+n.length));return o!==i&&("string"==typeof t.className?t.className=(0,a.default)(i.replace(c," ")):t.setAttribute&&t.setAttribute("class",(0,a.default)(i.replace(c," ")))),t},e.exports=o.default},{"../util/trim":13}],10:[function(t,e,o){"use strict";Object.defineProperty(o,"__esModule",{value:!0});var r=i(t("./has-class")),l=i(t("./add-class")),a=i(t("./remove-class"));function i(t){return t&&t.__esModule?t:{default:t}}o.default=function t(e,o,i){if(e){if(!(e instanceof NodeList||e instanceof Array))return("add"==(void 0!==i?(i="function"==typeof i?i.call(null,e):i)?"add":"remove":(0,r.default)(e,o)?"remove":"add")?l.default:a.default)(e,o);for(var n=0,s=e.length;n<s;n++)t(e[n],o,i)}},e.exports=o.default},{"./add-class":6,"./has-class":7,"./remove-class":9}],11:[function(t,e,o){"use strict";Object.defineProperty(o,"__esModule",{value:!0}),o.default=function(e,o){var i=void 0;return function(){var t=arguments;i&&window.clearTimeout(i),i=window.setTimeout(function(){e.apply(this,t)},o)}},e.exports=o.default},{}],12:[function(t,e,o){"use strict";Object.defineProperty(o,"__esModule",{value:!0}),o.default=function(t,e){if(t){if("function"!=typeof e)throw new Error("Cannot invoke `each` without a callback!");var o=0,i=t.length;if(void 0===i)for(o in t)"prototype"!==o&&t.hasOwnProperty(o)&&e(o,t[o]);else for(;o<i;o++)e(t[o])}},e.exports=o.default},{}],13:[function(t,e,o){"use strict";Object.defineProperty(o,"__esModule",{value:!0});var i=/^[\s\uFEFF\xA0]+|[\s\uFEFF\xA0]+$/g;o.default=function(t){return t.replace(i,"")},e.exports=o.default},{}]},{},[2])(2)});