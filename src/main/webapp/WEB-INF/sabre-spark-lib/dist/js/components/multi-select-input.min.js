/* sabre-spark - v2.4.4 - 2018-3-6 DO NOT MODIFY THIS FILE DIRECTLY OR YOU WILL NOT BE ABLE TO UPDATE YOUR VERSION OF SPARK. */
!function(e){if("object"==typeof exports&&"undefined"!=typeof module)module.exports=e();else if("function"==typeof define&&define.amd)define([],e);else{var t;((t="undefined"!=typeof window?window:"undefined"!=typeof global?global:"undefined"!=typeof self?self:this).Spark||(t.Spark={})).MultiSelectInput=e()}}(function(){return function l(r,o,a){function u(s,e){if(!o[s]){if(!r[s]){var t="function"==typeof require&&require;if(!e&&t)return t(s,!0);if(c)return c(s,!0);var i=new Error("Cannot find module '"+s+"'");throw i.code="MODULE_NOT_FOUND",i}var n=o[s]={exports:{}};r[s][0].call(n.exports,function(e){var t=r[s][1][e];return u(t||e)},n,n.exports,l,r,o,a)}return o[s].exports}for(var c="function"==typeof require&&require,e=0;e<a.length;e++)u(a[e]);return u}({1:[function(e,t,s){"use strict";Object.defineProperty(s,"__esModule",{value:!0});var i,n=e("../helpers/util/each"),l=(i=n)&&i.__esModule?i:{default:i};var r=function(){},o=function(){function s(e){var t=1<arguments.length&&void 0!==arguments[1]?arguments[1]:{};!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,s),t.elRequired&&!e||(this.setParams(this.defaults||{},!0),this.setParams(t),(this._cacheElements||r).call(this,e,t),(this._parseParams||r).call(this))}return s.prototype.remove=function(e){return this._removeEventListeners&&this._removeEventListeners(),!e&&this.el&&this.el.parentNode&&this.el.parentNode.removeChild(this.el),this.unsetParams(this.defaults),this},s.prototype.update=function(e){var t=1<arguments.length&&void 0!==arguments[1]?arguments[1]:{};return this._removeEventListeners&&this._removeEventListeners(),(this._cacheElements||r).call(this,e||this.el,t),(this._parseParams||r).call(this),this._addEventListeners&&this._addEventListeners(),this},s.prototype.setParams=function(e,s){var i=this;return(0,l.default)(e,function(e,t){(-1!==i._whitelistedParams.indexOf(e)||s)&&(i[e]=t)}),this},s.prototype.unsetParams=function(e,t){return e=e instanceof Array?e:Object.keys(e),t=t||this,(0,l.default)(e,function(e){delete t[e]}),this},s}();o.prototype._whitelistedParams=[],o.prototype.defaults={},s.default=o,t.exports=s.default},{"../helpers/util/each":10}],2:[function(e,t,s){"use strict";Object.defineProperty(s,"__esModule",{value:!0});var i=u(e("./base")),n=u(e("../helpers/util/mixin")),l=u(e("../mixins/messaging")),r=u(e("../mixins/validation")),o=u(e("../helpers/dom/make-element")),a=u(e("../helpers/util/each"));function u(e){return e&&e.__esModule?e:{default:e}}function c(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}var f=function(){},d=function(i){function n(e){var t,s=1<arguments.length&&void 0!==arguments[1]?arguments[1]:{};return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,n),s.elRequired=!0,(t=c(this,i.call(this,e,s)))&&(t._bindEventListenerCallbacks(),t._addEventListeners()),c(t)}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(n,i),n.prototype.getValue=function(){var t=[];return(0,a.default)(this._isNative?this.selectEl.options:this.checkboxEls,function(e){(e.checked||e.selected)&&t.push(e.value)}),t},n.prototype.setValue=function(t){var s=[],i=this._isNative?"selected":"checked";return(0,a.default)(this._isNative?this.selectEl.options:this.checkboxEls,function(e){-1!==t.indexOf(e.value)?(e[i]=!0,s.push(e.value)):e[i]=!1}),(this.onChange||f)(s,this),this},n.prototype.clearValue=function(){return this.setValue([])},n.prototype.disable=function(){return(this.selectEl||this.el).setAttribute("disabled",""),this},n.prototype.enable=function(){return(this.selectEl||this.el).removeAttribute("disabled"),this},n.prototype._cacheElements=function(e){if(this.el=e,this.selectEl=this.el.querySelector("select"),this.checkboxEls=this.el.querySelectorAll('[type="checkbox"]'),!this.selectEl&&!this.checkboxEls.length)throw new Error("Multi select needs either a select input or a series of checkboxes.");this.messageEl=this.el.querySelector(".spark-select__message")||(0,o.default)('<span class="spark-select__message"></span>')},n.prototype._parseParams=function(){this._isNative=!!this.selectEl},n.prototype._bindEventListenerCallbacks=function(){this._onInputBound=this._onInput.bind(this)},n.prototype._addEventListeners=function(){this._isNative?this.selectEl.addEventListener("change",this._onInputBound):this.el.addEventListener("change",this._onInputBound,!0)},n.prototype._removeEventListeners=function(){this._isNative?this.selectEl.removeEventListener("change",this._onInputBound):this.el.removeEventListener("change",this._onInputBound,!0)},n.prototype._onInput=function(){var e=this.getValue();e!==this.previousValue&&(this.previousValue=e,(this.onChange||f)(e,this))},n}(i.default);d.prototype._whitelistedParams=["validate","onValidate","onChange"],d.prototype.defaults={el:null,messageEl:null,selectEl:null,labelEl:null,onChange:null,previousValue:null,_isNative:!1,_onFocusBound:null,_onBlurBound:null,_onInputBound:null},(0,n.default)(d.prototype,l.default,r.default),s.default=d,t.exports=s.default},{"../helpers/dom/make-element":6,"../helpers/util/each":10,"../helpers/util/mixin":11,"../mixins/messaging":13,"../mixins/validation":14,"./base":1}],3:[function(e,t,s){"use strict";Object.defineProperty(s,"__esModule",{value:!0});var p=i(e("../dom/outer-height")),g=i(e("../dom/add-class")),m=i(e("../dom/remove-class")),v=i(e("../dom/has-class")),y=i(e("../dom/toggle-class"));function i(e){return e&&e.__esModule?e:{default:e}}var _=function(){},b={els:[],completeCallbacks:[]};function E(e){e.toggleClassName?(0,y.default)(e.el,e.toggleClassName,!e.collapse):e.toggleEl.style[e.toggleProperty]="",e.el.style.height="",e.toggleEl.style.height="",e.toggleEl.style.marginBottom="",e.toggleEl.style.marginTop="",(0,m.default)(e.el,e.heightAnimationClass),(0,m.default)(e.toggleEl,e.heightAnimationClass),e.onComplete();var t=b.els.indexOf(e.el);b.els.splice(t,1),b.completeCallbacks.splice(t,1)}s.default=function(i){var n=(i=i||{}).el;if(n){var l=i.action&&"collapse"===i.action,r=i.heightAnimationClass||"spark-animate-height",o="string"==typeof i.toggleEl?n.querySelector(i.toggleEl):i.toggleEl;if(o&&!(0,v.default)(n,"spark-no-animate")){var a=i.toggleClass,u=i.toggleProperty||"display",c=window.getComputedStyle(o),f=c[u],d=i.toggleValue||function(e,t,s){switch(t){case"overflow":case"visibility":return"visible"===s?"hidden":"visible";default:return"block"===s||"inline-block"===s?"none":"block"}}(0,f),e=b.els.indexOf(n);if(-1!==e){var t=b.completeCallbacks[e];t&&clearTimeout(t),E({el:n,toggleEl:o,onComplete:i.onComplete||_,collapse:l,toggleProperty:u,toggleClassName:a,toggleValue:d,heightAnimationClass:r})}var h=(0,p.default)(n);a?(0,y.default)(n,a,!l):o.style[u]=d,l?setTimeout(s,0):s()}}function s(){var e=(0,p.default)(n),t=void 0,s=void 0;l?(a?(0,m.default)(n,a):o.style[u]=f,s=(0,p.default)(o,c),t=0):(t=(0,p.default)(o,c),s=0),n.style.height=h+"px",o.style.height=s+"px",o.style.marginBottom="0px",o.style.marginTop="0px",(0,g.default)(n,r),(0,g.default)(o,r),b.els.push(n),setTimeout(function(){n.style.height=e+"px",o.style.height=t+"px",b.completeCallbacks.push(setTimeout(function(){E({el:n,toggleEl:o,onComplete:i.onComplete||_,collapse:l,toggleProperty:u,toggleClassName:a,toggleValue:d,heightAnimationClass:r})},void 0!==i.animationDuration?i.animationDuration:201))},0)}},t.exports=s.default},{"../dom/add-class":4,"../dom/has-class":5,"../dom/outer-height":7,"../dom/remove-class":8,"../dom/toggle-class":9}],4:[function(e,t,s){"use strict";Object.defineProperty(s,"__esModule",{value:!0});var o=i(e("../util/trim")),a=i(e("./has-class"));function i(e){return e&&e.__esModule?e:{default:e}}var u=/\s+/,c=/\s{2,}/g;s.default=function(e,t){if(1===(t=2===arguments.length&&"string"==typeof t?(0,o.default)(t).split(u):t instanceof Array?t:Array.prototype.slice.call(arguments,1)).length&&e.classList)return t[0]&&e.classList.add(t[0]),e;for(var s=[],i=0,n=t.length,l=void 0,r="string"==typeof e.className?e.className:e.getAttribute?e.getAttribute("class"):"";i<n;i++)(l=t[i])&&!(0,a.default)(r,l)&&s.push(l);return s.length&&("string"==typeof e.className?e.className=(0,o.default)((r+" "+s.join(" ")).replace(c," ")):e.setAttribute&&e.setAttribute("class",(0,o.default)((r+" "+s.join(" ")).replace(c," ")))),e},t.exports=s.default},{"../util/trim":12,"./has-class":5}],5:[function(e,t,s){"use strict";Object.defineProperty(s,"__esModule",{value:!0});var i="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e};s.default=function(e,t){return-1!==(" "+("object"===(void 0===e?"undefined":i(e))?e.className||e.getAttribute&&e.getAttribute("class")||"":e||"").replace(/[\t\r\n\f]/g," ")+" ").indexOf(" "+t+" ")},t.exports=s.default},{}],6:[function(e,t,s){"use strict";Object.defineProperty(s,"__esModule",{value:!0}),s.default=function(e){if(!e)throw new Error("Cannot create element with no HTML!");var t=document.createElement("div");t.innerHTML=e;var s=t.children[0];return s.parentNode.removeChild(s),s},t.exports=s.default},{}],7:[function(e,t,s){"use strict";Object.defineProperty(s,"__esModule",{value:!0});var i,n=e("../util/each"),l=(i=n)&&i.__esModule?i:{default:i};var r=["marginTop","marginBottom","borderTop","borderBottom"];s.default=function(e,t){t=t||window.getComputedStyle(e);var s=e.clientHeight;return(0,l.default)(r,function(e){s+=parseInt(t[e]||0,10)}),s},t.exports=s.default},{"../util/each":10}],8:[function(e,t,s){"use strict";Object.defineProperty(s,"__esModule",{value:!0});var i,n=e("../util/trim"),a=(i=n)&&i.__esModule?i:{default:i};var u=/\s+/,c=/\s{2,}/g;s.default=function(e,t){if(1===(t=2===arguments.length&&"string"==typeof t?(0,a.default)(t).split(u):t instanceof Array?t:Array.prototype.slice.call(arguments,1)).length&&e.classList)return t[0]&&e.classList.remove(t[0]),e;for(var s=" "+("string"==typeof e.className?e.className:e.getAttribute?e.getAttribute("class"):"")+" ",i=s,n=void 0,l=void 0,r=0,o=t.length;r<o;r++)-1!==(l=(n=t[r])?i.indexOf(" "+n+" "):-1)&&(l+=1,i=i.slice(0,l)+i.slice(l+n.length));return s!==i&&("string"==typeof e.className?e.className=(0,a.default)(i.replace(c," ")):e.setAttribute&&e.setAttribute("class",(0,a.default)(i.replace(c," ")))),e},t.exports=s.default},{"../util/trim":12}],9:[function(e,t,s){"use strict";Object.defineProperty(s,"__esModule",{value:!0});var r=i(e("./has-class")),o=i(e("./add-class")),a=i(e("./remove-class"));function i(e){return e&&e.__esModule?e:{default:e}}s.default=function e(t,s,i){if(t){if(!(t instanceof NodeList||t instanceof Array))return("add"==(void 0!==i?(i="function"==typeof i?i.call(null,t):i)?"add":"remove":(0,r.default)(t,s)?"remove":"add")?o.default:a.default)(t,s);for(var n=0,l=t.length;n<l;n++)e(t[n],s,i)}},t.exports=s.default},{"./add-class":4,"./has-class":5,"./remove-class":8}],10:[function(e,t,s){"use strict";Object.defineProperty(s,"__esModule",{value:!0}),s.default=function(e,t){if(e){if("function"!=typeof t)throw new Error("Cannot invoke `each` without a callback!");var s=0,i=e.length;if(void 0===i)for(s in e)"prototype"!==s&&e.hasOwnProperty(s)&&t(s,e[s]);else for(;s<i;s++)t(e[s])}},t.exports=s.default},{}],11:[function(e,t,s){"use strict";Object.defineProperty(s,"__esModule",{value:!0}),s.default=function(s){for(var e=arguments.length,t=Array(1<e?e-1:0),i=1;i<e;i++)t[i-1]=arguments[i];(0,l.default)(t,function(e){for(var t in e)e.hasOwnProperty(t)&&!s[t]&&(s[t]=e[t])})};var i,n=e("./each"),l=(i=n)&&i.__esModule?i:{default:i};t.exports=s.default},{"./each":10}],12:[function(e,t,s){"use strict";Object.defineProperty(s,"__esModule",{value:!0});var i=/^[\s\uFEFF\xA0]+|[\s\uFEFF\xA0]+$/g;s.default=function(e){return e.replace(i,"")},t.exports=s.default},{}],13:[function(e,t,s){"use strict";Object.defineProperty(s,"__esModule",{value:!0});var i,n=e("../helpers/animation/height"),l=(i=n)&&i.__esModule?i:{default:i};s.default={setError:function(e){return this._isMessageVisible()||this._showMessage(),this.clearWarning(),this.clearSuccess(),this.el.setAttribute("data-error",!0),e&&this.setMessage(e),this},clearError:function(){return this.el.removeAttribute("data-error",!0),this},setWarning:function(e){return this._isMessageVisible()||this._showMessage(),this.clearError(),this.clearSuccess(),this.el.setAttribute("data-warning",!0),e&&this.setMessage(e),this},clearWarning:function(){return this.el.removeAttribute("data-warning",!0),this},setSuccess:function(e){return this._isMessageVisible()||this._showMessage(),this.clearError(),this.clearWarning(),this.el.setAttribute("data-success",!0),e&&this.setMessage(e),this},clearSuccess:function(){return this.el.removeAttribute("data-success",!0),this},clearMessages:function(){return this._hideMessage(function(){this.clearError(),this.clearWarning(),this.clearSuccess()}.bind(this)),this},setMessage:function(e){return this.messageEl.innerHTML=e,this},_showMessage:function(){this.messageEl.parentNode||this.el.appendChild(this.messageEl),(0,l.default)({el:this.el,toggleEl:this.messageEl})},_hideMessage:function(e){(0,l.default)({el:this.el,toggleEl:this.messageEl,toggleValue:"none",action:"collapse",onComplete:e})},_isMessageVisible:function(){return this.el.getAttribute("data-error")||this.el.getAttribute("data-warning")||this.el.getAttribute("data-success")}},t.exports=s.default},{"../helpers/animation/height":3}],14:[function(e,t,s){"use strict";Object.defineProperty(s,"__esModule",{value:!0}),s.default={validate:function(){var e=this.validatePattern;if(!this.onValidate||!e)return this;var t=new RegExp(e);return this.onValidate(t.test(this.getValue()),this.getValue(),this),this}},t.exports=s.default},{}]},{},[2])(2)});