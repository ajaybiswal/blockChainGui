{"version":3,"sources":["helpers/animation/tween.js"],"names":["noop","tween","params","begin","obj","target","Error","prop","start","end","duration","callback","length","f","ts","prog","per","Math","min","args","i","len","arg","slice","apply"],"mappings":";;;;;;AAMA;;;;;;AAEA,IAAIA,OAAO,SAAPA,IAAO,GAAW,CAAE,CAAxB;;AAEA;;;;;AAVA;;;;;;AAeA,SAASC,KAAT,CAAeC,MAAf,EAAuB;;AAErBA,WAASA,UAAU,EAAnB;;AAEA,MAAIC,KAAJ;AACA,MAAIC,MAAMF,OAAOG,MAAjB;;AAEA,MAAI,CAACD,GAAL,EAAU;AACR,UAAM,IAAIE,KAAJ,CAAU,gCAAV,CAAN;AACD;;AAED,MAAIC,OAAO,OAAOL,OAAOK,IAAd,KAAuB,QAAvB,GAAkC,CAACL,OAAOK,IAAR,CAAlC,GAAkDL,OAAOK,IAApE;AACA,MAAIC,QAAQ,OAAON,OAAOM,KAAd,KAAwB,QAAxB,GAAmC,CAACN,OAAOM,KAAR,CAAnC,GAAoDN,OAAOM,KAAvE;AACA,MAAIC,MAAM,OAAOP,OAAOO,GAAd,KAAsB,QAAtB,GAAiC,CAACP,OAAOO,GAAR,CAAjC,GAAgDP,OAAOO,GAAjE;AACA,MAAIC,WAAWR,OAAOQ,QAAP,IAAmB,GAAlC;AACA,MAAIC,WAAWT,OAAOS,QAAP,IAAmBX,IAAlC;;AAEA;AACA,MAAIQ,MAAMI,MAAN,KAAiBH,IAAIG,MAAzB,EAAiC;AAC/B,UAAM,IAAIN,KAAJ,CAAU,gDAAV,CAAN;AACD;;AAED,MAAIO,IAAI,SAAJA,CAAI,CAASC,EAAT,EAAa;;AAEnB;AACA,QAAI,CAACX,KAAL,EACEA,QAAQW,EAAR;;AAEF;AACA,QAAIC,OAAOD,KAAKX,KAAhB;;AAEA;AACA,QAAIa,MAAMC,KAAKC,GAAL,CAASH,OAAOL,QAAhB,EAA0B,CAA1B,CAAV;;AAEA;AACA,QAAIS,OAAO,EAAX;AACA,QAAIC,IAAI,CAAR;AACA,QAAIC,MAAMb,MAAMI,MAAhB;AACA,WAAOQ,IAAIC,GAAX,EAAgBD,GAAhB,EAAqB;AACnBD,WAAKC,CAAL,IAAUZ,MAAMY,CAAN,IAAY,CAACX,IAAIW,CAAJ,IAASZ,MAAMY,CAAN,CAAV,IAAsBJ,GAA5C;AACD;;AAED;AACAI,QAAI,CAAJ;AACAC,UAAMd,KAAKK,MAAX;AACA,QAAIU,GAAJ;AACA,WAAOF,IAAIC,GAAX,EAAgBD,GAAhB,EAAqB;;AAEnB;AACAE,YAAMF,IAAI,CAAJ,KAAUC,GAAV,IAAiBF,KAAKP,MAAL,GAAc,CAAd,GAAkBQ,CAAnC,GAAuCD,KAAKI,KAAL,CAAWH,CAAX,CAAvC,GAAuDD,KAAKC,CAAL,CAA7D;;AAEA,UAAI,OAAOhB,IAAIG,KAAKa,CAAL,CAAJ,CAAP,KAAwB,UAA5B,EAAwC;AACtChB,YAAIG,KAAKa,CAAL,CAAJ,EAAaI,KAAb,CAAmBpB,GAAnB,EAAwBkB,GAAxB;AACD,OAFD,MAEO;AACLlB,YAAIG,KAAKa,CAAL,CAAJ,IAAeE,GAAf;AACD;AACF;;AAED;AACA,QAAIP,OAAOL,QAAX,EACE,uBAAQG,CAAR,EADF,KAGEF;AACH,GAzCD;;AA2CA,SAAO,uBAAQE,CAAR,CAAP;AACD;;kBAEcZ,K","file":"tween.js","sourcesContent":["/**\n * # Tween\n * Tween between two values.\n * @module helpers/animation/tween.js\n */\n\nimport request from './request';\n\nlet noop = function() {};\n\n/**\n * Tween from one value to another.\n * @param {Object} params\n * @return {Long}\n */\nfunction tween(params) {\n\n  params = params || {};\n\n  var begin;\n  var obj = params.target;\n\n  if (!obj) {\n    throw new Error('Cannot tween without a target!');\n  }\n\n  var prop = typeof params.prop === 'string' ? [params.prop] : params.prop;\n  var start = typeof params.start === 'number' ? [params.start] : params.start;\n  var end = typeof params.end === 'number' ? [params.end] : params.end;\n  var duration = params.duration || 250;\n  var callback = params.callback || noop;\n\n  // Ensure we have the same number of start and end properties.\n  if (start.length !== end.length) {\n    throw new Error('Cannot tween two different sets of parameters!');\n  }\n\n  var f = function(ts) {\n\n    // Keep track of when we start\n    if (!begin)\n      begin = ts;\n\n    // Progress\n    var prog = ts - begin;\n\n    // Percentage complete\n    var per = Math.min(prog / duration, 1);\n\n    // Adjust the values for the percentage complete.\n    var args = [];\n    var i = 0;\n    var len = start.length;\n    for (; i < len; i++) {\n      args[i] = start[i] + ((end[i] - start[i]) * per);\n    }\n\n    // Apply the values for each property.\n    i = 0;\n    len = prop.length;\n    var arg;\n    for (; i < len; i++) {\n\n      // If this is the last property but we have more arguments, set them all.\n      arg = i + 1 === len && args.length - 1 > i ? args.slice(i) : args[i];\n\n      if (typeof obj[prop[i]] === 'function') {\n        obj[prop[i]].apply(obj, arg);\n      } else {\n        obj[prop[i]] = arg;\n      }\n    }\n\n    // Keep going if we have more to do.\n    if (prog < duration)\n      request(f);\n    else\n      callback();\n  };\n\n  return request(f);\n}\n\nexport default tween;\n"]}