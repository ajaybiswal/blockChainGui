<!DOCTYPE html>
<html>
  <head>
    <meta name="viewport" content="width=device-width" charset="utf-8">
    <title>Sabre Spark</title>
    <link rel="stylesheet" href="../css/bootstrap.min.css">
    <link rel="stylesheet" href="../css/cayman.min.css">
    <link rel="stylesheet" href="../css/prism.min.css">
    <link rel="stylesheet" href="../css/index.min.css">
    <link rel="stylesheet" href="../css/docs.min.css">
    <link rel="stylesheet" href="../css/bootstrap-responsive.min.css">
  </head>
  <body data-spy="scroll" data-target=".scrollspy">
    <div class="navbar navbar-inverse navbar-fixed-top">
      <div class="navbar-inner">
        <div class="container"><a class="brand">Mr. Doc</a>
          <div class="nav-collapse collapse">
            <ul class="nav pull-right sponsored"></ul>
          </div>
        </div>
      </div>
    </div>
    <header id="overview" class="jumbotron subhead">
      <div class="container">
        <h1>Sabre Spark</h1>
        <p class="lead"></p>
      </div>
    </header>
    <div class="container">
      <div class="row">
        <div class="span3 bs-docs-sidebar">
          <ul class="nav nav-list bs-docs-sidenav affix-top">
            <li><a href="../index.html">Main</a></li>
            <li><a href="../components/base.js.html">components/base.js</a></li>
            <li><a href="../components/calendar-popover.js.html">components/calendar-popover.js</a></li>
            <li><a href="../components/carousel.js.html">components/carousel.js</a></li>
            <li><a href="../components/date-input.js.html">components/date-input.js</a></li>
            <li><a href="../components/date-select.js.html">components/date-select.js</a></li>
            <li><a href="../components/date-typeahead.js.html">components/date-typeahead.js</a></li>
            <li><a href="../components/expand.js.html">components/expand.js</a></li>
            <li><a href="../components/filter-module.js.html">components/filter-module.js</a></li>
            <li><a href="../components/filter.js.html">components/filter.js</a></li>
            <li><a href="../components/header.js.html">components/header.js</a></li>
            <li><a href="../components/menu.js.html">components/menu.js</a></li>
            <li><a href="../components/modal.js.html">components/modal.js</a></li>
            <li><a href="../components/multi-select-input.js.html">components/multi-select-input.js</a></li>
            <li><a href="../components/number-selector.js.html">components/number-selector.js</a></li>
            <li><a href="../components/popover.js.html">components/popover.js</a></li>
            <li><a href="../components/progress-indicator.js.html">components/progress-indicator.js</a></li>
            <li><a href="../components/range-slider.js.html">components/range-slider.js</a></li>
            <li><a href="../components/scroll-to-top.js.html">components/scroll-to-top.js</a></li>
            <li><a href="../components/select-input.js.html">components/select-input.js</a></li>
            <li><a href="../components/slider.js.html">components/slider.js</a></li>
            <li><a href="../components/step-indicator.js.html">components/step-indicator.js</a></li>
            <li><a href="../components/table.js.html">components/table.js</a></li>
            <li><a href="../components/tabs.js.html">components/tabs.js</a></li>
            <li><a href="../components/text-input.js.html">components/text-input.js</a></li>
            <li><a href="../components/toggle-switch.js.html">components/toggle-switch.js</a></li>
            <li class="active"><a href="../components/toolbar.js.html">components/toolbar.js</a></li>
            <li><a href="../components/tooltip.js.html">components/tooltip.js</a></li>
            <li><a href="../components/typeahead.js.html">components/typeahead.js</a></li>
            <li><a href="../helpers/animation/cancel.js.html">helpers/animation/cancel.js</a></li>
            <li><a href="../helpers/animation/height.js.html">helpers/animation/height.js</a></li>
            <li><a href="../helpers/animation/request.js.html">helpers/animation/request.js</a></li>
            <li><a href="../helpers/animation/scroll-to.js.html">helpers/animation/scroll-to.js</a></li>
            <li><a href="../helpers/animation/tween.js.html">helpers/animation/tween.js</a></li>
            <li><a href="../helpers/css/transform.js.html">helpers/css/transform.js</a></li>
            <li><a href="../helpers/date/date.js.html">helpers/date/date.js</a></li>
            <li><a href="../helpers/date/parse-format.js.html">helpers/date/parse-format.js</a></li>
            <li><a href="../helpers/dom/add-class.js.html">helpers/dom/add-class.js</a></li>
            <li><a href="../helpers/dom/breakpoint.js.html">helpers/dom/breakpoint.js</a></li>
            <li><a href="../helpers/dom/has-class.js.html">helpers/dom/has-class.js</a></li>
            <li><a href="../helpers/dom/make-element.js.html">helpers/dom/make-element.js</a></li>
            <li><a href="../helpers/dom/offset.js.html">helpers/dom/offset.js</a></li>
            <li><a href="../helpers/dom/outer-height.js.html">helpers/dom/outer-height.js</a></li>
            <li><a href="../helpers/dom/outer-width.js.html">helpers/dom/outer-width.js</a></li>
            <li><a href="../helpers/dom/parse-attribute.js.html">helpers/dom/parse-attribute.js</a></li>
            <li><a href="../helpers/dom/remove-class.js.html">helpers/dom/remove-class.js</a></li>
            <li><a href="../helpers/dom/toggle-class.js.html">helpers/dom/toggle-class.js</a></li>
            <li><a href="../helpers/dom/trigger-event.js.html">helpers/dom/trigger-event.js</a></li>
            <li><a href="../helpers/form/build-select.js.html">helpers/form/build-select.js</a></li>
            <li><a href="../helpers/form/form-data.js.html">helpers/form/form-data.js</a></li>
            <li><a href="../helpers/form/set-caret.js.html">helpers/form/set-caret.js</a></li>
            <li><a href="../helpers/manipulation/append-children.js.html">helpers/manipulation/append-children.js</a></li>
            <li><a href="../helpers/manipulation/copy-attributes.js.html">helpers/manipulation/copy-attributes.js</a></li>
            <li><a href="../helpers/manipulation/insert-before.js.html">helpers/manipulation/insert-before.js</a></li>
            <li><a href="../helpers/manipulation/wrap-element.js.html">helpers/manipulation/wrap-element.js</a></li>
            <li><a href="../helpers/position/affix.js.html">helpers/position/affix.js</a></li>
            <li><a href="../helpers/position/box-position.js.html">helpers/position/box-position.js</a></li>
            <li><a href="../helpers/traversal/get-child.js.html">helpers/traversal/get-child.js</a></li>
            <li><a href="../helpers/traversal/get-children.js.html">helpers/traversal/get-children.js</a></li>
            <li><a href="../helpers/traversal/get-index.js.html">helpers/traversal/get-index.js</a></li>
            <li><a href="../helpers/traversal/get-parent.js.html">helpers/traversal/get-parent.js</a></li>
            <li><a href="../helpers/traversal/get-parents.js.html">helpers/traversal/get-parents.js</a></li>
            <li><a href="../helpers/traversal/get-sibling-after.js.html">helpers/traversal/get-sibling-after.js</a></li>
            <li><a href="../helpers/traversal/get-sibling-before.js.html">helpers/traversal/get-sibling-before.js</a></li>
            <li><a href="../helpers/traversal/has-parent.js.html">helpers/traversal/has-parent.js</a></li>
            <li><a href="../helpers/traversal/matches.js.html">helpers/traversal/matches.js</a></li>
            <li><a href="../helpers/util/debounce.js.html">helpers/util/debounce.js</a></li>
            <li><a href="../helpers/util/each.js.html">helpers/util/each.js</a></li>
            <li><a href="../helpers/util/mixin.js.html">helpers/util/mixin.js</a></li>
            <li><a href="../helpers/util/pad.js.html">helpers/util/pad.js</a></li>
            <li><a href="../helpers/util/range.js.html">helpers/util/range.js</a></li>
            <li><a href="../helpers/util/round.js.html">helpers/util/round.js</a></li>
            <li><a href="../helpers/util/trim.js.html">helpers/util/trim.js</a></li>
            <li><a href="../mixins/messaging.js.html">mixins/messaging.js</a></li>
            <li><a href="../mixins/validation.js.html">mixins/validation.js</a></li>
            <li><a href="../spark.jquery.js.html">spark.jquery.js</a></li>
            <li><a href="../spark.js.html">spark.js</a></li>
          </ul>
        </div>
        <div class="span9">
          <div class="description"><h1>Toolbar</h1>
<p>Setup a responsive toolbar</p></div>
          <table class="table table-bordered table-striped">
            <thead>
              <tr>
                <th style="width:20%">Option name</th>
                <th style="width:20%">Type</th>
                <th>Description</th>
              </tr>
            </thead>
            <tbody>
              <tr>
                <td>module</td>
                <td></td>
                <td>components/toolbar.js</td>
              </tr>
            </tbody>
          </table>
          <pre><code class="language-javascript">import debounce from '../helpers/util/debounce';
import addClass from '../helpers/dom/add-class';
import hasClass from '../helpers/dom/has-class';
import removeClass from '../helpers/dom/remove-class';
import {boolean as getBooleanAttribute} from '../helpers/dom/parse-attribute';

class Toolbar {</code></pre>
          <h5>Example</h5>
          <pre><code class="language-javascript">new Toolbar(el);</code></pre>
          <section id="constructor">
            <h1>constructor</h1>
            <h5 class="subheader"></h5>
            <p>
              <div class="label label-success radius ctx-type">constructor</div><span>&nbsp;</span><span>constructor()</span><span>&nbsp;</span>
            </p>
          </section>
          <div class="description"><p>Toolbar constructor.</p></div>
          <table class="table table-bordered table-striped">
            <thead>
              <tr>
                <th style="width:20%">Option name</th>
                <th style="width:20%">Type</th>
                <th>Description</th>
              </tr>
            </thead>
            <tbody>
              <tr>
                <td>el</td>
                <td>Element</td>
                <td></td>
              </tr>
              <tr>
                <td>params</td>
                <td>Object</td>
                <td></td>
              </tr>
            </tbody>
          </table>
          <pre><code class="language-javascript">constructor(el) {
  if (!el) return;
  this._init(el);
}</code></pre>
          <section id="change">
            <h1>change</h1>
            <h5 class="subheader"></h5>
            <p>
              <div class="label label-info radius ctx-type">method</div><span>&nbsp;</span><span>change()</span><span>&nbsp;</span>
            </p>
          </section>
          <div class="description"><p>This function will update cached sizing when an element in the toolbar is changed<br />or, when toolbar items are added or removed</p></div>
          <pre><code class="language-javascript">change() {
  this._closeAll();
  removeClass(this.el, ['ready', 'show-more', 'measured']);
  var v = document.createDocumentFragment();
  for (var i = 0; i &lt; this.items.length; i++) {
    v.appendChild(this.items[i].el);
  }
  this.visibleContainer.appendChild(v);
  this._initItems();
  addClass(this.el, 'measured');
  this._calculateStyles();
  addClass(this.el, 'ready');
  return this;
}</code></pre>
          <section id="update">
            <h1>update</h1>
            <h5 class="subheader"></h5>
            <p>
              <div class="label label-info radius ctx-type">method</div><span>&nbsp;</span><span>update()</span><span>&nbsp;</span>
            </p>
          </section>
          <div class="description"><p>Update the component to use a new element or reparse from<br />the existing element.</p></div>
          <table class="table table-bordered table-striped">
            <thead>
              <tr>
                <th style="width:20%">Option name</th>
                <th style="width:20%">Type</th>
                <th>Description</th>
              </tr>
            </thead>
            <tbody>
              <tr>
                <td>el</td>
                <td>Element</td>
                <td><p>Optional</p></td>
              </tr>
            </tbody>
          </table>
          <pre><code class="language-javascript">update(el) {

  if (el) {
    this.remove(true);
    this._init(el);
  }
  else {
    this.change();
  }

  return this;
}</code></pre>
          <section id="remove">
            <h1>remove</h1>
            <h5 class="subheader"></h5>
            <p>
              <div class="label label-info radius ctx-type">method</div><span>&nbsp;</span><span>remove()</span><span>&nbsp;</span>
            </p>
          </section>
          <div class="description"><p>Remove the element from the DOM and prepare for garbage collection by dereferencing values.</p></div>
          <table class="table table-bordered table-striped">
            <thead>
              <tr>
                <th style="width:20%">Option name</th>
                <th style="width:20%">Type</th>
                <th>Description</th>
              </tr>
            </thead>
            <tbody>
              <tr>
                <td>leaveElement</td>
                <td>Boolean</td>
                <td><p>Leave the element intact.</p></td>
              </tr>
            </tbody>
          </table>
          <pre><code class="language-javascript">remove(leaveElement) {
  this._removeListeners();
  delete this.el.sparktoolbarcon;
  delete this.showMoreButton.sparktoolbarshowmore;
  for(var i = 0; i &lt; this.items.length; i++) {
    this.items[i].remove();
  }
  if (!leaveElement &amp;&amp; this.el.parentNode) {
    this.el.parentNode.removeChild(this.el);
    this.el = undefined;
  }
  return this;
}</code></pre>
          <section id="toolbarItem">
            <h1>toolbarItem</h1>
            <h5 class="subheader"></h5>
            <p>
              <div class="label label-info radius ctx-type">method</div><span>&nbsp;</span><span>toolbarItem()</span><span>&nbsp;</span>
            </p>
          </section>
          <div class="description"><p>Setup a toolbarItem Instance to track the state of individual toolbar items</p></div>
          <table class="table table-bordered table-striped">
            <thead>
              <tr>
                <th style="width:20%">Option name</th>
                <th style="width:20%">Type</th>
                <th>Description</th>
              </tr>
            </thead>
            <tbody>
              <tr>
                <td>parent</td>
                <td>Element</td>
                <td><p>Reference to parent toolbar</p></td>
              </tr>
              <tr>
                <td>el</td>
                <td>Element</td>
                <td><p>Node to initalize as toolbarItem</p></td>
              </tr>
              <tr>
                <td>order</td>
                <td>Number</td>
                <td><p>The original index of the item in list of toolbarItems (used for maintaining order when sorting)</p></td>
              </tr>
            </tbody>
          </table>
          <pre><code class="language-javascript">toolbarItem(parent, el, order) {
  //Setup and cache the values for this item
  var a = {};
  a.parent = parent;
  a.el = el;
  //cache the priority value present on the toolbar element if it is present, else default to 0
  a.priority = a.el.attributes['data-priority'] ? a.el.attributes['data-priority'].value : 0;
  a.order = a.el.attributes['data-order'] ? a.el.attributes['data-order'].value : order;
  a.hasContent = a.el.querySelector('.spark-toolbar__item--content') ? true : false;
  a.helper = a.el.querySelector('.spark-toolbar__item-helper');
  a.label = a.el.attributes.label ? a.el.attributes.label.value : false;
  a.closeOnClick = hasClass(a.el, 'spark-toolbar__item--close-more-on-click');
  a.width = a.el.offsetWidth;
  a.height = a.el.offsetHeight;
  a.dropdown = el.querySelector('.spark-toolbar__item--content');
  if (a.dropdown) {
    a.dropdown.sparktoolbardropdown = true;
  }</code></pre>
          <section id="toggleDropdown">
            <h1>toggleDropdown</h1>
            <h5 class="subheader"></h5>
            <p>
              <div class="label label-info radius ctx-type">method</div><span>&nbsp;</span><span>a.toggleDropdown()</span><span>&nbsp;</span>
            </p>
          </section>
          <div class="description"><p>Call method to toggle the open state, optional param sets open state to value<br />Can get current state by referencing a.toggleDropdown.open</p></div>
          <table class="table table-bordered table-striped">
            <thead>
              <tr>
                <th style="width:20%">Option name</th>
                <th style="width:20%">Type</th>
                <th>Description</th>
              </tr>
            </thead>
            <tbody>
              <tr>
                <td>open</td>
                <td>Boolean</td>
                <td><p>Set state to this regardless of current state</p></td>
              </tr>
            </tbody>
          </table>
          <pre><code class="language-javascript">a.toggleDropdown = function(open) {
  var o = typeof open !== 'undefined' ? !open : a.toggleDropdown.open;
  if (o) {
    a.toggleDropdown.open = false;
    removeClass(a.el, 'animate');
    window.setTimeout(function() {
      removeClass(a.el, 'open');
    }, 100);
  }
  else {
    if (a.hasContent) {
      a.toggleDropdown.open = true;
      addClass(a.el, 'open');
      a.positionDropdown();
      var e = document.createEvent('Event');
      e.initEvent('spark.visible-children', true, true);
      a.dropdown.dispatchEvent(e);
      window.setTimeout(function() {
        addClass(a.el, 'animate');
      }, 0);
    }
    else {
      a.parent._toggleShowMore(false);
    }
  }
};</code></pre>
          <section id="handleClick">
            <h1>handleClick</h1>
            <h5 class="subheader"></h5>
            <p>
              <div class="label label-info radius ctx-type">method</div><span>&nbsp;</span><span>a.handleClick()</span><span>&nbsp;</span>
            </p>
          </section>
          <div class="description"><p>Click handler for local element - determines to close element<br />conditionally based on presence of spark-toolbar__item--close-on-click<br />closes parent&#39;s more dropdown conditionally as well</p></div>
          <table class="table table-bordered table-striped">
            <thead>
              <tr>
                <th style="width:20%">Option name</th>
                <th style="width:20%">Type</th>
                <th>Description</th>
              </tr>
            </thead>
            <tbody>
              <tr>
                <td>open</td>
                <td>Boolean</td>
                <td><p>Set state to this regardless of current state</p></td>
              </tr>
            </tbody>
          </table>
          <pre><code class="language-javascript">a.handleClick = function(e) {

  if (getBooleanAttribute(a.el, 'disabled')) {
    e.preventDefault();
    return;
  }

  if (!a.toggleDropdown.open) {
    a.toggleDropdown(true);
  }
  else {
    if (e.target === a.el || e.target === a.helper) {
      a.toggleDropdown();
    }
    else {
      var b = e.target;
      while (b !== a.el) {
        if (hasClass(b, 'spark-toolbar__item--close-on-click')) {
          a.toggleDropdown(false);
          //close the mode section, as event originated inside a close-on-click area
          a.parent._toggleShowMore(false);
          break;
        }
        b = b.parentElement;
      }
    }
  }
  //e.preventDefault();
};
//perform bounds checking on dropdown open to position dropdown inside visual area
//this is called each time a dropdown is opened, in case the state of the component has
//changed since initialization
a.positionDropdown = function() {
  if (a.dropdown) {
    a.dropdown.style.left = '';
    a.dropdown.style.right = '';
    var pos = a.dropdown.getBoundingClientRect();
    var left = window.pageXOffset;
    var right = window.pageXOffset + document.documentElement.clientWidth;
    if (pos.right &gt; right) {
      a.dropdown.style.left = 'inherit';
      a.dropdown.style.right = 0;
    }
    if (pos.left &lt; left) {
      a.dropdown.style.left = 0;
      a.dropdown.style.right = 'inherit';
    }
  }
};
a.remove = function() {
  if (a.el) {
    delete a.el.sparktoolbar;
  }
  if (a.dropdown) {
    delete a.dropdown.sparktoolbardropdown;
  }
};
a.el.sparktoolbar = a;
return a;
  }</code></pre>
          <section id="_closeAll">
            <h1>_closeAll</h1>
            <h5 class="subheader"></h5>
            <p>
              <div class="label label-info radius ctx-type">method</div><span>&nbsp;</span><span>_closeAll()</span><span>&nbsp;</span>
            </p>
          </section>
          <div class="description"><p>Close any open items, and more dropdown</p></div>
          <pre><code class="language-javascript">_closeAll() {
  this._closeItems();
  this._toggleShowMore(false);
}</code></pre>
          <section id="_getOpenItems">
            <h1>_getOpenItems</h1>
            <h5 class="subheader"></h5>
            <p>
              <div class="label label-info radius ctx-type">method</div><span>&nbsp;</span><span>_getOpenItems()</span><span>&nbsp;</span>
            </p>
          </section>
          <div class="description"><p>Returns array of open toolbarItems</p></div>
          <pre><code class="language-javascript">_getOpenItems() {
  var a = [];
  for (var i = 0; i &lt; this.items.length; i++) {
    if (this.items[i].toggleDropdown.open) {
      a.push(this.items[i]);
    }
  }
  return a;
}</code></pre>
          <section id="_closeItems">
            <h1>_closeItems</h1>
            <h5 class="subheader"></h5>
            <p>
              <div class="label label-info radius ctx-type">method</div><span>&nbsp;</span><span>_closeItems()</span><span>&nbsp;</span>
            </p>
          </section>
          <div class="description"><p>Close any open items</p></div>
          <table class="table table-bordered table-striped">
            <thead>
              <tr>
                <th style="width:20%">Option name</th>
                <th style="width:20%">Type</th>
                <th>Description</th>
              </tr>
            </thead>
            <tbody>
              <tr>
                <td>a</td>
                <td>Array</td>
                <td><p>Optional array of toolbarItems to close, defaults to all open items</p></td>
              </tr>
            </tbody>
          </table>
          <pre><code class="language-javascript">_closeItems(a) {
  a = typeof a === 'undefined' ? this._getOpenItems() : a;
  for (var i = 0; i &lt; a.length; i++) {
    a[i].toggleDropdown(false);
  }
}</code></pre>
          <section id="_init">
            <h1>_init</h1>
            <h5 class="subheader"></h5>
            <p>
              <div class="label label-info radius ctx-type">method</div><span>&nbsp;</span><span>_init()</span><span>&nbsp;</span>
            </p>
          </section>
          <div class="description"><p>Setup the toolbar element, cache properties, and initalize styling<br />when complete, show toolbar</p></div>
          <table class="table table-bordered table-striped">
            <thead>
              <tr>
                <th style="width:20%">Option name</th>
                <th style="width:20%">Type</th>
                <th>Description</th>
              </tr>
            </thead>
            <tbody>
              <tr>
                <td>el</td>
                <td>Element</td>
                <td><p>The node to initalize on</p></td>
              </tr>
            </tbody>
          </table>
          <pre><code class="language-javascript">_init(el) {
  this.el = el;
  //store a reference to this on the node to expedite event handling
  this.el.sparktoolbarcon = this;
  this.visibleContainer = this.el.querySelector('.spark-toolbar__container--visible');
  this.hiddenContainer = this.el.querySelector('.spark-toolbar__container--hidden');
  this.showMoreButton = this.el.querySelector('.spark-toolbar__show-more');
  this.showMoreButton.sparktoolbarshowmore = true;
  this.isOpen = false;
  this.isFocus = false;
  this._setupListeners();
  this.el.style.width = '100%';
  this._initItems();
  addClass(this.el, 'measured');
  this._calculateStyles();
  this.tabindex = this.el.attributes.tabindex ? this.el.attributes.tabindex.value : 0;
  addClass(this.el, 'ready');
}


_initItems() {
  var items = this.el.querySelectorAll('.spark-toolbar__item');
  this.items = [];
  for (var i = 0; i &lt; items.length; i++) {
    this.items[i] = new this.toolbarItem(this, items[i], i);
  }
}</code></pre>
          <section id="_setupListeners">
            <h1>_setupListeners</h1>
            <h5 class="subheader"></h5>
            <p>
              <div class="label label-info radius ctx-type">method</div><span>&nbsp;</span><span>_setupListeners()</span><span>&nbsp;</span>
            </p>
          </section>
          <div class="description"><p>Setup event listeners for clicks and resize events</p></div>
          <pre><code class="language-javascript">_setupListeners() {
  this._handleWindowClick = this._handleWindowClickH.bind(this);
  document.addEventListener('click', this._handleWindowClick);
  this._handleResize = debounce(this._handleResizeH.bind(this), 100);
  window.addEventListener('resize', this._handleResize);
  this._handleKeyDown = this._handleKeyDownH.bind(this);
  this.el.addEventListener('keydown', this._handleKeyDown);
  this._handleFocus = this._handleFocusH.bind(this);
  document.addEventListener('focus', this._handleFocus, true);
  this._handleBlur = this._handleBlurH.bind(this);
  document.addEventListener('blur', this._handleBlur, true);
  this._handleVisibleChildren = this._handleVisibleChildrenH.bind(this);
  document.addEventListener('spark.visible-children', this._handleVisibleChildren, true);
}</code></pre>
          <section id="_removeListeners">
            <h1>_removeListeners</h1>
            <h5 class="subheader"></h5>
            <p>
              <div class="label label-info radius ctx-type">method</div><span>&nbsp;</span><span>_removeListeners()</span><span>&nbsp;</span>
            </p>
          </section>
          <div class="description"><p>Remove event listeners for clicks and resize events</p></div>
          <pre><code class="language-javascript">_removeListeners() {
  document.removeEventListener('click', this._handleWindowClick);
  window.removeEventListener('resize', this._handleResize);
  this.el.removeEventListener('keydown', this._handleKeyDown);
  document.removeEventListener('blur', this._handleBlur, true);
  document.removeEventListener('focus', this._handleFocus, true);
  document.removeEventListener('spark.visible-children', this._handleVisibleChildren, true);
}</code></pre>
          <section id="_handleBlurH">
            <h1>_handleBlurH</h1>
            <h5 class="subheader"></h5>
            <p>
              <div class="label label-info radius ctx-type">method</div><span>&nbsp;</span><span>_handleBlurH()</span><span>&nbsp;</span>
            </p>
          </section>
          <div class="description"><p>reset our tab index when user focuses outside of element (gets immediately reset to -1 if focus is placed back inside element)</p></div>
          <table class="table table-bordered table-striped">
            <thead>
              <tr>
                <th style="width:20%">Option name</th>
                <th style="width:20%">Type</th>
                <th>Description</th>
              </tr>
            </thead>
            <tbody>
              <tr>
                <td>e</td>
                <td>Event</td>
                <td><p>The FocusEvent</p></td>
              </tr>
            </tbody>
          </table>
          <pre><code class="language-javascript">_handleBlurH(e) {
  if (this.el.contains(e.target)) {
    this.el.attributes.tabindex.value = this.tabindex;
  }
}</code></pre>
          <section id="_handleFocusH">
            <h1>_handleFocusH</h1>
            <h5 class="subheader"></h5>
            <p>
              <div class="label label-info radius ctx-type">method</div><span>&nbsp;</span><span>_handleFocusH()</span><span>&nbsp;</span>
            </p>
          </section>
          <div class="description"><p>focus handler, works in conjunction with blur handler to set correct tabindex value</p></div>
          <table class="table table-bordered table-striped">
            <thead>
              <tr>
                <th style="width:20%">Option name</th>
                <th style="width:20%">Type</th>
                <th>Description</th>
              </tr>
            </thead>
            <tbody>
              <tr>
                <td>e</td>
                <td>Event</td>
                <td><p>The FocusEvent</p></td>
              </tr>
            </tbody>
          </table>
          <pre><code class="language-javascript">_handleFocusH(e) {
  //if we're not being focused, reset our tabindex so we are accessible again, and close anything open
  if (!this.el.contains(e.target)) {
    this._closeAll();
    this.el.attributes.tabindex.value = this.tabindex;
  }
  else {
    //set our tabindex to -1 so the user can shift-tab out of our element
    this.el.attributes.tabindex.value = -1;
    if (e.target.sparktoolbarcon) {
      this._focusLast();
      return;
    }
    //handle focusing an item
    if (e.target.sparktoolbar) {
      e.target.sparktoolbar.el.focus();
      return;
    }
    var a = e.target;
    //harder case - look up the tree to find if we're focusing inside content
    while (!a.sparktoolbarcon) {
      if (a.sparktoolbar) {
        break;
      }
      //if we are - give our parent element a tabindex so the user can refocus the menu using shift-tab
      if (a.sparktoolbardropdown) {
        this.el.attributes.tabindex.value = this.tabindex;
        return;
      }
      a = a.parentElement;
    }
  }
}</code></pre>
          <section id="_focusLast">
            <h1>_focusLast</h1>
            <h5 class="subheader"></h5>
            <p>
              <div class="label label-info radius ctx-type">method</div><span>&nbsp;</span><span>_focusLast()</span><span>&nbsp;</span>
            </p>
          </section>
          <div class="description"><p>reset our focus to the last menu item that was focused</p></div>
          <pre><code class="language-javascript">_focusLast() {
  if (!this._lastFocus) {
    var a = this.visibleContainer.querySelector('.spark-toolbar__item') || this.hiddenContainer.querySelector('.spark-toolbar__item');
    this._lastFocus = a.sparktoolbar;
  }
  if (this.hiddenContainer.contains(this._lastFocus.el)) {
    this._toggleShowMore(true);
  }
  this._lastFocus.el.focus();
}</code></pre>
          <section id="_handleKeyDownH">
            <h1>_handleKeyDownH</h1>
            <h5 class="subheader"></h5>
            <p>
              <div class="label label-info radius ctx-type">method</div><span>&nbsp;</span><span>_handleKeyDownH()</span><span>&nbsp;</span>
            </p>
          </section>
          <div class="description"><p>keydown handler, used for keyboard navigation</p></div>
          <table class="table table-bordered table-striped">
            <thead>
              <tr>
                <th style="width:20%">Option name</th>
                <th style="width:20%">Type</th>
                <th>Description</th>
              </tr>
            </thead>
            <tbody>
              <tr>
                <td>e</td>
                <td>Event</td>
                <td><p>The KeyDown Event</p></td>
              </tr>
            </tbody>
          </table>
          <pre><code class="language-javascript">_handleKeyDownH(e) {
  var a = e.target;
  //find the nearest toolbaritem
  while (!a.sparktoolbarcon) {
    if (a.sparktoolbar) {
      break;
    }
    if (a.sparktoolbardropdown) {
      return;
    }
    a = a.parentElement;
  }
  if (a.sparktoolbar) {
    //handle keys
    switch (e.keyCode) {
      //left arrow
      //up arrow
      case 37:
      case 38:
        if (a.previousSibling &amp;&amp; a.previousSibling.sparktoolbar) {
          this._lastFocus = a.previousSibling.sparktoolbar;
          a.previousSibling.focus();
        }
        else {
          if (this.visibleContainer.querySelector('.spark-toolbar__item') !== a.sparktoolbar.el) {
            a = this.visibleContainer.querySelector('.spark-toolbar__item:last-of-type');
            if (a) {
              this._toggleShowMore(false);
              this._lastFocus = a.sparktoolbar;
              a.focus();
            }
          }
        }
        this._closeItems();
        e.preventDefault();
        break;
      //right arrow
      //down arrow
      case 39:
      case 40:
        if (a.nextSibling &amp;&amp; a.nextSibling.sparktoolbar) {
          this._lastFocus = a.nextSibling.sparktoolbar;
          a.nextSibling.focus();
        }
        else {
          if (this.hiddenContainer.querySelector('.spark-toolbar__item:last-of-type') !== a.sparktoolbar.el) {
            a = this.hiddenContainer.querySelector('.spark-toolbar__item');
            if (a) {
              this._toggleShowMore(true);
              this._lastFocus = a.sparktoolbar;
              a.focus();
            }
          }
        }
        this._closeItems();
        e.preventDefault();
        break;
      //spacebar
      case 32:
        e.preventDefault();
        //we only want to toggle the toolbar if we are actually focused directly on it;
        if (e.target.sparktoolbar) {
          e.target.sparktoolbar.el.click();
        }
        break;
      //enter
      case 13:
        //we only want to toggle the toolbar if we are actually focused directly on it;
        if (e.target.sparktoolbar) {
          e.target.sparktoolbar.el.click();
        }
        break;
    }
  }
}</code></pre>
          <section id="_handleVisibleChildrenH">
            <h1>_handleVisibleChildrenH</h1>
            <h5 class="subheader"></h5>
            <p>
              <div class="label label-info radius ctx-type">method</div><span>&nbsp;</span><span>_handleVisibleChildrenH()</span><span>&nbsp;</span>
            </p>
          </section>
          <div class="description"><p>Hanldes the spark.visible-children event to resize the component when it is made visible.</p></div>
          <table class="table table-bordered table-striped">
            <thead>
              <tr>
                <th style="width:20%">Option name</th>
                <th style="width:20%">Type</th>
                <th>Description</th>
              </tr>
            </thead>
            <tbody>
              <tr>
                <td>e</td>
                <td>Event</td>
                <td><p>The spark.visible-children event</p></td>
              </tr>
            </tbody>
          </table>
          <pre><code class="language-javascript">_handleVisibleChildrenH(e) {
  if(e.target.contains(this.el)) {
    window.setTimeout(function() {
      this.change();
    }.bind(this),0);
  }
}</code></pre>
          <section id="_handleWindowClickH">
            <h1>_handleWindowClickH</h1>
            <h5 class="subheader"></h5>
            <p>
              <div class="label label-info radius ctx-type">method</div><span>&nbsp;</span><span>_handleWindowClickH()</span><span>&nbsp;</span>
            </p>
          </section>
          <div class="description"><p>Event handler for click events, handles window clicks, control element clicks,<br />and forwards events to toolbarItem click handlers as needed</p></div>
          <table class="table table-bordered table-striped">
            <thead>
              <tr>
                <th style="width:20%">Option name</th>
                <th style="width:20%">Type</th>
                <th>Description</th>
              </tr>
            </thead>
            <tbody>
              <tr>
                <td>e</td>
                <td>Event</td>
                <td><p>The click event</p></td>
              </tr>
            </tbody>
          </table>
          <pre><code class="language-javascript">_handleWindowClickH(e) {

  if (getBooleanAttribute(e.target, 'disabled')) {
    e.preventDefault();
    return;
  }

  //Check to see if the click was outside of the toolbar
  if (!this.el.contains(e.target)) {
    this._closeItems();
    this._toggleShowMore(false);
  }
  else {
    var a = e.target;
    //traverse the dom node tree until we find an element that handles the event,
    //or we reach the toolbar root node
    if(a === this.visibleContainer || a === this.el) {
      e.stopPropagation();
      e.preventDefault();
      return;
    }
    while (a !== this.el) {
      if (a.sparktoolbar) {
        var c = this._getOpenItems();
        if (c.indexOf(a.sparktoolbar) &gt;= 0) {
          c.splice(c.indexOf(a.sparktoolbar), 1);
        }
        this._closeItems(c);
        if (!this.hiddenContainer.contains(e.target)) {
          this._toggleShowMore(false);
        }
        return a.sparktoolbar.handleClick(e);
      }
      if (a.sparktoolbarshowmore) {
        this._closeItems();
        this._toggleShowMore();
        return;
      }
      a = a.parentElement;
    }
    this._closeAll();
  }
}</code></pre>
          <section id="_toggleShowMore">
            <h1>_toggleShowMore</h1>
            <h5 class="subheader"></h5>
            <p>
              <div class="label label-info radius ctx-type">method</div><span>&nbsp;</span><span>_toggleShowMore()</span><span>&nbsp;</span>
            </p>
          </section>
          <div class="description"><p>Toggle the state of the show more dropdown, optional parameter overrides toggle and<br />sets state to passed value</p></div>
          <table class="table table-bordered table-striped">
            <thead>
              <tr>
                <th style="width:20%">Option name</th>
                <th style="width:20%">Type</th>
                <th>Description</th>
              </tr>
            </thead>
            <tbody>
              <tr>
                <td>open</td>
                <td>Boolean</td>
                <td><p>The new state of the show more dropdown</p></td>
              </tr>
            </tbody>
          </table>
          <pre><code class="language-javascript">_toggleShowMore(open) {
  var o = typeof open !== 'undefined' ? !open : this.isOpen;
  if (o) {
    removeClass(this.el, 'animate');
    window.setTimeout(function() {
      removeClass(this.el, 'open');
      this.isOpen = false;
    }.bind(this), 100);
  }
  else {
    this.isOpen = true;
    addClass(this.el, 'open');
    this._positionShowMore();
    window.setTimeout(function() {
      addClass(this.el, 'animate');
    }.bind(this), 0);
  }
}</code></pre>
          <section id="_positionShowMore">
            <h1>_positionShowMore</h1>
            <h5 class="subheader"></h5>
            <p>
              <div class="label label-info radius ctx-type">method</div><span>&nbsp;</span><span>_positionShowMore()</span><span>&nbsp;</span>
            </p>
          </section>
          <div class="description"><p>Do bounds checking on show-more dropdown when it is opened, and position it accordingly</p></div>
          <pre><code class="language-javascript">_positionShowMore() {
  this.hiddenContainer.style.right = '0px';
  var pos = this.hiddenContainer.getBoundingClientRect();
  var left = window.pageXOffset;
  var right = window.pageXOffset + document.documentElement.clientWidth;
  if (pos.right &gt; right) {
    this.hiddenContainer.style.right = 'calc(' + (pos.right - right) + 'px + 1rem)';
  }
  if (pos.left &lt; left) {
    this.hiddenContainer.style.right = 'calc(' + (pos.left - left) + 'px - 1rem)';
  }
}</code></pre>
          <section id="_handleResizeH">
            <h1>_handleResizeH</h1>
            <h5 class="subheader"></h5>
            <p>
              <div class="label label-info radius ctx-type">method</div><span>&nbsp;</span><span>_handleResizeH()</span><span>&nbsp;</span>
            </p>
          </section>
          <div class="description"><p>Resize event helper, closes items then triggers recalculation of styles</p></div>
          <pre><code class="language-javascript">_handleResizeH() {
  this._closeAll();
  this._calculateStyles();
}</code></pre>
          <section id="_calculateStyles">
            <h1>_calculateStyles</h1>
            <h5 class="subheader"></h5>
            <p>
              <div class="label label-info radius ctx-type">method</div><span>&nbsp;</span><span>_calculateStyles()</span><span>&nbsp;</span>
            </p>
          </section>
          <div class="description"><p>Reevaluates the available area of the toolbar and places toolbarItems into<br />the hidden container, as necessary. Should not call with any specified value<br />for showMore (used internally)</p></div>
          <table class="table table-bordered table-striped">
            <thead>
              <tr>
                <th style="width:20%">Option name</th>
                <th style="width:20%">Type</th>
                <th>Description</th>
              </tr>
            </thead>
            <tbody>
              <tr>
                <td>showMore</td>
                <td>Boolean</td>
                <td><p>Used to conditionally evaluate styling when showMore area is used</p></td>
              </tr>
            </tbody>
          </table>
          <pre><code class="language-javascript">_calculateStyles(showMore) {
  this.el.style.width = '100%';
  showMore = typeof showMore !== 'undefined' ? showMore : false;
  if (!showMore) {
    removeClass(this.el, 'show-more');
  }
  var visible = [];
  var hidden = [];
  var i;
  //sort items by their priority to ensure higher-priority items are always placed
  //into the visible area first
  this.items.sort(this._prioritySort);
  //get container width and start placing items into their containers
  var visibleWidth = this.visibleContainer.clientWidth;
  for (i = 0; i &lt; this.items.length; i++) {
    if (visibleWidth - this.items[i].width &gt;= 0) {
      visible.push(this.items[i]);
      visibleWidth -= this.items[i].width;
    }
    else {
      if (!showMore) {
        addClass(this.el, 'show-more');
        return this._calculateStyles(true);
      }
      hidden.push(this.items[i]);
    }
  }
  //sort items back into their original order before inserting them into the document
  visible.sort(this._orderSort);
  hidden.sort(this._orderSort);
  var v = document.createDocumentFragment();
  var h = document.createDocumentFragment();
  for (i = 0; i &lt; visible.length; i++) {
    v.appendChild(visible[i].el);
  }
  for (i = 0; i &lt; hidden.length; i++) {
    h.appendChild(hidden[i].el);
  }
  this.visibleContainer.appendChild(v);
  this.hiddenContainer.appendChild(h);
  this.el.style.width = '';
}</code></pre>
          <section id="_prioritySort">
            <h1>_prioritySort</h1>
            <h5 class="subheader"></h5>
            <p>
              <div class="label label-info radius ctx-type">method</div><span>&nbsp;</span><span>_prioritySort()</span><span>&nbsp;</span>
            </p>
          </section>
          <div class="description"><p>Sorts toolbar items in descending order based on their priority value</p></div>
          <pre><code class="language-javascript">_prioritySort(l, r) {
  return r.priority - l.priority;
}</code></pre>
          <section id="_orderSort">
            <h1>_orderSort</h1>
            <h5 class="subheader"></h5>
            <p>
              <div class="label label-info radius ctx-type">method</div><span>&nbsp;</span><span>_orderSort()</span><span>&nbsp;</span>
            </p>
          </section>
          <div class="description"><p>Sorts toolbar items in ascending order based on their order value</p></div>
          <pre><code class="language-javascript">_orderSort(l, r) {
  return l.order - r.order;
}
}

export default Toolbar;</code></pre>
        </div>
      </div>
    </div>
    <footer class="footer">
      <div class="container">
        <p>Documentation generated with<a href="https://github.com/mr-doc/mr-doc">Mr. Doc</a> created by<a href="https://twitter.com/FGRibreau" data-show-count="false" class="twitter-follow-button">Francois-Guillaume Ribreau</a></p>
        <p>Mr. Doc is sponsored by<a href="http://bringr.net/?btt" title="Outil d'analyse des réseaux sociaux" class="bringr">Bringr</a> and<a href="https://redsmin.com/?btt" title="Full Redis GUI" class="redsmin">Redsmin</a></p>
        <p>Theme borrowed from Twitter Bootstrap</p>
      </div>
    </footer>
    <script src="../js/twitter-widget.min.js"></script>
    <script src="../js/jquery.min.js"></script>
    <script src="../js/bootstrap-transition.min.js"></script>
    <script src="../js/bootstrap-scrollspy.min.js"></script>
    <script src="../js/bootstrap-dropdown.min.js"></script>
    <script src="../js/bootstrap-collapse.min.js"></script>
    <script src="../js/bootstrap-affix.min.js"></script>
    <script src="../js/prism.min.js"></script>
    <script src="../js/index.min.js"></script>
  </body>
</html>