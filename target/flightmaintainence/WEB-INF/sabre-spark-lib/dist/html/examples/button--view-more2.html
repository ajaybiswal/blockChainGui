
<!doctype html>
<html lang="en">

  <head>

    <title>Button - View More</title>

    <link rel="stylesheet" href="../../css/spark.light.css" data-hook="stylesheet-toggle">
    <link rel="stylesheet" href="./assets/css/examples.css">

    <meta charset="utf-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <!-- <meta name="viewport" content="width=device-width, initial-scale=1"> -->
    <meta name="HandheldFriendly" content="true" />

    <meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=no" />

    <style type="text/css">
      
    </style>

  </head>

  <body class="">

    <div class="stylesheet-picker">
      <select class="stylesheet-picker__select" data-hook="stylesheet-picker">
        
          <option  value="../../css/spark.light.css">light theme</option>
        
          <option  value="../../css/spark.whitelabel.css">whitelabel theme</option>
        
      </select>
    </div>

    <div class="spark-padding--sm" style="width: 100%;">
      
  <button data-action="view-more-example2" class="spark-btn spark-btn--md spark-btn--view-more">Load More Results</button>

  <script type="text/javascript">
    'use strict';

    var ViewMoreExample2 = {
      createProgressMeter: function(example){
        // Init Progress meter
        var progressMeterHTML =  '<progress></progress>'+
        '<span class="spark-progress__meter"></span>'+
        'Loading ';
        if(example.getAttribute('data-result-length'))
          progressMeterHTML += example.getAttribute('data-result-length');
        progressMeterHTML += ' Results...';
        return progressMeterHTML;
      },

      mockNetworkCall: function(example){
      // Save original button state
        var orig = example.innerHTML;
        var origClasses = example.className;

      // Switch to progress meter, simulates the active state of a network request
        example.className += ' spark-progress active';
        example.innerHTML = ViewMoreExample2.createProgressMeter(example);

      // Revert back after timeout, to simulate a completed network request
        window.setTimeout(function(){
          example.className = origClasses;
          example.innerHTML = orig;
        }, 3000);
      }
    };

    // Wait for page to finish loading
    document.addEventListener('DOMContentLoaded', function() {

    // Click Listener Event
      function addClickListner(example) {
        example.addEventListener('click', function(e){
          e.preventDefault();
          // Make sure button is not in active state
          if(e.target.className.indexOf('active') < 0) {
            // Simulate a network call
            ViewMoreExample2.mockNetworkCall(e.target);
          }
        }, false);
      }

    // Target buttons
      var viewMoreExamples = document.querySelectorAll('[data-action="view-more-example2"]');
      for (var i = viewMoreExamples.length - 1; i >= 0; i--) {
        addClickListner(viewMoreExamples[i]);
      }
    });
  </script>

    </div>

    <script src="../../js/spark.js"></script>
    <script src="./assets/js/examples.js"></script>

    <script>
      document.addEventListener('DOMContentLoaded', function() {
        


      });
    </script>

  </body>

</html>
