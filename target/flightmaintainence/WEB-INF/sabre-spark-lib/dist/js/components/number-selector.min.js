/* sabre-spark - v2.4.4 - 2018-3-6 DO NOT MODIFY THIS FILE DIRECTLY OR YOU WILL NOT BE ABLE TO UPDATE YOUR VERSION OF SPARK. */
!function(e){if("object"==typeof exports&&"undefined"!=typeof module)module.exports=e();else if("function"==typeof define&&define.amd)define([],e);else{var t;((t="undefined"!=typeof window?window:"undefined"!=typeof global?global:"undefined"!=typeof self?self:this).Spark||(t.Spark={})).NumberSelector=e()}}(function(){return function i(o,l,a){function u(n,e){if(!l[n]){if(!o[n]){var t="function"==typeof require&&require;if(!e&&t)return t(n,!0);if(c)return c(n,!0);var s=new Error("Cannot find module '"+n+"'");throw s.code="MODULE_NOT_FOUND",s}var r=l[n]={exports:{}};o[n][0].call(r.exports,function(e){var t=o[n][1][e];return u(t||e)},r,r.exports,i,o,l,a)}return l[n].exports}for(var c="function"==typeof require&&require,e=0;e<a.length;e++)u(a[e]);return u}({1:[function(e,t,n){"use strict";Object.defineProperty(n,"__esModule",{value:!0});var s,r=e("../helpers/util/each"),i=(s=r)&&s.__esModule?s:{default:s};var o=function(){},l=function(){function n(e){var t=1<arguments.length&&void 0!==arguments[1]?arguments[1]:{};!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,n),t.elRequired&&!e||(this.setParams(this.defaults||{},!0),this.setParams(t),(this._cacheElements||o).call(this,e,t),(this._parseParams||o).call(this))}return n.prototype.remove=function(e){return this._removeEventListeners&&this._removeEventListeners(),!e&&this.el&&this.el.parentNode&&this.el.parentNode.removeChild(this.el),this.unsetParams(this.defaults),this},n.prototype.update=function(e){var t=1<arguments.length&&void 0!==arguments[1]?arguments[1]:{};return this._removeEventListeners&&this._removeEventListeners(),(this._cacheElements||o).call(this,e||this.el,t),(this._parseParams||o).call(this),this._addEventListeners&&this._addEventListeners(),this},n.prototype.setParams=function(e,n){var s=this;return(0,i.default)(e,function(e,t){(-1!==s._whitelistedParams.indexOf(e)||n)&&(s[e]=t)}),this},n.prototype.unsetParams=function(e,t){return e=e instanceof Array?e:Object.keys(e),t=t||this,(0,i.default)(e,function(e){delete t[e]}),this},n}();l.prototype._whitelistedParams=[],l.prototype.defaults={},n.default=l,t.exports=n.default},{"../helpers/util/each":12}],2:[function(e,t,n){"use strict";Object.defineProperty(n,"__esModule",{value:!0});var s=u(e("./base")),i=u(e("../helpers/traversal/get-parent")),r=u(e("../mixins/messaging")),o=u(e("../helpers/util/mixin")),l=u(e("../mixins/validation")),a=u(e("../helpers/dom/make-element"));function u(e){return e&&e.__esModule?e:{default:e}}function c(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}var p=function(s){function r(e){var t,n=1<arguments.length&&void 0!==arguments[1]?arguments[1]:{};return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,r),n.elRequired=!0,(t=c(this,s.call(this,e,n)))&&(t._bindEventListenerCallbacks(),t._addEventListeners()),c(t)}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(r,s),r.prototype.getValue=function(){return parseFloat(this.inputEl.value)},r.prototype.setValue=function(e){isNaN(e)&&(e=this._getMin());var t=this._getConformedNumber(e);return t!==this.inputEl.value&&(this.inputEl.value=t,(this.onChange||function(){})(t,this)),this},r.prototype.setErrorState=function(e){e?this.el.setAttribute("data-error",""):this.el.removeAttribute("data-error")},r.prototype.clearValue=function(){return this.setValue(0)},r.prototype.increment=function(){return this.setValue(this.getValue()+this._getStep())},r.prototype.decrement=function(){return this.setValue(this.getValue()-this._getStep())},r.prototype._countDecimals=function(e){return!e||isNaN(e)||Math.floor(e)===e?0:e.toString().split(".")[1].length||0},r.prototype.enable=function(){for(var e=this.el.querySelectorAll(".spark-number-selector__up, .spark-number-selector__down"),t=0,n=e.length;t<n;t++)e[t].removeAttribute("disabled");return this.inputEl.removeAttribute("disabled"),this},r.prototype.disable=function(){for(var e=this.el.querySelectorAll(".spark-number-selector__up, .spark-number-selector__down"),t=0,n=e.length;t<n;t++)e[t].setAttribute("disabled","");return this.inputEl.setAttribute("disabled",""),this},r.prototype._cacheElements=function(e){if(this.el=e,this.inputEl=e.querySelector("input"),this.messageEl=this.el.querySelector(".spark-number-selector__message")||(0,a.default)('<span class="spark-number-selector__message"></span>'),!this.inputEl)throw new Error("NumberSelector must include an `<input>` element!")},r.prototype._bindEventListenerCallbacks=function(){this._onClickBound=this._onClick.bind(this),this._onInputChangeBound=this._onInputChange.bind(this),this._onInputFocusBound=this._onInputFocus.bind(this),this._onInputBlurBound=this._onInputBlur.bind(this),this._onInputInputBound=this._onInputInput.bind(this)},r.prototype._addEventListeners=function(){this.el.addEventListener("click",this._onClickBound),this.el.addEventListener("change",this._onInputChangeBound),this.el.addEventListener("focus",this._onInputFocusBound),this.el.addEventListener("blur",this._onInputBlurBound),this.inputEl.addEventListener("input",this._onInputInputBound)},r.prototype._removeEventListeners=function(){this.el.removeEventListener("click",this._onClickBound),this.el.removeEventListener("change",this._onInputChangeBound),this.el.removeEventListener("focus",this._onInputFocusBound),this.el.removeEventListener("blur",this._onInputBlurBound),this.inputEl.removeEventListener("input",this._onInputInputBound)},r.prototype._getMin=function(){return this._getInputPropAsNumber("min")},r.prototype._getMax=function(){return this._getInputPropAsNumber("max")},r.prototype._getStep=function(){return this._getInputPropAsNumber("step")||1},r.prototype._getInputPropAsNumber=function(e){return parseFloat(this.inputEl.getAttribute(e))},r.prototype._getConformedNumber=function(e){var t=this._getMax(),n=this._getMin(),s=this._getStep();if(s){var r=e%s;e=s/2<=r?e+(s-r):e-r;var i=this._countDecimals(this._getStep());if(0<i){var o=Math.abs(e),l=i+(1<o?o.toString().split(".")[0].length:0);e=Number.isInteger(e)?e:e.toPrecision(l)}}return void 0!==t&&t<e?t:void 0!==n&&e<n?n:e},r.prototype._onClick=function(e){e.target.hasAttribute("disabled")||((0,i.default)(e.target,".spark-number-selector__up",this.el)?(e.preventDefault(),this.increment()):(0,i.default)(e.target,".spark-number-selector__down",this.el)&&(e.preventDefault(),this.decrement()))},r.prototype._onInputChange=function(){this.setValue(parseFloat(this.inputEl.value))},r.prototype._onInputFocus=function(){this.onFocus&&this.onFocus(this.getValue(),this)},r.prototype._onInputBlur=function(){this.onBlur&&this.onBlur(this.getValue(),this)},r.prototype._onInputInput=function(){this.onInput&&this.onInput(this.getValue(),this)},r}(s.default);p.prototype._whitelistedParams=["validate","onValidate","onChange","onFocus","onBlur","onInput"],p.prototype.defaults={el:null,inputEl:null,onValidate:null,onChange:null,onFocus:null,onBlur:null,onInput:null,_onInputChangeBound:null,_onClickBound:null},(0,o.default)(p.prototype,r.default,l.default),n.default=p,t.exports=n.default},{"../helpers/dom/make-element":6,"../helpers/traversal/get-parent":10,"../helpers/util/mixin":13,"../mixins/messaging":15,"../mixins/validation":16,"./base":1}],3:[function(e,t,n){"use strict";Object.defineProperty(n,"__esModule",{value:!0});var h=s(e("../dom/outer-height")),g=s(e("../dom/add-class")),m=s(e("../dom/remove-class")),v=s(e("../dom/has-class")),_=s(e("../dom/toggle-class"));function s(e){return e&&e.__esModule?e:{default:e}}var y=function(){},b={els:[],completeCallbacks:[]};function E(e){e.toggleClassName?(0,_.default)(e.el,e.toggleClassName,!e.collapse):e.toggleEl.style[e.toggleProperty]="",e.el.style.height="",e.toggleEl.style.height="",e.toggleEl.style.marginBottom="",e.toggleEl.style.marginTop="",(0,m.default)(e.el,e.heightAnimationClass),(0,m.default)(e.toggleEl,e.heightAnimationClass),e.onComplete();var t=b.els.indexOf(e.el);b.els.splice(t,1),b.completeCallbacks.splice(t,1)}n.default=function(s){var r=(s=s||{}).el;if(r){var i=s.action&&"collapse"===s.action,o=s.heightAnimationClass||"spark-animate-height",l="string"==typeof s.toggleEl?r.querySelector(s.toggleEl):s.toggleEl;if(l&&!(0,v.default)(r,"spark-no-animate")){var a=s.toggleClass,u=s.toggleProperty||"display",c=window.getComputedStyle(l),p=c[u],f=s.toggleValue||function(e,t,n){switch(t){case"overflow":case"visibility":return"visible"===n?"hidden":"visible";default:return"block"===n||"inline-block"===n?"none":"block"}}(0,p),e=b.els.indexOf(r);if(-1!==e){var t=b.completeCallbacks[e];t&&clearTimeout(t),E({el:r,toggleEl:l,onComplete:s.onComplete||y,collapse:i,toggleProperty:u,toggleClassName:a,toggleValue:f,heightAnimationClass:o})}var d=(0,h.default)(r);a?(0,_.default)(r,a,!i):l.style[u]=f,i?setTimeout(n,0):n()}}function n(){var e=(0,h.default)(r),t=void 0,n=void 0;i?(a?(0,m.default)(r,a):l.style[u]=p,n=(0,h.default)(l,c),t=0):(t=(0,h.default)(l,c),n=0),r.style.height=d+"px",l.style.height=n+"px",l.style.marginBottom="0px",l.style.marginTop="0px",(0,g.default)(r,o),(0,g.default)(l,o),b.els.push(r),setTimeout(function(){r.style.height=e+"px",l.style.height=t+"px",b.completeCallbacks.push(setTimeout(function(){E({el:r,toggleEl:l,onComplete:s.onComplete||y,collapse:i,toggleProperty:u,toggleClassName:a,toggleValue:f,heightAnimationClass:o})},void 0!==s.animationDuration?s.animationDuration:201))},0)}},t.exports=n.default},{"../dom/add-class":4,"../dom/has-class":5,"../dom/outer-height":7,"../dom/remove-class":8,"../dom/toggle-class":9}],4:[function(e,t,n){"use strict";Object.defineProperty(n,"__esModule",{value:!0});var l=s(e("../util/trim")),a=s(e("./has-class"));function s(e){return e&&e.__esModule?e:{default:e}}var u=/\s+/,c=/\s{2,}/g;n.default=function(e,t){if(1===(t=2===arguments.length&&"string"==typeof t?(0,l.default)(t).split(u):t instanceof Array?t:Array.prototype.slice.call(arguments,1)).length&&e.classList)return t[0]&&e.classList.add(t[0]),e;for(var n=[],s=0,r=t.length,i=void 0,o="string"==typeof e.className?e.className:e.getAttribute?e.getAttribute("class"):"";s<r;s++)(i=t[s])&&!(0,a.default)(o,i)&&n.push(i);return n.length&&("string"==typeof e.className?e.className=(0,l.default)((o+" "+n.join(" ")).replace(c," ")):e.setAttribute&&e.setAttribute("class",(0,l.default)((o+" "+n.join(" ")).replace(c," ")))),e},t.exports=n.default},{"../util/trim":14,"./has-class":5}],5:[function(e,t,n){"use strict";Object.defineProperty(n,"__esModule",{value:!0});var s="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e};n.default=function(e,t){return-1!==(" "+("object"===(void 0===e?"undefined":s(e))?e.className||e.getAttribute&&e.getAttribute("class")||"":e||"").replace(/[\t\r\n\f]/g," ")+" ").indexOf(" "+t+" ")},t.exports=n.default},{}],6:[function(e,t,n){"use strict";Object.defineProperty(n,"__esModule",{value:!0}),n.default=function(e){if(!e)throw new Error("Cannot create element with no HTML!");var t=document.createElement("div");t.innerHTML=e;var n=t.children[0];return n.parentNode.removeChild(n),n},t.exports=n.default},{}],7:[function(e,t,n){"use strict";Object.defineProperty(n,"__esModule",{value:!0});var s,r=e("../util/each"),i=(s=r)&&s.__esModule?s:{default:s};var o=["marginTop","marginBottom","borderTop","borderBottom"];n.default=function(e,t){t=t||window.getComputedStyle(e);var n=e.clientHeight;return(0,i.default)(o,function(e){n+=parseInt(t[e]||0,10)}),n},t.exports=n.default},{"../util/each":12}],8:[function(e,t,n){"use strict";Object.defineProperty(n,"__esModule",{value:!0});var s,r=e("../util/trim"),a=(s=r)&&s.__esModule?s:{default:s};var u=/\s+/,c=/\s{2,}/g;n.default=function(e,t){if(1===(t=2===arguments.length&&"string"==typeof t?(0,a.default)(t).split(u):t instanceof Array?t:Array.prototype.slice.call(arguments,1)).length&&e.classList)return t[0]&&e.classList.remove(t[0]),e;for(var n=" "+("string"==typeof e.className?e.className:e.getAttribute?e.getAttribute("class"):"")+" ",s=n,r=void 0,i=void 0,o=0,l=t.length;o<l;o++)-1!==(i=(r=t[o])?s.indexOf(" "+r+" "):-1)&&(i+=1,s=s.slice(0,i)+s.slice(i+r.length));return n!==s&&("string"==typeof e.className?e.className=(0,a.default)(s.replace(c," ")):e.setAttribute&&e.setAttribute("class",(0,a.default)(s.replace(c," ")))),e},t.exports=n.default},{"../util/trim":14}],9:[function(e,t,n){"use strict";Object.defineProperty(n,"__esModule",{value:!0});var o=s(e("./has-class")),l=s(e("./add-class")),a=s(e("./remove-class"));function s(e){return e&&e.__esModule?e:{default:e}}n.default=function e(t,n,s){if(t){if(!(t instanceof NodeList||t instanceof Array))return("add"==(void 0!==s?(s="function"==typeof s?s.call(null,t):s)?"add":"remove":(0,o.default)(t,n)?"remove":"add")?l.default:a.default)(t,n);for(var r=0,i=t.length;r<i;r++)e(t[r],n,s)}},t.exports=n.default},{"./add-class":4,"./has-class":5,"./remove-class":8}],10:[function(e,t,n){"use strict";Object.defineProperty(n,"__esModule",{value:!0});var s,r=e("./matches"),i=(s=r)&&s.__esModule?s:{default:s};n.default=function(e,t,n){for(n=n instanceof Array?n:[n||document.body];e;){if((0,i.default)(e,t))return e;if(-1!==n.indexOf(e))return!1;e=e.parentNode}return!1},t.exports=n.default},{"./matches":11}],11:[function(e,t,n){"use strict";Object.defineProperty(n,"__esModule",{value:!0});var r="undefined"!=typeof Element&&(Element.prototype.matches||Element.prototype.matchesSelector||Element.prototype.webkitMatchesSelector||Element.prototype.mozMatchesSelector||Element.prototype.msMatchesSelector||Element.prototype.oMatchesSelector);n.default=function(e,t){if(r)return r.call(e,t);for(var n=e.parentNode?e.parentNode.querySelectorAll(t):[],s=0;s<n.length;s++)if(n[s]===e)return!0;return!1},t.exports=n.default},{}],12:[function(e,t,n){"use strict";Object.defineProperty(n,"__esModule",{value:!0}),n.default=function(e,t){if(e){if("function"!=typeof t)throw new Error("Cannot invoke `each` without a callback!");var n=0,s=e.length;if(void 0===s)for(n in e)"prototype"!==n&&e.hasOwnProperty(n)&&t(n,e[n]);else for(;n<s;n++)t(e[n])}},t.exports=n.default},{}],13:[function(e,t,n){"use strict";Object.defineProperty(n,"__esModule",{value:!0}),n.default=function(n){for(var e=arguments.length,t=Array(1<e?e-1:0),s=1;s<e;s++)t[s-1]=arguments[s];(0,i.default)(t,function(e){for(var t in e)e.hasOwnProperty(t)&&!n[t]&&(n[t]=e[t])})};var s,r=e("./each"),i=(s=r)&&s.__esModule?s:{default:s};t.exports=n.default},{"./each":12}],14:[function(e,t,n){"use strict";Object.defineProperty(n,"__esModule",{value:!0});var s=/^[\s\uFEFF\xA0]+|[\s\uFEFF\xA0]+$/g;n.default=function(e){return e.replace(s,"")},t.exports=n.default},{}],15:[function(e,t,n){"use strict";Object.defineProperty(n,"__esModule",{value:!0});var s,r=e("../helpers/animation/height"),i=(s=r)&&s.__esModule?s:{default:s};n.default={setError:function(e){return this._isMessageVisible()||this._showMessage(),this.clearWarning(),this.clearSuccess(),this.el.setAttribute("data-error",!0),e&&this.setMessage(e),this},clearError:function(){return this.el.removeAttribute("data-error",!0),this},setWarning:function(e){return this._isMessageVisible()||this._showMessage(),this.clearError(),this.clearSuccess(),this.el.setAttribute("data-warning",!0),e&&this.setMessage(e),this},clearWarning:function(){return this.el.removeAttribute("data-warning",!0),this},setSuccess:function(e){return this._isMessageVisible()||this._showMessage(),this.clearError(),this.clearWarning(),this.el.setAttribute("data-success",!0),e&&this.setMessage(e),this},clearSuccess:function(){return this.el.removeAttribute("data-success",!0),this},clearMessages:function(){return this._hideMessage(function(){this.clearError(),this.clearWarning(),this.clearSuccess()}.bind(this)),this},setMessage:function(e){return this.messageEl.innerHTML=e,this},_showMessage:function(){this.messageEl.parentNode||this.el.appendChild(this.messageEl),(0,i.default)({el:this.el,toggleEl:this.messageEl})},_hideMessage:function(e){(0,i.default)({el:this.el,toggleEl:this.messageEl,toggleValue:"none",action:"collapse",onComplete:e})},_isMessageVisible:function(){return this.el.getAttribute("data-error")||this.el.getAttribute("data-warning")||this.el.getAttribute("data-success")}},t.exports=n.default},{"../helpers/animation/height":3}],16:[function(e,t,n){"use strict";Object.defineProperty(n,"__esModule",{value:!0}),n.default={validate:function(){var e=this.validatePattern;if(!this.onValidate||!e)return this;var t=new RegExp(e);return this.onValidate(t.test(this.getValue()),this.getValue(),this),this}},t.exports=n.default},{}]},{},[2])(2)});