/* sabre-spark - v2.4.4 - 2018-3-6 DO NOT MODIFY THIS FILE DIRECTLY OR YOU WILL NOT BE ABLE TO UPDATE YOUR VERSION OF SPARK. */
!function(t){if("object"==typeof exports&&"undefined"!=typeof module)module.exports=t();else if("function"==typeof define&&define.amd)define([],t);else{var e;((e="undefined"!=typeof window?window:"undefined"!=typeof global?global:"undefined"!=typeof self?self:this).Spark||(e.Spark={})).DateTypeahead=t()}}(function(){return function o(a,s,h){function u(n,t){if(!s[n]){if(!a[n]){var e="function"==typeof require&&require;if(!t&&e)return e(n,!0);if(l)return l(n,!0);var r=new Error("Cannot find module '"+n+"'");throw r.code="MODULE_NOT_FOUND",r}var i=s[n]={exports:{}};a[n][0].call(i.exports,function(t){var e=a[n][1][t];return u(e||t)},i,i.exports,o,a,s,h)}return s[n].exports}for(var l="function"==typeof require&&require,t=0;t<h.length;t++)u(h[t]);return u}({1:[function(t,e,n){"use strict";Object.defineProperty(n,"__esModule",{value:!0});var r,i=t("../helpers/util/each"),o=(r=i)&&r.__esModule?r:{default:r};var a=function(){},s=function(){function n(t){var e=1<arguments.length&&void 0!==arguments[1]?arguments[1]:{};!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,n),e.elRequired&&!t||(this.setParams(this.defaults||{},!0),this.setParams(e),(this._cacheElements||a).call(this,t,e),(this._parseParams||a).call(this))}return n.prototype.remove=function(t){return this._removeEventListeners&&this._removeEventListeners(),!t&&this.el&&this.el.parentNode&&this.el.parentNode.removeChild(this.el),this.unsetParams(this.defaults),this},n.prototype.update=function(t){var e=1<arguments.length&&void 0!==arguments[1]?arguments[1]:{};return this._removeEventListeners&&this._removeEventListeners(),(this._cacheElements||a).call(this,t||this.el,e),(this._parseParams||a).call(this),this._addEventListeners&&this._addEventListeners(),this},n.prototype.setParams=function(t,n){var r=this;return(0,o.default)(t,function(t,e){(-1!==r._whitelistedParams.indexOf(t)||n)&&(r[t]=e)}),this},n.prototype.unsetParams=function(t,e){return t=t instanceof Array?t:Object.keys(t),e=e||this,(0,o.default)(t,function(t){delete e[t]}),this},n}();s.prototype._whitelistedParams=[],s.prototype.defaults={},n.default=s,e.exports=n.default},{"../helpers/util/each":6}],2:[function(t,e,n){"use strict";Object.defineProperty(n,"__esModule",{value:!0});var r=i(t("./base")),a=i(t("./typeahead")),s=t("../helpers/dom/parse-attribute");function i(t){return t&&t.__esModule?t:{default:t}}var h=function(){};var o=function(i){function o(t){var e,n=1<arguments.length&&void 0!==arguments[1]?arguments[1]:{};!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,o),arguments.length<2&&(n=t||{},(e=document.createElement("span")).className="spark-input",t=e);var r=function(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!=typeof e&&"function"!=typeof e?t:e}(this,i.call(this,t,n));return r._bindEventListenerCallbacks(),r._createTypeahead(t,n),r}return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}(o,i),o.prototype.getValue=function(t){return this.typeahead.getValue(t)},o.prototype.setValue=function(t){return this.typeahead.setValue(t)},o.prototype.clearValue=function(){return this.typeahead.clearValue()},o.prototype.enable=function(){return this.typeahead.enable()},o.prototype.disable=function(){return this.typeahead.disable()},o.prototype.run=function(){return this.typeahead.run()},o.prototype.pause=function(){return this.typeahead.pause()},o.prototype.resume=function(){return this.typeahead.resume()},o.prototype.remove=function(t){return this.typeahead.remove(t),i.prototype.remove.call(this,t),this},o.prototype._cacheElements=function(t){this.el=t},o.prototype._parseParams=function(){if(this.type=null!==this.type?this.type:(0,s.string)(this.el,"data-type","day"),this.format=null!==this.format?this.format:(0,s.string)(this.el,"data-format",null),this.placeholder=null!==this.placeholder?this.placeholder:(0,s.string)(this.el,"data-placeholder",null),this.len=null!==this.len?this.len:(0,s.number)(this.el,"length",null),this.ariaLabelPrefix=null!==this.ariaLabelPrefix?this.ariaLabelPrefix:null,!this.placeholder)throw new Error("You must provide a placeholder value for a DateTypeahead.");if(null!==this.len&&(this.format=this._lengthToFormat(this.len)),!this.format)throw new Error("You must provide a format value for a DateTypeahead.")},o.prototype._createTypeahead=function(t){this.typeahead=new a.default(t,{placeholder:this.placeholder,format:this.format,matchPlaceholderSize:!0,onChange:this._onTypeaheadChangeBound,onInput:this._onTypeaheadInputBound,onFocus:this._onTypeaheadFocusBound,onBlur:this._onTypeaheadBlurBound,onBackspace:this._onTypeaheadBackspaceBound,onEnd:this._onTypeaheadEndBound});var e=t.querySelector("input");e&&!e.getAttribute("aria-label")&&e.setAttribute("aria-label",this.ariaLabelPrefix+" "+this.type)},o.prototype._bindEventListenerCallbacks=function(){this._onTypeaheadChangeBound=this._onTypeaheadChange.bind(this),this._onTypeaheadInputBound=this._onTypeaheadInput.bind(this),this._onTypeaheadFocusBound=this._onTypeaheadFocus.bind(this),this._onTypeaheadBlurBound=this._onTypeaheadBlur.bind(this),this._onTypeaheadBackspaceBound=this._onTypeaheadBackspace.bind(this),this._onTypeaheadEndBound=this._onTypeaheadEnd.bind(this)},o.prototype._lengthToFormat=function(t){for(var e=0,n="";e<t;e++)n+="\\d";return n},o.prototype._checkValidity=function(t,e){var n=t=parseInt(t,10),r=!isNaN(t);return r&&(t="year"===this.type?0===t?e?"":0:Math.max(t,0):"month"===this.type?t?Math.min(Math.max(t,1),12):e?"":0:t?Math.min(Math.max(t,1),31):e?"":0),!r||t===n||(this.typeahead.setValue(t+""),!1)},o.prototype._onTypeaheadChange=function(t){this._checkValidity(t)&&(this.onChange||h)(t,this)},o.prototype._onTypeaheadInput=function(t){(this.onInput||h)(t,this)},o.prototype._onTypeaheadFocus=function(t){(this.onFocus||h)(t,this)},o.prototype._onTypeaheadBlur=function(t){this._checkValidity(t,!0),(this.onBlur||h)(t,this)},o.prototype._onTypeaheadBackspace=function(t){(this.onBackspace||h)(t,this)},o.prototype._onTypeaheadEnd=function(t,e){(this.onEnd||h)(this,e)},o}(r.default);o.prototype._whitelistedParams=["type","format","ariaLabelPrefix","placeholder","len","onChange","onInput","onFocus","onBlur","onBackspace","onEnd"],o.prototype.defaults={el:null,type:null,ariaLabelPrefix:null,typeahead:null,format:null,placeholder:null,len:null,onChange:null,onInput:null,onFocus:null,onBlur:null,onBackspace:null,onEnd:null,_onTypeaheadChangeBound:null,_onTypeaheadInputBound:null,_onTypeaheadFocusBound:null,_onTypeaheadBlurBound:null,_onTypeaheadBackspaceBound:null,_onTypeaheadEndBound:null},n.default=o,e.exports=n.default},{"../helpers/dom/parse-attribute":4,"./base":1,"./typeahead":3}],3:[function(t,e,n){"use strict";Object.defineProperty(n,"__esModule",{value:!0});var r=i(t("./base")),u=i(t("../helpers/dom/trigger-event")),o=t("../helpers/dom/parse-attribute");function i(t){return t&&t.__esModule?t:{default:t}}function a(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!=typeof e&&"function"!=typeof e?t:e}var l=function(){},s=function(r){function i(t){var e,n=1<arguments.length&&void 0!==arguments[1]?arguments[1]:{};return function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,i),n.elRequired=!0,(e=a(this,r.call(this,t,n)))&&e._maintainFocus(function(){this._parseParams(),this._bindEventListenerCallbacks(),this._addEventListeners()}),a(e)}return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}(i,r),i.prototype.run=function(t){var e=1<arguments.length&&void 0!==arguments[1]?arguments[1]:{};if(this.isRunning)return this;this.isRunning=!0;for(var n=this.inputEl.value,r="",i="",o=0,a=this.format.length,s=0,h=!1;o<a;o++)"\\d"===this.format[o]?(this.characters[o-s]?r+=this.characters[o-s]:h=!0,i+=h?this.placeholder[o]:"&nbsp;"):(h||(r+=this.format[o]),i+=this.format[o],s++);return this.isFocused&&(t=void 0===t?this._getCaretEnd():t),this.isFocused&&!this.characters.length&&(t=r.length),!this.characters.length&&e.notOnlyPlaceholders&&(r=""),this.inputEl.value=r,this.placeholderEl.innerHTML=i,this._updateWidth(),this.isFocused&&this._setCaretPositionTranslated(t),r!==n&&(0,u.default)(this.inputEl,"input"),this.isRunning=!1,r!==n&&(this.onChange||l)(r,n,this),!this._atEnd&&this.isFocused&&this.characters.length===this.maxLength&&this._caretIsAtEnd()?(this._atEnd=!0,(this.onEnd||l)(this)):this._atEnd=!1,this},i.prototype.addCharacterAtIndex=function(t,e,n,r){if(this.maxLength&&e>=this.maxLength)return this;if(!r){var i;try{i=new RegExp(this.format[e])}catch(t){}if(!i||!i.exec(t))return this}return this.characters.splice(e,n-e,t),this.maxLength&&this.characters.length>this.maxLength&&this.characters.splice(this.maxLength,this.characters.length),this.run(e+1),this},i.prototype.addCharacterAtCaret=function(t){var e,n=this._getCaretStart();if(void 0===this.format[n])return(this.onEnd||l)(this,t),this;try{e=new RegExp(this.format[n])}catch(t){}return e&&e.exec(t)?this.addCharacterAtIndex(t,this._getCaretStartTranslated(),this._getCaretEndTranslated(),!0):this._moveCaret("right")&&this.addCharacterAtCaret(t),this},i.prototype.removeCharacterAtIndex=function(t,e,n){return t+n<0||(e=void 0!==e?e:1,this.characters.splice(t+n,e),this.run(t+(n||1))),this},i.prototype.removeCharacterAtCaret=function(t){var e,n=this._getCaretStartTranslated(),r=this._getCaretEndTranslated(),i=1;return n!==r&&(r<n&&(e=n,n=r,r=e),i=r-n,n++),this.removeCharacterAtIndex(n,i,t),this},i.prototype.removeCharactersInRange=function(){return this.removeCharacterAtIndex(this._getCaretStartTranslated(),this._getCaretEndTranslated()),this},i.prototype.setValue=function(t){return this.settingValue=!0,this.pause(),this.characters=(t+"").split(""),this.run(),this.isFocused&&this._setCaretPosition(this._getCaretStart()),this.resume(),this.settingValue=!1,this},i.prototype.getValue=function(t){return t&&this.inputEl.value?parseInt(this.inputEl.value,10):this.inputEl.value},i.prototype.clearValue=function(){return this.pause(),this.characters=[],this.run(0,{notOnlyPlaceholders:!0}),this.resume()},i.prototype.updateValue=function(){return this.setValue(this.inputEl.value)},i.prototype.moveCaret=function(t){return this._setCaretPositionTranslated(t),this},i.prototype.moveCaretToEnd=function(){return this.moveCaret(this.characters.length)},i.prototype.moveCaretToStart=function(){return this.moveCaret(0)},i.prototype.pause=function(){return this.pauseBlurFocus++,this},i.prototype.resume=function(){return this.pauseBlurFocus--,this},i.prototype.disable=function(){return this.inputEl.setAttribute("disabled",""),this},i.prototype.enable=function(){return this.inputEl.removeAttribute("disabled"),this},i.prototype.clear=function(){return this.clearValue()},i.prototype.remove=function(t){return r.prototype.remove.call(this,t),this},i.prototype._cacheElements=function(t){this.el=t,this.inputEl=this.el.querySelector('[type="text"], [type="email"], [type="phone"], textarea')||this._createDefaultInputElement(),this.placeholderEl=this.el.querySelector(".spark-input__placeholder")||this._createDefaultPlaceholderElement()},i.prototype._parseParams=function(){this.characters=this._parseCharacters(this.inputEl.value),this.format=this._parseFormat(this.format?this.format:this.inputEl.getAttribute("data-typeahead-format")),this.placeholder=this.placeholder?this.placeholder:this.inputEl.getAttribute("placeholder").split(""),this.maxLength=this._getCharactersAllowedCount(this.format),this.matchPlaceholderSize=null!==this.matchPlaceholderSize?this.matchPlaceholderSize:(0,o.boolean)(this.inputEl,"data-match-placeholder-size",!1)},i.prototype._parseFormat=function(t){for(var e=0,n=t.length,r=[],i=!1;e<n;e++)"\\"!==t[e]||i?(r.push((i?"\\":"")+t[e]),i=!1):i=!0;return r},i.prototype._parseCharacters=function(t){for(var e=t.split(""),n=0,r=t.length,i=[],o=[];n<r;n++){try{i[n]="\\"===this.format[n][0]?new RegExp(this.format[n]):null}catch(t){}i[n]&&i[n].exec(e[n])&&o.push(e[n])}return o},i.prototype._createDefaultInputElement=function(){var t=document.createElement("input");return t.className="spark-input__field",t.setAttribute("data-typeahead",""),t.setAttribute("type","tel"),this.el.appendChild(t),t},i.prototype._createDefaultPlaceholderElement=function(){var t=document.createElement("span");return t.className="spark-input__placeholder",this.el.appendChild(t),t},i.prototype._getCharactersAllowedCount=function(t){for(var e=0,n=t.length,r=0;e<n;e++)"\\d"===t[e]&&r++;return r},i.prototype._bindEventListenerCallbacks=function(){this._onKeydownBound=this._onKeydown.bind(this),this._onKeypressBound=this._onKeypress.bind(this),this._onFocusBound=this._onFocus.bind(this),this._onBlurBound=this._onBlur.bind(this),this._onPlaceholderClickBound=this._onPlaceholderClick.bind(this)},i.prototype._addEventListeners=function(){this.inputEl.addEventListener("keydown",this._onKeydownBound,!1),this.inputEl.addEventListener("keypress",this._onKeypressBound,!1),this.inputEl.addEventListener("focus",this._onFocusBound,!1),this.placeholderEl.addEventListener("click",this._onPlaceholderClickBound,!1)},i.prototype._removeEventListeners=function(){this.inputEl.removeEventListener("keydown",this._onKeydownBound),this.inputEl.removeEventListener("keypress",this._onKeypressBound),this.inputEl.removeEventListener("focus",this._onFocusBound),this.placeholderEl.removeEventListener("click",this._onPlaceholderClickBound),window.removeEventListener("blur",this._onBlurBound),this.inputEl.removeEventListener("blur",this._onBlurBound)},i.prototype._getCaretStart=function(){return this._maintainFocus(function(){var t;if(document.selection){this.inputEl.focus();var e=document.selection.createRange();e.moveStart("character",-this.inputEl.value.length),t=e.text.length}else(this.inputEl.selectionStart||0===this.inputEl.selectionStart)&&(t=this.inputEl.selectionStart);return t})},i.prototype._getCaretEnd=function(){return this._maintainFocus(function(){var t;if(document.selection){this.inputEl.focus();var e=document.selection.createRange();e.moveStart("character",-this.inputEl.value.length),t=e.text.length}else(this.inputEl.selectionEnd||0===this.inputEl.selectionEnd)&&(t=this.inputEl.selectionEnd);return t})},i.prototype._caretIsAtEnd=function(){return this._getCaretStart()===this.maxLength},i.prototype._setCaretPosition=function(e){return this._maintainFocus(function(){if(document.selection){this.inputEl.focus();var t=document.selection.createRange();t.moveStart("character",-this.inputEl.value.length),t.moveStart("character",e),t.moveEnd("character",0),t.select()}else(this.inputEl.selectionStart||0===this.inputEl.selectionStart)&&(this.inputEl.selectionStart=e,this.inputEl.selectionEnd=e)})},i.prototype._getCaretPositionTranslated=function(t){for(var e=0,n=0;e<t;e++)"\\d"!==this.format[e]&&n++;return t-n},i.prototype._getCaretStartTranslated=function(){return this._getCaretPositionTranslated(this._getCaretStart())},i.prototype._getCaretEndTranslated=function(){return this._getCaretPositionTranslated(this._getCaretEnd())},i.prototype._setCaretPositionTranslated=function(t){for(var e=0,n=0;e<t+n;e++)void 0!==this.format[e]&&"\\d"!==this.format[e]&&n++;this._setCaretPosition(t+n)},i.prototype._moveCaret=function(t){var e=this._getCaretStart();return"left"===t?this._setCaretPosition(e-1):"right"===t&&this._setCaretPosition(e+1),e!==this._getCaretStart()},i.prototype._emptyWhenOnlyPlaceholders=function(){this.characters.length||this.clear()},i.prototype._maintainFocus=function(t){this.pause();var e=document.activeElement;e||(e=document.body);var n=(t||l).call(this);return e!==this.inputEl&&(this.inputEl.blur(),e&&e.focus()),this.resume(),n},i.prototype._updateWidth=function(){this.matchPlaceholderSize&&(this.placeholderEl.style.width="auto",this.inputEl.style.width="auto",this.inputEl.style.width=this.placeholderEl.offsetWidth+2+"px",this.placeholderEl.style.width="")},i.prototype._onKeydown=function(t){var e=t.keyCode||t.which;e===this.pasteCode&&(t.metaKey||t.ctrlKey)||(e===this.actionCodes.BACKSPACE?(this.removeCharacterAtCaret(-1),this._onBackspace(),t.preventDefault()):e===this.actionCodes.DELETE?(this.removeCharacterAtCaret(0),t.preventDefault()):e===this.actionCodes.LEFT?this._getCaretStart()||(this.onBackspace||l)():e===this.actionCodes.RIGHT?this._getCaretStart()===this.characters.length&&(this.onEnd||l)():-1===this.ignoreCodes.indexOf(e)&&(t.preventDefault(),96<=e&&e<=105&&(e-=48),this.addCharacterAtCaret(String.fromCharCode(e))))},i.prototype._onKeypress=function(t){var e=t.keyCode||t.which;-1===this.ignoreCodes.indexOf(e)&&(t.preventDefault(),this.characters=this._parseCharacters(this.inputEl.value),this.run(),(this.onChange||l)(this.getValue(),this))},i.prototype._onInput=function(t){t.preventDefault(),this.characters=this._parseCharacters(this.inputEl.value),this.run(),(this.onInput||l)(this.getValue(),this)},i.prototype._onFocus=function(){window.removeEventListener("blur",this._onBlurBound),window.addEventListener("blur",this._onBlurBound,!1),this.inputEl.removeEventListener("blur",this._onBlurBound),this.inputEl.addEventListener("blur",this._onBlurBound,!1),this.isFocused||this.pauseBlurFocus||this.isRunning||(this.run(),(this.onFocus||l)(this.getValue(),this),this.isFocused=!0,this._oldVal=this.inputEl.value)},i.prototype._onBlur=function(){window.removeEventListener("blur",this._onBlurBound),this.inputEl.removeEventListener("blur",this._onBlurBound),this.isFocused=!1,this.pauseBlurFocus||this.isRunning||(this._emptyWhenOnlyPlaceholders(),this._oldVal!==this.inputEl.value&&(0,u.default)(this.inputEl,"change"),(this.onBlur||l)(this.getValue(),this))},i.prototype._onPlaceholderClick=function(t){t.preventDefault(),t.stopPropagation(),this.inputEl.focus()},i.prototype._onBackspace=function(){this._getCaretStart()||(this.onBackspace||l)()},i}(r.default);s.prototype._whitelistedParams=["format","placeholder","matchPlaceholderSize","onChange","onFocus","onBlur","onInput","onBackspace","onEnd"],s.prototype.defaults={el:null,inputEl:null,placeholderEl:null,placeholder:null,characters:null,format:null,ignoreCodes:[9,16,17,18,20,91,93,112,113,114,115,116,117,118,119,120,121,122,123],actionCodes:{BACKSPACE:8,DELETE:46,LEFT:37,RIGHT:39},pasteCode:86,pauseBlurFocus:0,matchPlaceholderSize:null,maxLength:null,isFocused:!1,isRunning:!1,onChange:null,onFocus:null,onBlur:null,onInput:null,onBackspace:null,onEnd:null,_atEnd:!1,_oldVal:null,_onKeydownBound:null,_onKeypressBound:null,_onFocusBound:null,_onBlurBound:null,_onPlaceholderClickBound:null},n.default=s,e.exports=n.default},{"../helpers/dom/parse-attribute":4,"../helpers/dom/trigger-event":5,"./base":1}],4:[function(t,e,n){"use strict";Object.defineProperty(n,"__esModule",{value:!0}),n.boolean=function(t,e,n){var r=t.getAttribute(e);return null===r?n:"true"===r||""===r},n.number=function(t,e,n){var r=t.getAttribute(e);return null===r?n:parseInt(r,10)},n.string=function(t,e,n){var r=t.getAttribute(e);return null===r?n:r}},{}],5:[function(t,e,n){"use strict";Object.defineProperty(n,"__esModule",{value:!0}),n.default=function(t,e){var n=void 0;document.createEvent?((n=document.createEvent("HTMLEvents")).initEvent(e,!0,!0),n.eventName=e,t.dispatchEvent(n)):((n=document.createEventObject()).eventType=e,n.eventName=e,t.fireEvent("on"+n.eventType,n))},e.exports=n.default},{}],6:[function(t,e,n){"use strict";Object.defineProperty(n,"__esModule",{value:!0}),n.default=function(t,e){if(t){if("function"!=typeof e)throw new Error("Cannot invoke `each` without a callback!");var n=0,r=t.length;if(void 0===r)for(n in t)"prototype"!==n&&t.hasOwnProperty(n)&&e(n,t[n]);else for(;n<r;n++)e(t[n])}},e.exports=n.default},{}]},{},[2])(2)});