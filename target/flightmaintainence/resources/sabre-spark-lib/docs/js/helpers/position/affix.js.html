<!DOCTYPE html>
<html>
  <head>
    <meta name="viewport" content="width=device-width" charset="utf-8">
    <title>Sabre Spark</title>
    <link rel="stylesheet" href="../../css/bootstrap.min.css">
    <link rel="stylesheet" href="../../css/cayman.min.css">
    <link rel="stylesheet" href="../../css/prism.min.css">
    <link rel="stylesheet" href="../../css/index.min.css">
    <link rel="stylesheet" href="../../css/docs.min.css">
    <link rel="stylesheet" href="../../css/bootstrap-responsive.min.css">
  </head>
  <body data-spy="scroll" data-target=".scrollspy">
    <div class="navbar navbar-inverse navbar-fixed-top">
      <div class="navbar-inner">
        <div class="container"><a class="brand">Mr. Doc</a>
          <div class="nav-collapse collapse">
            <ul class="nav pull-right sponsored"></ul>
          </div>
        </div>
      </div>
    </div>
    <header id="overview" class="jumbotron subhead">
      <div class="container">
        <h1>Sabre Spark</h1>
        <p class="lead"></p>
      </div>
    </header>
    <div class="container">
      <div class="row">
        <div class="span3 bs-docs-sidebar">
          <ul class="nav nav-list bs-docs-sidenav affix-top">
            <li><a href="../../index.html">Main</a></li>
            <li><a href="../../components/base.js.html">components/base.js</a></li>
            <li><a href="../../components/calendar-popover.js.html">components/calendar-popover.js</a></li>
            <li><a href="../../components/carousel.js.html">components/carousel.js</a></li>
            <li><a href="../../components/date-input.js.html">components/date-input.js</a></li>
            <li><a href="../../components/date-select.js.html">components/date-select.js</a></li>
            <li><a href="../../components/date-typeahead.js.html">components/date-typeahead.js</a></li>
            <li><a href="../../components/expand.js.html">components/expand.js</a></li>
            <li><a href="../../components/filter-module.js.html">components/filter-module.js</a></li>
            <li><a href="../../components/filter.js.html">components/filter.js</a></li>
            <li><a href="../../components/header.js.html">components/header.js</a></li>
            <li><a href="../../components/menu.js.html">components/menu.js</a></li>
            <li><a href="../../components/modal.js.html">components/modal.js</a></li>
            <li><a href="../../components/multi-select-input.js.html">components/multi-select-input.js</a></li>
            <li><a href="../../components/number-selector.js.html">components/number-selector.js</a></li>
            <li><a href="../../components/popover.js.html">components/popover.js</a></li>
            <li><a href="../../components/progress-indicator.js.html">components/progress-indicator.js</a></li>
            <li><a href="../../components/range-slider.js.html">components/range-slider.js</a></li>
            <li><a href="../../components/scroll-to-top.js.html">components/scroll-to-top.js</a></li>
            <li><a href="../../components/select-input.js.html">components/select-input.js</a></li>
            <li><a href="../../components/slider.js.html">components/slider.js</a></li>
            <li><a href="../../components/step-indicator.js.html">components/step-indicator.js</a></li>
            <li><a href="../../components/table.js.html">components/table.js</a></li>
            <li><a href="../../components/tabs.js.html">components/tabs.js</a></li>
            <li><a href="../../components/text-input.js.html">components/text-input.js</a></li>
            <li><a href="../../components/toggle-switch.js.html">components/toggle-switch.js</a></li>
            <li><a href="../../components/toolbar.js.html">components/toolbar.js</a></li>
            <li><a href="../../components/tooltip.js.html">components/tooltip.js</a></li>
            <li><a href="../../components/typeahead.js.html">components/typeahead.js</a></li>
            <li><a href="../../helpers/animation/cancel.js.html">helpers/animation/cancel.js</a></li>
            <li><a href="../../helpers/animation/height.js.html">helpers/animation/height.js</a></li>
            <li><a href="../../helpers/animation/request.js.html">helpers/animation/request.js</a></li>
            <li><a href="../../helpers/animation/scroll-to.js.html">helpers/animation/scroll-to.js</a></li>
            <li><a href="../../helpers/animation/tween.js.html">helpers/animation/tween.js</a></li>
            <li><a href="../../helpers/css/transform.js.html">helpers/css/transform.js</a></li>
            <li><a href="../../helpers/date/date.js.html">helpers/date/date.js</a></li>
            <li><a href="../../helpers/date/parse-format.js.html">helpers/date/parse-format.js</a></li>
            <li><a href="../../helpers/dom/add-class.js.html">helpers/dom/add-class.js</a></li>
            <li><a href="../../helpers/dom/breakpoint.js.html">helpers/dom/breakpoint.js</a></li>
            <li><a href="../../helpers/dom/has-class.js.html">helpers/dom/has-class.js</a></li>
            <li><a href="../../helpers/dom/make-element.js.html">helpers/dom/make-element.js</a></li>
            <li><a href="../../helpers/dom/offset.js.html">helpers/dom/offset.js</a></li>
            <li><a href="../../helpers/dom/outer-height.js.html">helpers/dom/outer-height.js</a></li>
            <li><a href="../../helpers/dom/outer-width.js.html">helpers/dom/outer-width.js</a></li>
            <li><a href="../../helpers/dom/parse-attribute.js.html">helpers/dom/parse-attribute.js</a></li>
            <li><a href="../../helpers/dom/remove-class.js.html">helpers/dom/remove-class.js</a></li>
            <li><a href="../../helpers/dom/toggle-class.js.html">helpers/dom/toggle-class.js</a></li>
            <li><a href="../../helpers/dom/trigger-event.js.html">helpers/dom/trigger-event.js</a></li>
            <li><a href="../../helpers/form/build-select.js.html">helpers/form/build-select.js</a></li>
            <li><a href="../../helpers/form/form-data.js.html">helpers/form/form-data.js</a></li>
            <li><a href="../../helpers/form/set-caret.js.html">helpers/form/set-caret.js</a></li>
            <li><a href="../../helpers/manipulation/append-children.js.html">helpers/manipulation/append-children.js</a></li>
            <li><a href="../../helpers/manipulation/copy-attributes.js.html">helpers/manipulation/copy-attributes.js</a></li>
            <li><a href="../../helpers/manipulation/insert-before.js.html">helpers/manipulation/insert-before.js</a></li>
            <li><a href="../../helpers/manipulation/wrap-element.js.html">helpers/manipulation/wrap-element.js</a></li>
            <li class="active"><a href="../../helpers/position/affix.js.html">helpers/position/affix.js</a></li>
            <li><a href="../../helpers/position/box-position.js.html">helpers/position/box-position.js</a></li>
            <li><a href="../../helpers/traversal/get-child.js.html">helpers/traversal/get-child.js</a></li>
            <li><a href="../../helpers/traversal/get-children.js.html">helpers/traversal/get-children.js</a></li>
            <li><a href="../../helpers/traversal/get-index.js.html">helpers/traversal/get-index.js</a></li>
            <li><a href="../../helpers/traversal/get-parent.js.html">helpers/traversal/get-parent.js</a></li>
            <li><a href="../../helpers/traversal/get-parents.js.html">helpers/traversal/get-parents.js</a></li>
            <li><a href="../../helpers/traversal/get-sibling-after.js.html">helpers/traversal/get-sibling-after.js</a></li>
            <li><a href="../../helpers/traversal/get-sibling-before.js.html">helpers/traversal/get-sibling-before.js</a></li>
            <li><a href="../../helpers/traversal/has-parent.js.html">helpers/traversal/has-parent.js</a></li>
            <li><a href="../../helpers/traversal/matches.js.html">helpers/traversal/matches.js</a></li>
            <li><a href="../../helpers/util/debounce.js.html">helpers/util/debounce.js</a></li>
            <li><a href="../../helpers/util/each.js.html">helpers/util/each.js</a></li>
            <li><a href="../../helpers/util/mixin.js.html">helpers/util/mixin.js</a></li>
            <li><a href="../../helpers/util/pad.js.html">helpers/util/pad.js</a></li>
            <li><a href="../../helpers/util/range.js.html">helpers/util/range.js</a></li>
            <li><a href="../../helpers/util/round.js.html">helpers/util/round.js</a></li>
            <li><a href="../../helpers/util/trim.js.html">helpers/util/trim.js</a></li>
            <li><a href="../../mixins/messaging.js.html">mixins/messaging.js</a></li>
            <li><a href="../../mixins/validation.js.html">mixins/validation.js</a></li>
            <li><a href="../../spark.jquery.js.html">spark.jquery.js</a></li>
            <li><a href="../../spark.js.html">spark.js</a></li>
          </ul>
        </div>
        <div class="span9">
          <div class="description"><h1>Affix</h1>
<p>Affix one element to another.</p></div>
          <table class="table table-bordered table-striped">
            <thead>
              <tr>
                <th style="width:20%">Option name</th>
                <th style="width:20%">Type</th>
                <th>Description</th>
              </tr>
            </thead>
            <tbody>
              <tr>
                <td>module</td>
                <td></td>
                <td>helpers/position/affix.js</td>
              </tr>
            </tbody>
          </table>
          <pre><code class="language-javascript">import offset from '../dom/offset';
import boxPosition from './box-position';
import debounce from '../util/debounce';

class Affix {</code></pre>
          <h5>Example</h5>
          <pre><code class="language-javascript">new Affix({
  el: el,
  targetEl: el2,
  caretEl: el3,
  anchorY: 'top', // 'middle', 'bottom'
  anchorX: 'left', // 'center', 'right'
})</code></pre>
          <section id="constructor">
            <h1>constructor</h1>
            <h5 class="subheader"></h5>
            <p>
              <div class="label label-success radius ctx-type">constructor</div><span>&nbsp;</span><span>constructor()</span><span>&nbsp;</span>
            </p>
          </section>
          <div class="description"><p>Store the reference elements and position.</p></div>
          <table class="table table-bordered table-striped">
            <thead>
              <tr>
                <th style="width:20%">Option name</th>
                <th style="width:20%">Type</th>
                <th>Description</th>
              </tr>
            </thead>
            <tbody>
              <tr>
                <td>params</td>
                <td>Object</td>
                <td></td>
              </tr>
            </tbody>
          </table>
          <pre><code class="language-javascript">constructor(params = {}) {

  this.el = params.el;
  this.targetEl = params.targetEl;
  this.caretEl = params.caretEl;
  this.anchorY = params.anchorY || 'top';
  this.anchorX = params.anchorX || 'center';
  this.isFixed = params.isFixed || false;

  this._addEventListeners();
  this._insertEl();
  this._setPosition();
  this._updateDebounced = debounce(this.update.bind(this), 500);
}</code></pre>
          <section id="remove">
            <h1>remove</h1>
            <h5 class="subheader"></h5>
            <p>
              <div class="label label-info radius ctx-type">method</div><span>&nbsp;</span><span>remove()</span><span>&nbsp;</span>
            </p>
          </section>
          <div class="description"><p>Stop listening and clean up event listeners</p></div>
          <table class="table table-bordered table-striped">
            <thead>
              <tr>
                <th style="width:20%">Option name</th>
                <th style="width:20%">Type</th>
                <th>Description</th>
              </tr>
            </thead>
            <tbody>
              <tr>
                <td>params</td>
                <td>Object</td>
                <td><p>Optional</p></td>
              </tr>
              <tr>
                <td>return</td>
                <td>Object</td>
                <td><p>this</p></td>
              </tr>
            </tbody>
          </table>
          <pre><code class="language-javascript">remove(params = {}) {
  if (!params.keepEl) this._removeEl();
  this._removeEventListeners();
  return this;
}</code></pre>
          <section id="update">
            <h1>update</h1>
            <h5 class="subheader"></h5>
            <p>
              <div class="label label-info radius ctx-type">method</div><span>&nbsp;</span><span>update()</span><span>&nbsp;</span>
            </p>
          </section>
          <div class="description"><p>Update the position.</p></div>
          <table class="table table-bordered table-striped">
            <thead>
              <tr>
                <th style="width:20%">Option name</th>
                <th style="width:20%">Type</th>
                <th>Description</th>
              </tr>
            </thead>
            <tbody>
              <tr>
                <td>return</td>
                <td>Object</td>
                <td><p>this</p></td>
              </tr>
            </tbody>
          </table>
          <pre><code class="language-javascript">update() {
  this._setPosition();
  return this;
}</code></pre>
          <section id="_addEventListeners">
            <h1>_addEventListeners</h1>
            <h5 class="subheader"></h5>
            <p>
              <div class="label label-info radius ctx-type">method</div><span>&nbsp;</span><span>_addEventListeners()</span><span>&nbsp;</span>
            </p>
          </section>
          <div class="description"><p>Listen for window resizes to update the position.</p></div>
          <pre><code class="language-javascript">_addEventListeners() {
  this._onResizeBound = this._onResize.bind(this);
  this._onScrollBound = this._onScroll.bind(this);
  window.addEventListener('resize', this._onResizeBound);
  window.addEventListener('scroll', this._onScrollBound);
}</code></pre>
          <section id="_removeEventListeners">
            <h1>_removeEventListeners</h1>
            <h5 class="subheader"></h5>
            <p>
              <div class="label label-info radius ctx-type">method</div><span>&nbsp;</span><span>_removeEventListeners()</span><span>&nbsp;</span>
            </p>
          </section>
          <div class="description"><p>Remove event listeners</p></div>
          <pre><code class="language-javascript">_removeEventListeners() {
  window.removeEventListener('resize', this._onResizeBound);
  window.removeEventListener('scroll', this._onScrollBound);
}</code></pre>
          <section id="_insertEl">
            <h1>_insertEl</h1>
            <h5 class="subheader"></h5>
            <p>
              <div class="label label-info radius ctx-type">method</div><span>&nbsp;</span><span>_insertEl()</span><span>&nbsp;</span>
            </p>
          </section>
          <div class="description"><p>Insert the element into the DOM.</p></div>
          <pre><code class="language-javascript">_insertEl() {
  this.el.setAttribute('data-affixed', '');
  this._getRootEl().appendChild(this.el);
}</code></pre>
          <section id="_removeEl">
            <h1>_removeEl</h1>
            <h5 class="subheader"></h5>
            <p>
              <div class="label label-info radius ctx-type">method</div><span>&nbsp;</span><span>_removeEl()</span><span>&nbsp;</span>
            </p>
          </section>
          <div class="description"><p>Remove the element from the DOM.</p></div>
          <pre><code class="language-javascript">_removeEl() {
  this.el.parentNode.removeChild(this.el);
  this.el.removeAttribute('data-affixed');
}</code></pre>
          <section id="_setPosition">
            <h1>_setPosition</h1>
            <h5 class="subheader"></h5>
            <p>
              <div class="label label-info radius ctx-type">method</div><span>&nbsp;</span><span>_setPosition()</span><span>&nbsp;</span>
            </p>
          </section>
          <div class="description"><p>Set the position of the target element.</p></div>
          <pre><code class="language-javascript">_setPosition() {

  // Fixed position
  this.el.style.setProperty('position', this.isFixed ? 'fixed' : 'absolute', 'important');

  // Target element properties
  let {top: targetTop, left: targetLeft} = offset(this.targetEl, this.isFixed);
  let targetWidth = this.targetEl.offsetWidth;
  let targetHeight = this.targetEl.offsetHeight;

  // Element to affix properties
  let elWidth = this.el.offsetWidth;
  let elHeight = this.el.offsetHeight;

  // Maxes
  let docHeight = document.documentElement.offsetHeight;
  let docWidth = document.documentElement.offsetWidth;

  // Get the values
  let {elTop, elLeft} = this._calculatePosition({
    anchorX: this.anchorX,
    anchorY: this.anchorY,
    targetTop,
    targetLeft,
    elHeight,
    elWidth,
    targetHeight,
    targetWidth,
    minX: 0,
    minY: 0,
    maxX: docWidth - elWidth,
    maxY: Math.max(docHeight - elHeight, 0)
  });

  // Position the caret
  let {extraLeft, extraTop} = this._positionCaret({
    elLeft,
    elTop,
    elWidth,
    elHeight,
    targetHeight,
    targetWidth,
    targetLeft,
    targetTop
  });

  // Set the position
  this.el.style.left = elLeft + extraLeft + 'px';
  this.el.style.top = elTop + extraTop + 'px';
}</code></pre>
          <section id="_calculatePosition">
            <h1>_calculatePosition</h1>
            <h5 class="subheader"></h5>
            <p>
              <div class="label label-info radius ctx-type">method</div><span>&nbsp;</span><span>_calculatePosition()</span><span>&nbsp;</span>
            </p>
          </section>
          <div class="description"><p>Get the proper top position for an anchor direction.</p></div>
          <table class="table table-bordered table-striped">
            <thead>
              <tr>
                <th style="width:20%">Option name</th>
                <th style="width:20%">Type</th>
                <th>Description</th>
              </tr>
            </thead>
            <tbody>
              <tr>
                <td>p</td>
                <td>Object</td>
                <td></td>
              </tr>
              <tr>
                <td>return</td>
                <td>Object</td>
                <td></td>
              </tr>
            </tbody>
          </table>
          <pre><code class="language-javascript">_calculatePosition(p) {

  // Keep track of what we're trying to do here, so on subsequent, nested calls to this
  // method we can see what has already been tried.
  p.previousAttempts = (p.previousAttempts || 0) + 1;
  p.previousChecks = p.previousChecks || [];

  let finalCheck = p.previousAttempts &gt; 3;
  let top;
  let left;

  // Y-axis check
  switch (p.anchorY) {
    case 'bottom':
      top = p.targetTop + p.targetHeight;
      break;
    case 'middle':
      top = p.targetTop - ((p.elHeight - p.targetHeight) / 2);
      break;
    default:
      top = p.targetTop - p.elHeight;
      break;
  }

  // Under min
  if (top &lt; p.minY) {

    if (!finalCheck &amp;&amp; p.previousChecks.indexOf('overY') === -1) {
      p.previousChecks.push('underY');
      p.anchorY = this._getNewAnchorY(true, p.anchorY, p.anchorX);
      return this._calculatePosition(p);
    }
    else {
      top = p.minY;
    }
  }

  // Don't check for being too tall because causing a vertical scroll
  // bar down is okay and this saves us from some real positioning hell.</code></pre>
          <div class="description"><p>if (top &gt; p.maxY) {</p><pre><code>  if (!finalCheck &amp;&amp; p.previousChecks.indexOf(&#39;underY&#39;) === -1) {
    p.previousChecks.push(&#39;overY&#39;);
    p.anchorY = this._getNewAnchorY(false, p.anchorY, p.anchorX);
    return this._calculatePosition(p);
  }
  // On a final check, bottom wins because at least we can scroll
  else if (!(finalCheck &amp;&amp; p.anchorY === &#39;bottom&#39;)) {
    top = p.maxY;
  }
}
</code></pre></div>
          <pre><code class="language-javascript">// X-axis check
switch (p.anchorX) {
  case 'right':
    left = p.targetLeft + (p.anchorY !== 'middle' &amp;&amp; !p.isOverlapping ? 0 : p.targetWidth);
    break;
  case 'center':
    left = p.targetLeft - ((p.elWidth - p.targetWidth) / 2);
    break;
  default:
    left = p.targetLeft - p.elWidth + (p.anchorY !== 'middle' ? p.targetWidth : 0);
    break;
}

// Under min
if (left &lt; p.minX) {

  if (!finalCheck &amp;&amp; p.previousChecks.indexOf('overX') === -1) {
    p.previousChecks.push('underX');
    p.anchorX = this._getNewAnchorX(true, p.anchorX, p.anchorY);
    return this._calculatePosition(p);
  }
  else {
    left = p.minX;
  }
}

// Over max
if (left &gt; p.maxX) {

  if (!finalCheck &amp;&amp; p.previousChecks.indexOf('underX') === -1) {
    p.previousChecks.push('overX');
    p.anchorX = this._getNewAnchorX(false, p.anchorX, p.anchorY);
    return this._calculatePosition(p);
  }
  else {
    left = p.maxX;
  }
}

// One element is covering another. Try to fix that, but bail out after four tries.
if (boxPosition(
  {width: p.elWidth, height: p.elHeight, left: left, top: top},
  {width: p.targetWidth, height: p.targetHeight, left: p.targetLeft, top: p.targetTop}
) === 'overlap') {

  p.isOverlapping = true;

  // Try Y
  if (p.repositionY !== false) {

    // Will start undefined, then true, then false. This limits us to entering
    // this loop twice, once to try moving in each direction.
    p.repositionY = !p.repositionY;

    // First try to put above, then try to put below.
    p.anchorY = this._getNewAnchorY(p.repositionY, 'middle', p.anchorX);

    // Give us one more shot at positioning
    p.previousAttempts--;

    return this._calculatePosition(p);
  }
  // Try X
  else if (p.repositionX !== false) {

    // Will start undefined, then true, then false. This limits us to entering
    // this loop twice, once to try moving in each direction.
    p.repositionX = !p.repositionX;

    // First try to put above, then try to put below.
    p.anchorX = this._getNewAnchorX(p.repositionX, 'center', p.anchorY);

    // Give us one more shot at positioning
    p.previousAttempts--;

    return this._calculatePosition(p);
  }
}

return {elTop: top, elLeft: left, anchorX: p.anchorX, anchorY: p.anchorY};
  }</code></pre>
          <section id="_getNewAnchorY">
            <h1>_getNewAnchorY</h1>
            <h5 class="subheader"></h5>
            <p>
              <div class="label label-info radius ctx-type">method</div><span>&nbsp;</span><span>_getNewAnchorY()</span><span>&nbsp;</span>
            </p>
          </section>
          <div class="description"><p>Determine the new y-axis anchor</p></div>
          <table class="table table-bordered table-striped">
            <thead>
              <tr>
                <th style="width:20%">Option name</th>
                <th style="width:20%">Type</th>
                <th>Description</th>
              </tr>
            </thead>
            <tbody>
              <tr>
                <td>underMin</td>
                <td>Boolean</td>
                <td><p>Under the min?</p></td>
              </tr>
              <tr>
                <td>anchorY</td>
                <td>String</td>
                <td></td>
              </tr>
              <tr>
                <td>anchorX</td>
                <td>String</td>
                <td></td>
              </tr>
              <tr>
                <td>return</td>
                <td>String</td>
                <td></td>
              </tr>
            </tbody>
          </table>
          <pre><code class="language-javascript">_getNewAnchorY(underMin, anchorY, anchorX) {

  // If the x-axis is anchored in the center, skip
  // trying to anchor to the middle because then we'd
  // be overlaying the button.
  if (anchorX === 'center' || anchorY === 'middle') {
    return underMin ? 'bottom' : 'top';
  }
  else {
    return 'middle';
  }
}</code></pre>
          <section id="_getNewAnchorX">
            <h1>_getNewAnchorX</h1>
            <h5 class="subheader"></h5>
            <p>
              <div class="label label-info radius ctx-type">method</div><span>&nbsp;</span><span>_getNewAnchorX()</span><span>&nbsp;</span>
            </p>
          </section>
          <div class="description"><p>Determine the new y-axis anchor</p></div>
          <table class="table table-bordered table-striped">
            <thead>
              <tr>
                <th style="width:20%">Option name</th>
                <th style="width:20%">Type</th>
                <th>Description</th>
              </tr>
            </thead>
            <tbody>
              <tr>
                <td>underMin</td>
                <td>Boolean</td>
                <td><p>Under the min?</p></td>
              </tr>
              <tr>
                <td>anchorY</td>
                <td>String</td>
                <td></td>
              </tr>
              <tr>
                <td>anchorX</td>
                <td>String</td>
                <td></td>
              </tr>
              <tr>
                <td>return</td>
                <td>String</td>
                <td></td>
              </tr>
            </tbody>
          </table>
          <pre><code class="language-javascript">_getNewAnchorX(underMin, anchorX, anchorY) {

  // If the y-axis is anchored in the center, skip
  // trying to anchor to the middle because then we'd
  // be overlaying the button.
  if (anchorY === 'middle' || anchorX === 'center') {
    return underMin ? 'left' : 'right';
  }
  else {
    return 'center';
  }
}</code></pre>
          <section id="_positionCaret">
            <h1>_positionCaret</h1>
            <h5 class="subheader"></h5>
            <p>
              <div class="label label-info radius ctx-type">method</div><span>&nbsp;</span><span>_positionCaret()</span><span>&nbsp;</span>
            </p>
          </section>
          <div class="description"><p>Set the position of the caret.</p></div>
          <table class="table table-bordered table-striped">
            <thead>
              <tr>
                <th style="width:20%">Option name</th>
                <th style="width:20%">Type</th>
                <th>Description</th>
              </tr>
            </thead>
            <tbody>
              <tr>
                <td>p</td>
                <td>Object</td>
                <td></td>
              </tr>
              <tr>
                <td>return</td>
                <td>Object</td>
                <td></td>
              </tr>
            </tbody>
          </table>
          <pre><code class="language-javascript">_positionCaret(p = {}) {

  if (!this.caretEl) return;

  let caretPosition = boxPosition(
    {width: p.elWidth, height: p.elHeight, left: p.elLeft, top: p.elTop},
    {width: p.targetWidth, height: p.targetHeight, left: p.targetLeft, top: p.targetTop}
  );

  let caretDimensions = this.caretEl.getBoundingClientRect();
  let caretWidth = caretDimensions.width;
  let caretHeight = caretDimensions.height;
  let left = Math.min(p.elWidth, Math.max(0, p.targetLeft - p.elLeft + (p.targetWidth / 2)));
  let top = Math.min(p.elHeight, Math.max(0, p.targetTop - p.elTop + (p.targetHeight / 2)));

  this.caretEl.style.left = Math.round(left) + 'px';
  this.caretEl.style.top = Math.round(top) + 'px';

  let extraLeft = 0;
  let extraTop = 0;

  this.caretEl.setAttribute('data-position', caretPosition);


  switch (caretPosition) {
    case 'above':
      extraTop = -caretWidth / 2;
      break;
    case 'below':
      extraTop = caretWidth / 2;
      break;
    case 'left':
      extraLeft = -caretHeight / 2;
      break;
    default:
      extraLeft = caretHeight / 2;
      break;
  }

  return {
    extraLeft: extraLeft,
    extraTop: extraTop
  };
}</code></pre>
          <section id="_getRootEl">
            <h1>_getRootEl</h1>
            <h5 class="subheader"></h5>
            <p>
              <div class="label label-info radius ctx-type">method</div><span>&nbsp;</span><span>_getRootEl()</span><span>&nbsp;</span>
            </p>
          </section>
          <div class="description"><p>Get the root element. Want to check if there&#39;s a top-level form for working<br />with ASP .NET pages.</p></div>
          <pre><code class="language-javascript">_getRootEl() {
  let form = document.querySelector('body &gt; form');
  return form &amp;&amp; form.getAttribute('data-affixed') === null ? form : document.body;
}</code></pre>
          <section id="_onResize">
            <h1>_onResize</h1>
            <h5 class="subheader"></h5>
            <p>
              <div class="label label-info radius ctx-type">method</div><span>&nbsp;</span><span>_onResize()</span><span>&nbsp;</span>
            </p>
          </section>
          <div class="description"><p>On resize, update the position.</p></div>
          <pre><code class="language-javascript">_onResize() {
  this.update();
}</code></pre>
          <section id="_onScroll">
            <h1>_onScroll</h1>
            <h5 class="subheader"></h5>
            <p>
              <div class="label label-info radius ctx-type">method</div><span>&nbsp;</span><span>_onScroll()</span><span>&nbsp;</span>
            </p>
          </section>
          <div class="description"><p>When the window scrolls, ensure the proper position of the popover.</p></div>
          <pre><code class="language-javascript">_onScroll() {
  this._updateDebounced();
}
}

export default Affix;</code></pre>
        </div>
      </div>
    </div>
    <footer class="footer">
      <div class="container">
        <p>Documentation generated with<a href="https://github.com/mr-doc/mr-doc">Mr. Doc</a> created by<a href="https://twitter.com/FGRibreau" data-show-count="false" class="twitter-follow-button">Francois-Guillaume Ribreau</a></p>
        <p>Mr. Doc is sponsored by<a href="http://bringr.net/?btt" title="Outil d'analyse des réseaux sociaux" class="bringr">Bringr</a> and<a href="https://redsmin.com/?btt" title="Full Redis GUI" class="redsmin">Redsmin</a></p>
        <p>Theme borrowed from Twitter Bootstrap</p>
      </div>
    </footer>
    <script src="../../js/twitter-widget.min.js"></script>
    <script src="../../js/jquery.min.js"></script>
    <script src="../../js/bootstrap-transition.min.js"></script>
    <script src="../../js/bootstrap-scrollspy.min.js"></script>
    <script src="../../js/bootstrap-dropdown.min.js"></script>
    <script src="../../js/bootstrap-collapse.min.js"></script>
    <script src="../../js/bootstrap-affix.min.js"></script>
    <script src="../../js/prism.min.js"></script>
    <script src="../../js/index.min.js"></script>
  </body>
</html>