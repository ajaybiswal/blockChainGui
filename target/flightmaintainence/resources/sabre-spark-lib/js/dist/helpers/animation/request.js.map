{"version":3,"sources":["helpers/animation/request.js"],"names":["request","window","requestAnimationFrame","msRequestAnimationFrame","mozRequestAnimationFrame","webkitRequestAnimationFrame","fps","del","start","Date","now","prev","callback","requestTime","timeout","Math","max","timeToCall","setTimeout","onAnimationFrame"],"mappings":";;;;;AAAA;;;;;AAKA,IAAMA,UACJC,OAAOC,qBAAP,IACAD,OAAOE,uBADP,IAEAF,OAAOG,wBAFP,IAGAH,OAAOI,2BAHP,IAIC,YAAW;;AAEV,MAAIC,MAAM,EAAV;AACA,MAAIC,MAAM,OAAOD,GAAjB;AACA,MAAIE,QAAQC,KAAKC,GAAL,EAAZ;AACA,MAAIC,OAAOH,KAAX;;AAEA,SAAO,SAASN,qBAAT,CAA+BU,QAA/B,EAAyC;;AAE9C,QAAIC,cAAcJ,KAAKC,GAAL,EAAlB;AACA,QAAII,UAAUC,KAAKC,GAAL,CAAS,CAAT,EAAYT,OAAOM,cAAcF,IAArB,CAAZ,CAAd;AACA,QAAIM,aAAaJ,cAAcC,OAA/B;;AAEAH,WAAOM,UAAP;;AAEA,WAAOhB,OAAOiB,UAAP,CAAkB,SAASC,gBAAT,GAA4B;AACnDP,eAASK,aAAaT,KAAtB;AACD,KAFM,EAEJM,OAFI,CAAP;AAGD,GAXD;AAYD,CAnBD,EALF;;kBA0Bed,O","file":"request.js","sourcesContent":["/**\n * # Request Animation\n * Request animation frame polyfill.\n * @module helpers/animation/request.js\n */\nconst request =\n  window.requestAnimationFrame ||\n  window.msRequestAnimationFrame ||\n  window.mozRequestAnimationFrame ||\n  window.webkitRequestAnimationFrame ||\n  (function() {\n\n    let fps = 60;\n    let del = 1000 / fps;\n    let start = Date.now();\n    let prev = start;\n\n    return function requestAnimationFrame(callback) {\n\n      let requestTime = Date.now();\n      let timeout = Math.max(0, del - (requestTime - prev));\n      let timeToCall = requestTime + timeout;\n\n      prev = timeToCall;\n\n      return window.setTimeout(function onAnimationFrame() {\n        callback(timeToCall - start);\n      }, timeout);\n    };\n  })();\n\nexport default request;\n"]}