{"version":3,"sources":["components/step-indicator.js"],"names":["noop","StepIndicator","el","params","_bindEventListenerCallbacks","_addEventListeners","_calculateStyle","update","_removeEventListeners","_cacheElements","_parseParams","containerEl","parentNode","_body","querySelector","_list","_items","querySelectorAll","type","attributes","value","header","subtitle","dropdownLabel","_onResizeBound","_onResize","bind","_onLoadBound","_onLoad","_onVisibleBound","_onVisible","_toggleDropdownBound","_toggleDropdown","_onKeydownBound","_onKeydown","window","addEventListener","document","removeEventListener","_resetStepState","stepIndex","length","removeAttribute","setStepState","state","currentStep","setAttribute","e","target","code","keyCode","which","preventDefault","activeElement","_dropdownExpand","bindStepClickCallback","indexArr","callback","i","removeStepClickCallback","_isOverWidth","listWidth","offsetWidth","itemTotalWidth","_listPaddingTotal","titleEl","style","display","subtitleEl","_switchFromDropdown","_calculateRespStyle","_calculateLargeStyle","_calculateCondensedStyle","_calculateDropdownStyle","_calculateStandardStyle","isIE11","navigator","userAgent","match","_addItemWidth","_switchWidthForIe11","index","val","width","_switchToDropdown","visibility","_createDropdownHeader","createElement","listID","getAttribute","innerHTML","stepNotice","currentIndex","Array","prototype","indexOf","call","className","appendChild","_dropdownHeader","insertBefore","removeChild","toggle","createEvent","initEvent","dispatchEvent","srcElement","contains","offsetHeight","scrollMove","scrollTop","_checkPadding","listStyles","getComputedStyle","listPaddingLeft","parseInt","getPropertyValue","listPaddingRight","setTimeout","_whitelistedParams","defaults"],"mappings":"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","file":"step-indicator.js","sourcesContent":["/**\n * # Step Indicator\n * Set of indicators represent different steps\n *\n * @example\n * new StepIndicator(el, params);\n *\n * @module components/step-indicator.js\n */\nimport BaseComponent from './base';\nimport addClass from '../helpers/dom/add-class';\nimport removeClass from '../helpers/dom/remove-class';\nimport hasClass from '../helpers/dom/has-class';\nimport getParent from '../helpers/traversal/get-parent';\nimport debounce from '../helpers/util/debounce';\n\nconst noop = function() {};\n\nclass StepIndicator extends BaseComponent {\n\n  /**\n   * StepIndicator constructor.\n   * @param {Element} el\n   * @param {Object} params\n   */\n  constructor(el, params = {}) {\n\n    if (!super(el, params)) {\n      return;\n    }\n\n    this._bindEventListenerCallbacks();\n    this._addEventListeners();\n    this._calculateStyle();\n  }\n\n\n  /**\n   * Update the component to use a new element or reparse from\n   * the existing element.\n   * @param {Element} el Optional\n   */\n  update(el) {\n\n    this._removeEventListeners();\n    this._cacheElements(el || this.el);\n    this._parseParams();\n    this._addEventListeners();\n    this._calculateStyle();\n\n    return this;\n  }\n\n\n  /**\n   * Store a reference to the element.\n   * @param {Element} el\n   */\n  _cacheElements(el) {\n    this.el = el;\n    this.containerEl = this.containerEl || el.parentNode;\n    this._body = this.el.querySelector('.spark-step-indicator__body');\n    this._list = this.el.querySelector('.spark-step-indicator__list');\n    this._items = this.el.querySelectorAll('.spark-step-indicator__item');\n  }\n\n\n  /**\n   * Parse parameters from the element.\n   */\n  _parseParams() {\n    this.type = this.type !== null ? this.type : (this.el.attributes['data-type'] && this.el.attributes['data-type'].value);\n    this.header = this.header !== null ? this.header : (this.el.attributes['data-header'] && true);\n    this.subtitle = this.subtitle !== null ? this.subtitle : (this.el.attributes['data-subtitle'] && true);\n    this.dropdownLabel = this.dropdownLabel !== null ? this.dropdownLabel : (this.el.attributes['data-dropdownLabel'] && this.el.attributes['data-dropdownLabel'].value);\n\n    if (!this.dropdownLabel) {\n      this.dropdownLabel = 'Select a Step';\n    }\n  }\n\n\n  /**\n   * Create bound versions of event listener callbacks and store them.\n   * Otherwise we can't unbind from these events later because the\n   * function signatures won't match.\n   */\n  _bindEventListenerCallbacks() {\n    this._onResizeBound = this._onResize.bind(this);\n    this._onLoadBound = this._onLoad.bind(this);\n    this._onVisibleBound = this._onVisible.bind(this);\n    this._toggleDropdownBound = this._toggleDropdown.bind(this);\n    this._onKeydownBound = debounce(this._onKeydown.bind(this), 100);\n  }\n\n\n  /**\n   * Add event listeners for DOM events.\n   */\n  _addEventListeners() {\n    window.addEventListener('resize', this._onResizeBound);\n    document.addEventListener('spark.visible-children', this._onVisibleBound, true);\n    window.addEventListener('load', this._onLoadBound);\n    this.el.addEventListener('keydown', this._onKeydownBound);\n    document.addEventListener('spark.step-indicator', this._toggleDropdownBound, true);\n  }\n\n\n  /**\n   * Remove event listeners for DOM events..\n   */\n  _removeEventListeners() {\n    window.removeEventListener('resize', this._onResizeBound);\n    document.removeEventListener('spark.visible-children', this._onVisibleBound, true);\n    document.removeEventListener('click', this._toggleDropdownBound);\n    window.removeEventListener('load', this._onLoadBound);\n    this.el.removeEventListener('keydown', this._onKeydownBound);\n    document.removeEventListener('spark.step-indicator', this._toggleDropdownBound, true);\n  }\n\n\n  /**\n   * Change selected step state into incomplete\n   * @param {Int} index of selected step\n   */\n  _resetStepState(stepIndex) {\n    if( stepIndex < 0 || stepIndex >= this._items.length ) {\n      return;\n    }\n\n    removeClass(this._items[stepIndex], ['spark-step-indicator__item--completed', 'spark-step-indicator__item--current', 'spark-step-indicator__item--disabled']);\n    this._items[stepIndex].removeAttribute('tabindex');\n  }\n\n\n  /**\n   * Set selected step state: completed/current/disabled/incomplete\n   * For current step, will remove current step from other steps\n   * @param {Int} index of selected step\n   * @param {String} state to be set\n   */\n  setStepState(stepIndex, state) {\n    if( stepIndex < 0 || stepIndex >= this._items.length ) {\n      return this;\n    }\n    switch(state) {\n      case 'completed':\n        this._resetStepState(stepIndex);\n        addClass(this._items[stepIndex], 'spark-step-indicator__item--completed');\n        break;\n      case 'current':\n        var currentStep = this._list.querySelector('.spark-step-indicator__item--current');\n        removeClass(currentStep, 'spark-step-indicator__item--current');\n        addClass(this._items[stepIndex], 'spark-step-indicator__item--current');\n        break;\n      case 'disabled':\n        this._resetStepState(stepIndex);\n        addClass(this._items[stepIndex], 'spark-step-indicator__item--disabled');\n        this._items[stepIndex].setAttribute('tabindex', '-1');\n        break;\n      case 'incomplete':\n        this._resetStepState(stepIndex);\n        break;\n    }\n    this._calculateStyle();\n    return this;\n  }\n\n\n  /**\n   * When the Enter key is pressed toggle the dropdown or update the selection if in dropdown mode\n   * When the Tab key is pressed, navigate to the next element by default otherwise collapse the dropdown\n   * @param {Object} Reference of DOM obj\n   * @param {Object} Event of click\n   */\n  _onKeydown(e) {\n    if (!getParent(e.target, '.spark-step-indicator__list', this.el) && !getParent(e.target, '.spark-step-indicator__body--dropdown', this.el)) {\n      return;\n    }\n\n    var code = e.keyCode || e.which;\n\n    // Enter Key\n    if (code === 13) {\n      if ( hasClass(e.target, 'spark-step-indicator__item--dropdown__header') ) {\n        e.preventDefault();\n        this._toggleDropdown(e);\n      }\n    }\n\n    // Tab Key - Check if focus has now shifted outside of the Step Indicator Dropdown\n    if (code === 9) {\n      hasClass(document.activeElement, 'spark-step-indicator__item') === false && this._dropdownExpand === true ? this._toggleDropdown(e) : null;\n    }\n  }\n\n\n  /**\n   * Provide a method to bind click callback function to certain step.\n   * @param {Array} a set of step indices represent the target of callback\n   * @param {Function} callback function\n   */\n  bindStepClickCallback(indexArr, callback) {\n    callback = callback || noop;\n    for(var i=0; i < indexArr.length; i++) {\n      this._items[indexArr[i]].addEventListener('click', callback);\n    }\n    return this;\n  }\n\n\n  /**\n   * Remove click callback from steps\n   * @param {Array} a set of step indices represent the target of callback\n   * @param {Function} callback function\n   *\n   */\n  removeStepClickCallback(indexArr, callback) {\n    callback = callback || noop;\n    for(var i=0; i < indexArr.length; i++) {\n      this._items[indexArr[i]].removeEventListener('click', callback);\n    }\n    return this;\n  }\n\n\n  /**\n   * Work for _calculateStyle.\n   * Comparing the width of list and total items, including padding\n   * @return {Boolean}\n   */\n  _isOverWidth() {\n    var listWidth = this._list.offsetWidth;\n    var itemTotalWidth = this._listPaddingTotal;\n    for (var i = 0; i < this._items.length; i++) {\n      itemTotalWidth += this._items[i].offsetWidth;\n    }\n    if( listWidth < itemTotalWidth ) {\n      return true;\n    }\n    return false;\n  }\n\n\n  /**\n   * Calcuate different style based settings\n   */\n  _calculateStyle() {\n    if(!this.header) {\n      var titleEl = this.el.querySelector('.spark-step-indicator__title');\n      titleEl.style.display = 'none';\n      addClass(this._body, 'spark-step-indicator__body--no-border');\n    }\n    if(!this.subtitle) {\n      var subtitleEl = this.el.querySelector('.spark-step-indicator__subtitle');\n      subtitleEl.style.display = 'none';\n    }\n    // Remove special DOM and Class of dropdown variation\n    this._switchFromDropdown();\n    switch(this.type) {\n      case 'standard-dropdown':\n        this._calculateRespStyle();\n        break;\n      case 'large':\n        this._calculateLargeStyle();\n        break;\n      case 'condensed':\n        this._calculateCondensedStyle();\n        break;\n      case 'dropdown':\n        this._calculateDropdownStyle();\n        break;\n      default:\n        this._calculateStandardStyle();\n    }\n    // Work for IE11, detect IE11 via userAgent\n    // userAgent: Mozilla/5.0 (Windows NT 6.3; Trident/7.0; rv 11.0) like Gecko\n    var isIE11 = !!(navigator.userAgent.match(/Trident/) && navigator.userAgent.match(/rv[ :]11/));\n    if(isIE11) {\n      this._addItemWidth();\n    }\n  }\n\n\n  /**\n   * For IE11 ONLY, Add width: 100% to work around IE11 bug\n   * IE11 will have incorrect position with flex-grow max-width and justify-content when items hit max-width\n   * Sometimes after calculating, even itemTotalWidth is less 1px than listWidth,\n   * it also means items are fit in the list, not hit the max-width\n   * So add 2px to list width when comparing to avoid this.\n   */\n  _addItemWidth() {\n    if( !hasClass(this._list, 'spark-step-indicator__list--condensed') &&\n       !hasClass(this._body, 'spark-step-indicator__body--dropdown') ) {\n      var listWidth = this._list.offsetWidth;\n      var itemTotalWidth = this._listPaddingTotal;\n      for (var i = 0; i < this._items.length; i++) {\n        itemTotalWidth += this._items[i].offsetWidth;\n      }\n      if(listWidth - itemTotalWidth > 2) {\n        this._switchWidthForIe11(0, true);\n      }\n      else {\n        this._switchWidthForIe11(0, false);\n      }\n    }\n    else {\n      this._switchWidthForIe11(0, false);\n    }\n  }\n\n\n  /**\n   * Switch spark-step-indicator__item style width: 100% to work around IE11 bug\n   * @param {Number} start index of step\n   * @param {Boolean} whether add width: 100%\n   */\n  _switchWidthForIe11(index, val) {\n    for (var i = index; i < this._items.length; i++) {\n      this._items[i].style.width = val ? '100%' : '';\n    }\n  }\n\n\n  /**\n   * Fix on large variation\n   * Calculate node and list length remove connect line of each end\n   * Sometimes after calculating, even itemTotalWidth is bigger 1px than listWidth,\n   * it also means items are fit in the list, not over width.\n   * So add 2px to list width when comparing to avoid this.\n   * Dependency of _calculateCondensedStyle() and _calculateStandardStyle()\n   *\n   */\n  _calculateLargeStyle() {\n    this._list.style['flex-wrap'] = 'wrap';\n    var listWidth = this._list.offsetWidth;\n    var itemTotalWidth = this._listPaddingTotal;\n    for (var i = 0; i < this._items.length; i++) {\n      removeClass(this._items[i], 'noline');\n      itemTotalWidth += this._items[i].offsetWidth;\n\n      if(listWidth < itemTotalWidth && i > 0) {\n        addClass(this._items[i-1], 'noline');\n        itemTotalWidth = this._items[i].offsetWidth + this._listPaddingTotal;\n      }\n    }\n  }\n\n\n  /**\n   * Fix on condensed variation\n   * Same as fix large variation except CSS class\n   */\n  _calculateCondensedStyle(){\n    addClass(this._list, 'spark-step-indicator__list--condensed');\n    this._calculateLargeStyle();\n  }\n\n\n  /**\n   * Fix on dropdown variation\n   */\n  _calculateDropdownStyle(){\n    this._switchToDropdown();\n  }\n\n\n  /**\n   * Change only between large and condensed variation\n   * no dropdown variation\n   */\n  _calculateStandardStyle() {\n    this._list.style.visibility = 'hidden';\n    for (var i = 0; i < this._items.length; i++) {\n      removeClass(this._items[i], 'noline');\n    }\n    removeClass(this._list, 'spark-step-indicator__list--condensed');\n    if(this._isOverWidth()) {\n      addClass(this._list, 'spark-step-indicator__list--condensed');\n      this._calculateLargeStyle();\n    }\n    this._list.style.visibility = 'visible';\n  }\n\n\n  /**\n   * Make list invisible and change it into large variation at first.\n   * Switch variation from top to bottom to find the fit one\n   */\n  _calculateRespStyle() {\n    this._list.style.visibility = 'hidden';\n    removeClass(this._list, 'spark-step-indicator__list--condensed');\n    if(this._isOverWidth()) {\n      addClass(this._list, 'spark-step-indicator__list--condensed');\n      if(this._isOverWidth()) {\n        removeClass(this._list, 'spark-step-indicator__list--condensed');\n        this._switchToDropdown();\n      }\n    }\n    this._list.style.visibility = 'visible';\n  }\n\n\n  /**\n   * Create header element for dropdown variation\n   * Try to find the current step of indicator and show it on the header\n   * if not found, show the first step\n   * @return {Object} header element of dropdown variation\n   */\n  _createDropdownHeader() {\n    var el = document.createElement('a');\n    var currentStep = this._list.querySelector('.spark-step-indicator__item--current');\n    // Can not find current step\n    if(!currentStep) {\n      currentStep = this._items[0];\n    }\n\n    // Set ARIA roles and attributes\n    el.setAttribute('role', 'button');\n    el.setAttribute('aria-expanded', 'false');\n    let listID = (this._list.getAttribute('id') !== null && this._list.getAttribute('id') !== '') ? this._list.getAttribute('id') : '';\n    el.setAttribute('aria-controls', listID);\n\n    el.innerHTML = currentStep.innerHTML;\n    el.innerHTML += '<span class=\"spark-step-indicator__notice\">' + this.dropdownLabel + '</span>';\n\n    // Create label element like '2 of 7'\n    var stepNotice = document.createElement('span');\n    var currentIndex = Array.prototype.indexOf.call(this._items, currentStep);\n    stepNotice.innerHTML = (currentIndex + 1) + ' of ' + this._items.length;\n    stepNotice.className = 'spark-step-indicator__label--dropdown';\n\n    el.appendChild(stepNotice);\n    el.className = currentStep.className;\n    el.setAttribute('tabindex', '0');\n\n    addClass(el,'spark-step-indicator__item--dropdown__header');\n    this._dropdownHeader = el;\n  }\n\n\n  /**\n   * Some extra event binder and DOM of dropdown variation need to be set\n   */\n  _switchToDropdown() {\n    addClass(this._body, 'spark-step-indicator__body--dropdown');\n    this._createDropdownHeader();\n    this._list.parentNode.insertBefore(this._dropdownHeader, this._list);\n    document.removeEventListener('click', this._toggleDropdownBound);\n    document.addEventListener('click', this._toggleDropdownBound);\n    addClass(this._list, 'collapse');\n\n    for( let i = 0; i < this._items.length; i++) {\n      if( !hasClass(this._items[i], 'spark-step-indicator__item--disabled') ){\n        this._items[i].setAttribute('tabindex', '-1');\n      }\n    }\n  }\n\n\n  /**\n   * Remove extra event and DOM when switch variation from dropdown\n   */\n  _switchFromDropdown() {\n    removeClass(this._body, 'spark-step-indicator__body--dropdown');\n    var header = this._list.parentNode.querySelector('.spark-step-indicator__item--dropdown__header');\n    document.removeEventListener('click', this._toggleDropdownBound);\n    if(header) {\n      this._list.parentNode.removeChild(header);\n    }\n    removeClass(this._list, 'collapse');\n\n    for( let i = 0; i < this._items.length; i++) {\n      if( !hasClass(this._items[i], 'spark-step-indicator__item--disabled') ){\n        this._items[i].removeAttribute('tabindex');\n      }\n    }\n  }\n\n\n  /**\n   * Allow programmatic toggling of Dropdown version of Step Indicator.\n   * This becomes desirable particularly in the case of single page applications\n   */\n  toggle() {\n    if ( this._dropdownHeader ) {\n      let e = document.createEvent('Event');\n      e.initEvent('spark.step-indicator', true, true);\n      this._dropdownHeader.dispatchEvent(e);\n    }\n  }\n\n\n  /**\n   * Toggle collapse/expand state of step list in dropdown variation\n   * If there is a scroll in dropdown variation, scroll to 'current' node\n   * @param {Object} Reference of DOM obj\n   * @param {Object} Event of click\n   */\n  _toggleDropdown(e) {\n    var target = e.target || e.srcElement;\n    if( this._dropdownHeader.contains(target) ) {\n      if(!this._dropdownExpand) {\n        removeClass(this._list, 'collapse');\n        addClass(this._dropdownHeader , 'expand');\n        this._dropdownExpand = true;\n        this._dropdownHeader.setAttribute('aria-expanded', 'true');\n\n        for( let i = 0; i < this._items.length; i++) {\n          if( !hasClass(this._items[i], 'spark-step-indicator__item--disabled') ){\n            this._items[i].removeAttribute('tabindex');\n          }\n        }\n      }\n      else {\n        addClass(this._list, 'collapse');\n        removeClass(this._dropdownHeader , 'expand');\n        this._dropdownExpand = false;\n        this._dropdownHeader.setAttribute('aria-expanded', 'false');\n\n        for( let i = 0; i < this._items.length; i++) {\n          if( !hasClass(this._items[i], 'spark-step-indicator__item--disabled') ){\n            this._items[i].setAttribute('tabindex', '-1');\n          }\n        }\n      }\n    }\n    else {\n      addClass(this._list, 'collapse');\n      removeClass(this._dropdownHeader , 'expand');\n      this._dropdownExpand = false;\n      this._dropdownHeader.setAttribute('aria-expanded', 'false');\n\n      for( let i = 0; i < this._items.length; i++) {\n        if( !hasClass(this._items[i], 'spark-step-indicator__item--disabled') ){\n          this._items[i].setAttribute('tabindex', '-1');\n        }\n      }\n    }\n    if(this._list.offsetHeight > 0) {\n      var scrollMove = 0;\n      for( let i = 0; i < this._items.length; i ++) {\n        if( hasClass(this._items[i], 'spark-step-indicator__item--current') ){\n          this._list.scrollTop = scrollMove;\n          break;\n        }\n        scrollMove += this._items[i].offsetHeight;\n      }\n    }\n  }\n\n\n  /**\n   * When the window finish loading\n   */\n  _onLoad() {\n    this._checkPadding();\n    this._calculateStyle();\n  }\n\n\n  /**\n   * When the window is resized, base on params make some reponsive change.\n   */\n  _onResize() {\n    this._checkPadding();\n    this._calculateStyle();\n  }\n\n\n  /**\n   * Padding is applied to condensed step indicators but not large step indicators.\n   * Therefore as large indicators transition to condensed ones and vice versa, verify\n   * the padding values in order to properly calculate positioning of divider line classes\n   */\n  _checkPadding() {\n    // Cache list left + right padding for width calculating\n    var listStyles = getComputedStyle(this._list);\n    var listPaddingLeft = parseInt(listStyles.getPropertyValue('padding-left'), 10);\n    var listPaddingRight = parseInt(listStyles.getPropertyValue('padding-right'), 10);\n    this._listPaddingTotal = listPaddingLeft + listPaddingRight;\n  }\n\n\n  /**\n   * When a parent container shows its children and our element\n   * is inside of it, resize\n   * @param  {Object} e\n   */\n  _onVisible(e) {\n    if(e.target.contains(this.el)) {\n      window.setTimeout(function() {\n        this._calculateStyle();\n      }.bind(this),0);\n    }\n  }\n}\n\n\n/**\n * Whitelisted parameters which can be set on construction.\n * @type {Array}\n */\nStepIndicator.prototype._whitelistedParams = ['type', 'header', 'subtitle', 'dropdownLabel'];\n\n\n/**\n * Default values for internal properties we will be setting.\n * These are set on each construction so we don't leak properties\n * into the prototype chain.\n * @type {Object}\n */\nStepIndicator.prototype.defaults = {\n  el: null,\n  containerEl: null,\n  header: null,\n  subtitle: null,\n  dropdownLabel: null,\n  type: null,\n  _body: null,\n  _list: null,\n  _listPaddingTotal: 0,\n  _dropdownExpand: false,\n  _dropdownHeader: null,\n  _items: null,\n  _onResizeBound: null,\n  _onVisibleBound: null\n};\n\nexport default StepIndicator;\n"]}