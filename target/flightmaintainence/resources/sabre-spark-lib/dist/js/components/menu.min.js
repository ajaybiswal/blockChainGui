/* sabre-spark - v2.4.4 - 2018-3-6 DO NOT MODIFY THIS FILE DIRECTLY OR YOU WILL NOT BE ABLE TO UPDATE YOUR VERSION OF SPARK. */
!function(e){if("object"==typeof exports&&"undefined"!=typeof module)module.exports=e();else if("function"==typeof define&&define.amd)define([],e);else{var t;((t="undefined"!=typeof window?window:"undefined"!=typeof global?global:"undefined"!=typeof self?self:this).Spark||(t.Spark={})).Menu=e()}}(function(){return function o(a,s,l){function u(r,e){if(!s[r]){if(!a[r]){var t="function"==typeof require&&require;if(!e&&t)return t(r,!0);if(c)return c(r,!0);var n=new Error("Cannot find module '"+r+"'");throw n.code="MODULE_NOT_FOUND",n}var i=s[r]={exports:{}};a[r][0].call(i.exports,function(e){var t=a[r][1][e];return u(t||e)},i,i.exports,o,a,s,l)}return s[r].exports}for(var c="function"==typeof require&&require,e=0;e<l.length;e++)u(l[e]);return u}({1:[function(e,t,r){"use strict";Object.defineProperty(r,"__esModule",{value:!0});var n,i=e("../helpers/util/each"),o=(n=i)&&n.__esModule?n:{default:n};var a=function(){},s=function(){function r(e){var t=1<arguments.length&&void 0!==arguments[1]?arguments[1]:{};!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,r),t.elRequired&&!e||(this.setParams(this.defaults||{},!0),this.setParams(t),(this._cacheElements||a).call(this,e,t),(this._parseParams||a).call(this))}return r.prototype.remove=function(e){return this._removeEventListeners&&this._removeEventListeners(),!e&&this.el&&this.el.parentNode&&this.el.parentNode.removeChild(this.el),this.unsetParams(this.defaults),this},r.prototype.update=function(e){var t=1<arguments.length&&void 0!==arguments[1]?arguments[1]:{};return this._removeEventListeners&&this._removeEventListeners(),(this._cacheElements||a).call(this,e||this.el,t),(this._parseParams||a).call(this),this._addEventListeners&&this._addEventListeners(),this},r.prototype.setParams=function(e,r){var n=this;return(0,o.default)(e,function(e,t){(-1!==n._whitelistedParams.indexOf(e)||r)&&(n[e]=t)}),this},r.prototype.unsetParams=function(e,t){return e=e instanceof Array?e:Object.keys(e),t=t||this,(0,o.default)(e,function(e){delete t[e]}),this},r}();s.prototype._whitelistedParams=[],s.prototype.defaults={},r.default=s,t.exports=r.default},{"../helpers/util/each":16}],2:[function(e,t,r){"use strict";Object.defineProperty(r,"__esModule",{value:!0});var n=i(e("./base")),o=i(e("../helpers/animation/height")),a=i(e("../helpers/css/transform")),s=i(e("../helpers/dom/add-class")),l=i(e("../helpers/dom/remove-class")),u=i(e("../helpers/dom/has-class")),c=i(e("../helpers/traversal/has-parent")),d=i(e("../helpers/traversal/get-parent")),f=i(e("../helpers/traversal/get-parents")),p=i(e("../helpers/traversal/get-child")),h=i(e("../helpers/manipulation/wrap-element"));function i(e){return e&&e.__esModule?e:{default:e}}function m(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}var g=function(){},_=function(n){function i(e){var t,r=1<arguments.length&&void 0!==arguments[1]?arguments[1]:{};return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,i),r.elRequired=!0,(t=m(this,n.call(this,e,r)))&&(t._bindEventListenerCallbacks(),t._addEventListeners(),t._checkAnimation()),m(t)}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(i,n),i.prototype._cacheElements=function(e){this.el=e,this.toggleEl=this.el.querySelector(".spark-menu__toggle")},i.prototype._bindEventListenerCallbacks=function(){this._onClickBound=this._onClick.bind(this),this._onFocusBound=this._onFocus.bind(this),this._onBlurBound=this._onBlur.bind(this),this._onKeydownBound=this._onKeydown.bind(this)},i.prototype._addEventListeners=function(){this.el.addEventListener("click",this._onClickBound),this.el.addEventListener("focus",this._onFocusBound,!0),this.el.addEventListener("blur",this._onBlurBound,!0),this.el.addEventListener("keydown",this._onKeydownBound)},i.prototype._removeEventListeners=function(){this.el.removeEventListener("click",this._onClickBound),this.el.removeEventListener("focus",this._onFocusBound),this.el.removeEventListener("blur",this._onBlurBound),this.el.removeEventListener("keydown",this._onKeydownBound)},i.prototype._toggleItem=function(e){(0,u.default)(e,"open")?this._closeItem(e):this._openItem(e)},i.prototype._toggleAriaCheckedState=function(e){if(e.hasAttribute("aria-checked")){var t="true"===e.getAttribute("aria-checked");e.setAttribute("aria-checked",String(!t))}},i.prototype._checkAnimation=function(){this.el.querySelector(".spark-menu__list-next")&&(this.cachedList=this.cachedList||[],this._createMenuAnimationWrapper(),this._animateListChange())},i.prototype._createMenuAnimationWrapper=function(){if(!this.wrapperEl){var e=document.createElement("div");(0,s.default)(e,"spark-menu__animation-wrapper"),(0,h.default)(this.el.querySelector(".spark-menu__list"),e),this.wrapperEl=e}},i.prototype._animateListChange=function(e){e&&(0,s.default)(this.wrapperEl,"no-animate"),this.wrapperEl.setAttribute("style",(0,a.default)("translateX","-"+100*this.cachedList.length+"%")),e&&setTimeout(function(){(0,l.default)(this.wrapperEl,"no-animate")}.bind(this),1)},i.prototype._appendList=function(e,t){this._createMenuAnimationWrapper();var r=e.cloneNode(!0);(0,s.default)(r,"nestedList"),r.setAttribute("data-nested-list-id",r.getAttribute("id")),r.removeAttribute("id"),this.wrapperEl&&(this.wrapperEl.appendChild(r),this.cachedList.push(r),this._animateListChange(t))},i.prototype._removeLastList=function(){if(this.cachedList.length){var e=this.cachedList.pop();this.wrapperEl&&this._animateListChange(),window.setTimeout(function(){e.parentNode.removeChild(e)},250)}},i.prototype._removeAllCachedLists=function(){if(this.cachedList)for(;this.cachedList.length;)this._removeLastList()},i.prototype._getNextList=function(e){return e.querySelector(".spark-menu__list-next")?document.querySelector(e.querySelector(".spark-menu__list-next").getAttribute("data-menu")):null},i.prototype._openItem=function(e){(0,u.default)(e,"open")||((0,o.default)({el:e,toggleEl:".spark-menu__list"}),(0,s.default)(e,"open"))},i.prototype._closeItem=function(e){(0,u.default)(e,"open")&&((0,o.default)({el:e,toggleEl:".spark-menu__list",toggleValue:"none",action:"collapse"}),(0,l.default)(e,"open"))},i.prototype._activateItem=function(e){if(!(0,u.default)(e,"active")){var t=(0,f.default)(e,".spark-menu__list",this.el);this._deactivateItems(t[t.length-1]),this._deactivateItemSiblings(e),(0,s.default)(e,"active"),this._activateItemParents(e,this.el)}},i.prototype._activateItemParents=function(e,t){for(var r=(0,f.default)(e.parentNode,'[class*="list-item"]',t),n=0,i=r.length;n<i;n++)this._openItem(r[n]),(0,s.default)(r[n],"child-active")},i.prototype._deactivateItems=function(e){for(var t=e.querySelectorAll('[class*="list-item"].active'),r=0,n=t.length;r<n;r++)(0,l.default)(t.item(r),"active")},i.prototype._deactivateItemSiblings=function(e){for(var t=e.parentNode.querySelectorAll('[class*="list-item"].child-active'),r=0,n=t.length;r<n;r++)(0,l.default)(t[r],"child-active"),(0,l.default)(t[r],"open")},i.prototype._openActiveParents=function(){var e=this.el.querySelector(".active");if(e)for(var t,r,n=(0,f.default)(e,".spark-menu__list-item",this.el),i=n.length-1;0<=i;i--)(t=(0,p.default)(n[i],".spark-menu__list-links"))&&t.querySelector(".spark-menu__list-next")?(r=this._getNextList(n[i]))&&!this._cachedListContainsID(r.getAttribute("id"))&&this._appendList(r,!0):(0,s.default)(n[i],"open")},i.prototype._cachedListContainsID=function(e){for(var t=this.cachedList.length;t--;)if(this.cachedList[t].getAttribute("data-nested-list-id")===e)return!0;return!1},i.prototype._onClick=function(e){if(!(0,d.default)(e.target,"form",this.el)){if(e.target===this.toggleEl||(0,c.default)(e.target,this.toggleEl))return(this.onToggle||g)(e,this);var t=(0,d.default)(e.target,".spark-menu__list-expand",this.el),r=(0,d.default)(e.target,".spark-menu__list-item",this.el);if(r&&!(0,d.default)(e.target,".spark-menu__ignore",this.el)){if(t)return this._toggleAriaCheckedState(t),this._toggleItem(r);if(r&&!(0,c.default)(e.target,document.querySelector(".spark-header--visible"))){var n=this._getNextList(r);if(n&&(0,u.default)(e.target,"spark-menu__list-next"))return this._activateItem(r),void this._appendList(n);if((0,d.default)(e.target,".spark-menu__list-back",r)&&(0,u.default)(e.target,"spark-menu__list-back"))return void this._removeLastList()}this._activateItem(r)}}},i.prototype._onKeydown=function(e){var t=e.keyCode||e.which;if(!(0,d.default)(e.target,"form",this.el)){if(e.target===this.toggleEl||(0,c.default)(e.target,this.toggleEl))return(this.onToggle||g)(e,this);var r=(0,d.default)(e.target,".spark-menu__list-expand",this.el),n=(0,d.default)(e.target,".spark-menu__list-item",this.el);if(n&&!(0,d.default)(e.target,".spark-menu__ignore",this.el)){if(r&&(32===t||13===t))return e.preventDefault(),this._toggleAriaCheckedState(r),this._toggleItem(n);if(n&&!(0,c.default)(e.target,document.querySelector(".spark-header--visible"))){var i=this._getNextList(n);if(i&&(0,u.default)(e.target,"spark-menu__list-next")&&(32===t||13===t))return e.preventDefault(),this._activateItem(n),void this._appendList(i);if((0,d.default)(e.target,".spark-menu__list-back",n)&&(0,u.default)(e.target,"spark-menu__list-back")&&(32===t||13===t))return e.preventDefault(),void this._removeLastList()}32!==t&&13!==t||this._activateItem(n)}}},i.prototype._onFocus=function(e){for(var t=e.target,r=t;t&&(t=(0,d.default)(r.parentNode,".spark-menu__list-item",this.el))&&t!==r;)(0,s.default)(t,"has-focus"),r=t},i.prototype._onBlur=function(e){for(var t=e.target,r=t;t&&(t=(0,d.default)(r.parentNode,".spark-menu__list-item",this.el))&&t!==r;)(0,l.default)(t,"has-focus"),r=t},i}(n.default);_.prototype._whitelistedParams=["onToggle"],_.prototype.defaults={cachedList:null,el:null,toggleEl:null,wrapperEl:null,onToggle:null,_onClickBound:null,_onFocusBound:null,_onBlurBound:null,_onKeydownBound:null},r.default=_,t.exports=r.default},{"../helpers/animation/height":3,"../helpers/css/transform":4,"../helpers/dom/add-class":5,"../helpers/dom/has-class":6,"../helpers/dom/remove-class":8,"../helpers/manipulation/wrap-element":10,"../helpers/traversal/get-child":11,"../helpers/traversal/get-parent":12,"../helpers/traversal/get-parents":13,"../helpers/traversal/has-parent":14,"./base":1}],3:[function(e,t,r){"use strict";Object.defineProperty(r,"__esModule",{value:!0});var h=n(e("../dom/outer-height")),m=n(e("../dom/add-class")),g=n(e("../dom/remove-class")),_=n(e("../dom/has-class")),v=n(e("../dom/toggle-class"));function n(e){return e&&e.__esModule?e:{default:e}}var y=function(){},b={els:[],completeCallbacks:[]};function k(e){e.toggleClassName?(0,v.default)(e.el,e.toggleClassName,!e.collapse):e.toggleEl.style[e.toggleProperty]="",e.el.style.height="",e.toggleEl.style.height="",e.toggleEl.style.marginBottom="",e.toggleEl.style.marginTop="",(0,g.default)(e.el,e.heightAnimationClass),(0,g.default)(e.toggleEl,e.heightAnimationClass),e.onComplete();var t=b.els.indexOf(e.el);b.els.splice(t,1),b.completeCallbacks.splice(t,1)}r.default=function(n){var i=(n=n||{}).el;if(i){var o=n.action&&"collapse"===n.action,a=n.heightAnimationClass||"spark-animate-height",s="string"==typeof n.toggleEl?i.querySelector(n.toggleEl):n.toggleEl;if(s&&!(0,_.default)(i,"spark-no-animate")){var l=n.toggleClass,u=n.toggleProperty||"display",c=window.getComputedStyle(s),d=c[u],f=n.toggleValue||function(e,t,r){switch(t){case"overflow":case"visibility":return"visible"===r?"hidden":"visible";default:return"block"===r||"inline-block"===r?"none":"block"}}(0,d),e=b.els.indexOf(i);if(-1!==e){var t=b.completeCallbacks[e];t&&clearTimeout(t),k({el:i,toggleEl:s,onComplete:n.onComplete||y,collapse:o,toggleProperty:u,toggleClassName:l,toggleValue:f,heightAnimationClass:a})}var p=(0,h.default)(i);l?(0,v.default)(i,l,!o):s.style[u]=f,o?setTimeout(r,0):r()}}function r(){var e=(0,h.default)(i),t=void 0,r=void 0;o?(l?(0,g.default)(i,l):s.style[u]=d,r=(0,h.default)(s,c),t=0):(t=(0,h.default)(s,c),r=0),i.style.height=p+"px",s.style.height=r+"px",s.style.marginBottom="0px",s.style.marginTop="0px",(0,m.default)(i,a),(0,m.default)(s,a),b.els.push(i),setTimeout(function(){i.style.height=e+"px",s.style.height=t+"px",b.completeCallbacks.push(setTimeout(function(){k({el:i,toggleEl:s,onComplete:n.onComplete||y,collapse:o,toggleProperty:u,toggleClassName:l,toggleValue:f,heightAnimationClass:a})},void 0!==n.animationDuration?n.animationDuration:201))},0)}},t.exports=r.default},{"../dom/add-class":5,"../dom/has-class":6,"../dom/outer-height":7,"../dom/remove-class":8,"../dom/toggle-class":9}],4:[function(e,t,r){"use strict";Object.defineProperty(r,"__esModule",{value:!0});var n,o="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},i=e("../util/each"),a=(n=i)&&n.__esModule?n:{default:n};var s=["-webkit-","-moz-","-o-","-ms-",""];r.default=function(r,n){var i="";return(0,a.default)(s,function(e){if("object"===(void 0===n?"undefined":o(n)))for(var t in i+=e+"transform: ",n)i+=t+"("+n[t]+"); ";else i+=e+"transform: "+r+"("+n+"); "}),i},t.exports=r.default},{"../util/each":16}],5:[function(e,t,r){"use strict";Object.defineProperty(r,"__esModule",{value:!0});var s=n(e("../util/trim")),l=n(e("./has-class"));function n(e){return e&&e.__esModule?e:{default:e}}var u=/\s+/,c=/\s{2,}/g;r.default=function(e,t){if(1===(t=2===arguments.length&&"string"==typeof t?(0,s.default)(t).split(u):t instanceof Array?t:Array.prototype.slice.call(arguments,1)).length&&e.classList)return t[0]&&e.classList.add(t[0]),e;for(var r=[],n=0,i=t.length,o=void 0,a="string"==typeof e.className?e.className:e.getAttribute?e.getAttribute("class"):"";n<i;n++)(o=t[n])&&!(0,l.default)(a,o)&&r.push(o);return r.length&&("string"==typeof e.className?e.className=(0,s.default)((a+" "+r.join(" ")).replace(c," ")):e.setAttribute&&e.setAttribute("class",(0,s.default)((a+" "+r.join(" ")).replace(c," ")))),e},t.exports=r.default},{"../util/trim":17,"./has-class":6}],6:[function(e,t,r){"use strict";Object.defineProperty(r,"__esModule",{value:!0});var n="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e};r.default=function(e,t){return-1!==(" "+("object"===(void 0===e?"undefined":n(e))?e.className||e.getAttribute&&e.getAttribute("class")||"":e||"").replace(/[\t\r\n\f]/g," ")+" ").indexOf(" "+t+" ")},t.exports=r.default},{}],7:[function(e,t,r){"use strict";Object.defineProperty(r,"__esModule",{value:!0});var n,i=e("../util/each"),o=(n=i)&&n.__esModule?n:{default:n};var a=["marginTop","marginBottom","borderTop","borderBottom"];r.default=function(e,t){t=t||window.getComputedStyle(e);var r=e.clientHeight;return(0,o.default)(a,function(e){r+=parseInt(t[e]||0,10)}),r},t.exports=r.default},{"../util/each":16}],8:[function(e,t,r){"use strict";Object.defineProperty(r,"__esModule",{value:!0});var n,i=e("../util/trim"),l=(n=i)&&n.__esModule?n:{default:n};var u=/\s+/,c=/\s{2,}/g;r.default=function(e,t){if(1===(t=2===arguments.length&&"string"==typeof t?(0,l.default)(t).split(u):t instanceof Array?t:Array.prototype.slice.call(arguments,1)).length&&e.classList)return t[0]&&e.classList.remove(t[0]),e;for(var r=" "+("string"==typeof e.className?e.className:e.getAttribute?e.getAttribute("class"):"")+" ",n=r,i=void 0,o=void 0,a=0,s=t.length;a<s;a++)-1!==(o=(i=t[a])?n.indexOf(" "+i+" "):-1)&&(o+=1,n=n.slice(0,o)+n.slice(o+i.length));return r!==n&&("string"==typeof e.className?e.className=(0,l.default)(n.replace(c," ")):e.setAttribute&&e.setAttribute("class",(0,l.default)(n.replace(c," ")))),e},t.exports=r.default},{"../util/trim":17}],9:[function(e,t,r){"use strict";Object.defineProperty(r,"__esModule",{value:!0});var a=n(e("./has-class")),s=n(e("./add-class")),l=n(e("./remove-class"));function n(e){return e&&e.__esModule?e:{default:e}}r.default=function e(t,r,n){if(t){if(!(t instanceof NodeList||t instanceof Array))return("add"==(void 0!==n?(n="function"==typeof n?n.call(null,t):n)?"add":"remove":(0,a.default)(t,r)?"remove":"add")?s.default:l.default)(t,r);for(var i=0,o=t.length;i<o;i++)e(t[i],r,n)}},t.exports=r.default},{"./add-class":5,"./has-class":6,"./remove-class":8}],10:[function(e,t,r){"use strict";Object.defineProperty(r,"__esModule",{value:!0}),r.default=function(e,t){return t=t||document.createElement("div"),e.nextSibling?e.parentNode.insertBefore(t,e.nextSibling):e.parentNode.appendChild(t),t.appendChild(e)},t.exports=r.default},{}],11:[function(e,t,r){"use strict";Object.defineProperty(r,"__esModule",{value:!0});var n,i=e("./matches"),o=(n=i)&&n.__esModule?n:{default:n};r.default=function(e,t){for(var r=0,n=e.children.length;r<n;r++)if((0,o.default)(e.children[r],t))return e.children[r];return null},t.exports=r.default},{"./matches":15}],12:[function(e,t,r){"use strict";Object.defineProperty(r,"__esModule",{value:!0});var n,i=e("./matches"),o=(n=i)&&n.__esModule?n:{default:n};r.default=function(e,t,r){for(r=r instanceof Array?r:[r||document.body];e;){if((0,o.default)(e,t))return e;if(-1!==r.indexOf(e))return!1;e=e.parentNode}return!1},t.exports=r.default},{"./matches":15}],13:[function(e,t,r){"use strict";Object.defineProperty(r,"__esModule",{value:!0});var n,i=e("./get-parent"),o=(n=i)&&n.__esModule?n:{default:n};r.default=function(e,t,r){for(var n=[];e=(0,o.default)(e.parentNode,t,r);)n.push(e);return n},t.exports=r.default},{"./get-parent":12}],14:[function(e,t,r){"use strict";Object.defineProperty(r,"__esModule",{value:!0}),r.default=function(e,t){for(var r=e.parentNode;r;){if(r===t)return!0;r=r.parentNode}return!1},t.exports=r.default},{}],15:[function(e,t,r){"use strict";Object.defineProperty(r,"__esModule",{value:!0});var i="undefined"!=typeof Element&&(Element.prototype.matches||Element.prototype.matchesSelector||Element.prototype.webkitMatchesSelector||Element.prototype.mozMatchesSelector||Element.prototype.msMatchesSelector||Element.prototype.oMatchesSelector);r.default=function(e,t){if(i)return i.call(e,t);for(var r=e.parentNode?e.parentNode.querySelectorAll(t):[],n=0;n<r.length;n++)if(r[n]===e)return!0;return!1},t.exports=r.default},{}],16:[function(e,t,r){"use strict";Object.defineProperty(r,"__esModule",{value:!0}),r.default=function(e,t){if(e){if("function"!=typeof t)throw new Error("Cannot invoke `each` without a callback!");var r=0,n=e.length;if(void 0===n)for(r in e)"prototype"!==r&&e.hasOwnProperty(r)&&t(r,e[r]);else for(;r<n;r++)t(e[r])}},t.exports=r.default},{}],17:[function(e,t,r){"use strict";Object.defineProperty(r,"__esModule",{value:!0});var n=/^[\s\uFEFF\xA0]+|[\s\uFEFF\xA0]+$/g;r.default=function(e){return e.replace(n,"")},t.exports=r.default},{}]},{},[2])(2)});