/* sabre-spark - v2.4.4 - 2018-3-6 DO NOT MODIFY THIS FILE DIRECTLY OR YOU WILL NOT BE ABLE TO UPDATE YOUR VERSION OF SPARK. */
!function(e){if("object"==typeof exports&&"undefined"!=typeof module)module.exports=e();else if("function"==typeof define&&define.amd)define([],e);else{var t;((t="undefined"!=typeof window?window:"undefined"!=typeof global?global:"undefined"!=typeof self?self:this).Spark||(t.Spark={})).Filter=e()}}(function(){return function n(s,r,a){function d(l,e){if(!r[l]){if(!s[l]){var t="function"==typeof require&&require;if(!e&&t)return t(l,!0);if(u)return u(l,!0);var o=new Error("Cannot find module '"+l+"'");throw o.code="MODULE_NOT_FOUND",o}var i=r[l]={exports:{}};s[l][0].call(i.exports,function(e){var t=s[l][1][e];return d(t||e)},i,i.exports,n,s,r,a)}return r[l].exports}for(var u="function"==typeof require&&require,e=0;e<a.length;e++)d(a[e]);return d}({1:[function(e,t,l){"use strict";Object.defineProperty(l,"__esModule",{value:!0});var o,i=e("../helpers/util/each"),n=(o=i)&&o.__esModule?o:{default:o};var s=function(){},r=function(){function l(e){var t=1<arguments.length&&void 0!==arguments[1]?arguments[1]:{};!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,l),t.elRequired&&!e||(this.setParams(this.defaults||{},!0),this.setParams(t),(this._cacheElements||s).call(this,e,t),(this._parseParams||s).call(this))}return l.prototype.remove=function(e){return this._removeEventListeners&&this._removeEventListeners(),!e&&this.el&&this.el.parentNode&&this.el.parentNode.removeChild(this.el),this.unsetParams(this.defaults),this},l.prototype.update=function(e){var t=1<arguments.length&&void 0!==arguments[1]?arguments[1]:{};return this._removeEventListeners&&this._removeEventListeners(),(this._cacheElements||s).call(this,e||this.el,t),(this._parseParams||s).call(this),this._addEventListeners&&this._addEventListeners(),this},l.prototype.setParams=function(e,l){var o=this;return(0,n.default)(e,function(e,t){(-1!==o._whitelistedParams.indexOf(e)||l)&&(o[e]=t)}),this},l.prototype.unsetParams=function(e,t){return e=e instanceof Array?e:Object.keys(e),t=t||this,(0,n.default)(e,function(e){delete t[e]}),this},l}();r.prototype._whitelistedParams=[],r.prototype.defaults={},l.default=r,t.exports=l.default},{"../helpers/util/each":15}],2:[function(e,t,l){"use strict";Object.defineProperty(l,"__esModule",{value:!0});var o=i(e("./base")),n=i(e("../helpers/animation/height")),s=i(e("../helpers/dom/toggle-class")),r=i(e("../helpers/dom/has-class")),a=i(e("../helpers/traversal/get-parent"));function i(e){return e&&e.__esModule?e:{default:e}}function d(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}var u=function(){},h=function(o){function i(e){var t,l=1<arguments.length&&void 0!==arguments[1]?arguments[1]:{};return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,i),l.elRequired=!0,(t=d(this,o.call(this,e,l)))&&(t._bindEventListenerCallbacks(),t._addEventListeners()),d(t)}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(i,o),i.prototype.expand=function(){(this.onBeforeExpand||u)(),(0,n.default)({el:this.el,toggleClass:"expanded",toggleEl:".spark-expand__content, .spark-panel__content"}),this.isExpanded=!0,this._updateClasses();var e=document.createEvent("Event");return e.initEvent("spark.visible-children",!0,!0),this.el.dispatchEvent(e),this.el.querySelector("input")&&this.el.querySelector("input").focus(),(this.onAfterExpand||u)(),this},i.prototype.collapse=function(){return(this.onBeforeCollapse||u)(),(0,n.default)({el:this.el,toggleEl:".spark-expand__content, .spark-panel__content",toggleValue:"none",action:"collapse"}),this.isExpanded=!1,this._updateClasses(),(this.onAfterCollapse||u)(),this},i.prototype.toggle=function(){return this[this.isExpanded?"collapse":"expand"]()},i.prototype._cacheElements=function(e){this.el=e,this.isExpanded=(0,r.default)(this.el,"expanded"),this.accordionHeading=this.el.querySelector('[role="heading"]'),this.accordionContent=this.el.querySelector(".spark-panel__content"),this.panelContent=this.el.querySelector(".spark-expand__content"),this.panelCollapsedButton=this.el.querySelector(".spark-expand__hide--expanded"),this.panelExpandedButton=this.el.querySelector(".spark-expand__show--expanded")},i.prototype._updateClasses=function(){(0,s.default)(this.el,"expanded",this.isExpanded),this._updateAriaAttributes()},i.prototype._updateAriaAttributes=function(){this.isExpanded?(this.accordionHeading&&this.accordionHeading.setAttribute("aria-expanded","true"),this.accordionContent&&this.accordionContent.setAttribute("aria-hidden","false"),this.panelContent&&this.panelContent.setAttribute("aria-hidden","false"),this.panelCollapsedButton&&this.panelCollapsedButton.setAttribute("aria-hidden","true"),this.panelExpandedButton&&this.panelExpandedButton.setAttribute("aria-hidden","false")):(this.accordionHeading&&this.accordionHeading.setAttribute("aria-expanded","false"),this.accordionContent&&this.accordionContent.setAttribute("aria-hidden","true"),this.panelContent&&this.panelContent.setAttribute("aria-hidden","true"),this.panelCollapsedButton&&this.panelCollapsedButton.setAttribute("aria-hidden","false"),this.panelExpandedButton&&this.panelExpandedButton.setAttribute("aria-hidden","true"))},i.prototype._bindEventListenerCallbacks=function(){this._onClickBound=this._onClick.bind(this),this._onKeydownBound=this._onKeydown.bind(this)},i.prototype._addEventListeners=function(){this.el.addEventListener("click",this._onClickBound),this.el.addEventListener("keydown",this._onKeydownBound)},i.prototype._removeEventListeners=function(){this.el.removeEventListener("click",this._onClickBound),this.el.removeEventListener("keydown",this._onKeydownBound)},i.prototype._onClick=function(e){(0,a.default)(e.target,'.spark-expand__toggle, [data-role="toggle"], [role="heading"]',this.el)&&(e.preventDefault(),this.toggle())},i.prototype._onKeydown=function(e){if((0,a.default)(e.target,'.spark-expand__toggle, [data-role="toggle"], [role="heading"]',this.el)){var t=e.keyCode||e.which;32!==t&&13!==t||(e.preventDefault(),this.toggle())}},i}(o.default);h.prototype._whitelistedParams=["onBeforeExpand","onAfterExpand","onBeforeCollapse","onAfterCollapse"],h.prototype.defaults={el:null,isExpanded:!1,onBeforeExpand:null,onAfterExpand:null,onBeforeCollapse:null,onAfterCollapse:null,_onClickBound:null,_onKeydownBound:null},l.default=h,t.exports=l.default},{"../helpers/animation/height":6,"../helpers/dom/has-class":9,"../helpers/dom/toggle-class":12,"../helpers/traversal/get-parent":13,"./base":1}],3:[function(e,t,l){"use strict";Object.defineProperty(l,"__esModule",{value:!0});var o=i(e("./base")),n=i(e("../helpers/dom/toggle-class")),s=i(e("../helpers/dom/remove-class")),r=i(e("../helpers/dom/add-class")),a=i(e("../helpers/dom/has-class")),d=i(e("./expand")),u=i(e("./modal"));function i(e){return e&&e.__esModule?e:{default:e}}function h(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}var p=function(){},c=function(o){function i(e){var t,l=1<arguments.length&&void 0!==arguments[1]?arguments[1]:{};return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,i),l.elRequired=!0,(t=h(this,o.call(this,e,l)))&&(t._bindEventListenerCallbacks(),t._addEventListeners()),h(t)}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(i,o),i.prototype._cacheElements=function(e){this.el=e,this._showAllEl=this.el.querySelector(".spark-filter-module__show-all"),this._showAllEl&&(this._showAllToggleable=this._showAllEl.querySelector("span")),this._clearEls=this.el.querySelectorAll(".spark-filter-module__clear"),this._hiddenEls=Array.prototype.slice.call(this.el.querySelectorAll(".spark-filter-module--hide")),this._headerEl=this.el.querySelector(".spark-filter-module__header"),this._bodyEl=this.el.querySelector(".spark-filter-module__body"),this._modalEl=this.el.querySelector(".spark-modal"),this._modalSaveBtn=this.el.querySelector(".spark-filter-module__show-all__modal-button"),this._modalClasses=[],"modal"===this.onShowAll&&(this.modalInst=new u.default(this._modalEl))},i.prototype._bindEventListenerCallbacks=function(){this._onShowAllBound=this._onShowAll.bind(this),this._onClearBound=this._onClear.bind(this),this._onCloseModalBound=this._onCloseModal.bind(this)},i.prototype._addEventListeners=function(){!this._showAllEl||this._showAllEl.addEventListener("click",this._onShowAllBound),!this._modalSaveBtn||this._modalSaveBtn.addEventListener("click",this._onCloseModalBound);for(var e=0;e<this._clearEls.length;e++)!this._clearEls[e]||this._clearEls[e].addEventListener("click",this._onClearBound)},i.prototype._removeEventListeners=function(){if(this._showAllEl){this._showAllEl.removeEventListener("click",this._onShowAllBound),this._modalSaveBtn.removeEventListener("click",this._onCloseModalBound);for(var e=0;e<this._clearEls.length;e++)!this._clearEls[e]||this._clearEls[e].removeEventListener("click",this._onClearBound)}},i.prototype._onShowAll=function(){"function"==typeof this.onShowAll?(this.onShowAll||p)(this):("toggle"===this.onShowAll||"modal"===this.onShowAll&&this._isExpand?(this._toggleShowAllLabel(),this.toggleHiddenContent()):"modal"!==this.onShowAll||this._isExpand||this.modalInst.open(),(this.onShowAllComplete||p)())},i.prototype._toggleShowAllLabel=function(){this._showAllToggleable.innerHTML="more"===this._showAllToggleable.innerHTML?"fewer":"more"},i.prototype._onClear=function(){(this.onClear||p)(this)},i.prototype._onCloseModal=function(){(this.onModalClose||p)(),this.modalInst.close()},i.prototype.enableClearBtn=function(){for(var e=0;e<this._clearEls.length;e++)(0,s.default)(this._clearEls[e],"spark-filter-module__clear--disabled"),(0,s.default)(this._clearEls[e],"spark-filter-module__clear--hidden")},i.prototype.disableClearBtn=function(){for(var e=0;e<this._clearEls.length;e++)(0,r.default)(this._clearEls[e],"spark-filter-module__clear--disabled")},i.prototype.hideClearBtn=function(){for(var e=0;e<this._clearEls.length;e++)(0,r.default)(this._clearEls[e],"spark-filter-module__clear--hidden")},i.prototype.getClearButtonStatus=function(){for(var e=!1,t=0;t<this._clearEls.length;t++)e=!(0,a.default)(this._clearEls[t],"spark-filter-module__clear--hidden")&&!(0,a.default)(this._clearEls[t],"spark-filter-module__clear--disabled");return e},i.prototype.toggleHiddenContent=function(){for(var e=0;e<this._hiddenEls.length;e++)(0,n.default)(this._hiddenEls[e],"show")},i.prototype._applyExpand=function(){if(this._modalEl){var e=["spark-filter-module--hide","","",""];this._hiddenEls.push(this._modalEl);for(var t=this._modalEl,l=0;l<e.length;l++)this._modalClasses[l]=t.className,t.className=e[l],t=t.firstElementChild;(0,a.default)(document.body,"spark-modal-open")&&(0,s.default)(document.body,"spark-modal-open"),this.modalInst.remove(!0)}(0,r.default)(this.el,"spark-panel","spark-panel--expand"),(0,r.default)(this._headerEl,"spark-panel__header"),this._headerEl.setAttribute("role","heading"),this._headerEl.setAttribute("tabindex","0"),(0,r.default)(this._bodyEl,"spark-panel__content"),this._expandInst=new d.default(this.el,{onAfterExpand:this.onAfterExpand,onAfterCollapse:this.onAfterCollapse}),this._isExpand=!0},i.prototype._disapplyExpand=function(){if(this._modalEl){(0,a.default)(this._modalEl,"show")&&this._toggleShowAllLabel(),this._hiddenEls.pop();for(var e=this._modalEl,t=0;t<this._modalClasses.length;t++)e.className=this._modalClasses[t],e=e.firstElementChild;this.modalInst=new u.default(this._modalEl)}(0,s.default)(this.el,"spark-panel","spark-panel--expand"),(0,s.default)(this._headerEl,"spark-panel__header"),this._headerEl.removeAttribute("role"),this._headerEl.removeAttribute("tabindex"),(0,s.default)(this._bodyEl,"spark-panel__content"),this._expandInst.remove(!0),this._isExpand=!1},i}(o.default);c.prototype._whitelistedParams=["onShowAll","onShowAllComplete","onModalClose","onClear","onAfterExpand","onAfterCollapse"],c.prototype.defaults={el:null,onShowAll:p,onShowAllComplete:p,onModalClose:p,onClear:p,onAfterExpand:p,onAfterCollapse:p,modalInst:null,_onShowAllBound:null,_onClearBound:null,_showAllEl:null,_clearEl:null,_hiddenEls:[],_headerEl:null,_bodyEl:null,_modalEl:null,_expandInst:null,_isExpand:!1,dataSet:{}},l.default=c,t.exports=l.default},{"../helpers/dom/add-class":7,"../helpers/dom/has-class":9,"../helpers/dom/remove-class":11,"../helpers/dom/toggle-class":12,"./base":1,"./expand":2,"./modal":5}],4:[function(e,t,l){"use strict";Object.defineProperty(l,"__esModule",{value:!0});var o=i(e("./base")),h=i(e("../helpers/dom/add-class")),n=i(e("../helpers/dom/has-class")),s=i(e("../helpers/dom/toggle-class")),r=i(e("../helpers/dom/remove-class")),a=i(e("./filter-module")),d=i(e("../helpers/animation/height")),u=e("../helpers/dom/breakpoint");function i(e){return e&&e.__esModule?e:{default:e}}function p(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}var c=function(){},f=function(o){function i(e){var t,l=1<arguments.length&&void 0!==arguments[1]?arguments[1]:{};return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,i),l.elRequired=!0,(t=p(this,o.call(this,e,l)))&&(t._bindEventListenerCallbacks(),t._addEventListeners(),t._initFilterDisplay()),p(t)}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(i,o),i.prototype._cacheElements=function(e){this.el=e,this.moduleEls=this.el.querySelectorAll(".spark-filter-module");var t={onAfterExpand:this._onAfterExpand.bind(this),onAfterCollapse:this._onAfterCollapse.bind(this)};if(0<this.moduleEls.length)for(var l=0;l<this.moduleEls.length;l++)if(void 0!==this.moduleOptions[l]){for(var o in t)this.moduleOptions[l][o]=t[o];this.moduleInsts[l]=new a.default(this.moduleEls[l],this.moduleOptions[l])}else this.moduleInsts[l]=new a.default(this.moduleEls[l],t);this._filterToggleContainer=this.el.querySelector(".spark-filter__toggle-container"),this._toggleFilterButton=this.el.querySelector(".spark-filter__toggle-button"),this._toggleFilterLabel=this.el.querySelector(".spark-filter__toggle-button span"),this._tagsContainer=this.el.querySelector(".spark-filter__tags-container"),this._tagsCounter=this.el.querySelector(".spark-filter__applied-filters-counter"),this._clearAllButton=this.el.querySelector(".spark-filter__clear-all"),this._filterContent=this.el.querySelector(".spark-filter__content"),this._modulesContainer=this.el.querySelector(".spark-filter__modules-container"),this._viewMoreButton=this.el.querySelector(".spark-filter__view-more-filters"),this._viewLessButton=this.el.querySelector(".spark-filter__view-less-filters"),this._filterFooter=this.el.querySelector(".spark-filter__footer"),this._buttonGroupEl=this.el.querySelector(".spark-filter__apply-btn-container"),this._applyFiltersButton=this.el.querySelector(".spark-filter__btn-apply")},i.prototype._bindEventListenerCallbacks=function(){this._onResizeBound=this._onResize.bind(this),this._toggleViewBound=this._toggleView.bind(this),this._toggleFilterClickBound=this.toggleFilterClick.bind(this),this._onClearAllBound=this._onClearAll.bind(this),this._onScrollBound=this._onScroll.bind(this)},i.prototype._addEventListeners=function(){window.addEventListener("resize",this._onResizeBound),window.addEventListener("scroll",this._onScrollBound),!this._viewMoreButton||this._viewMoreButton.addEventListener("click",this._toggleViewBound),!this._viewLessButton||this._viewLessButton.addEventListener("click",this._toggleViewBound),!this._toggleFilterButton||this._toggleFilterButton.addEventListener("click",this._toggleFilterClickBound),!this._clearAllButton||this._clearAllButton.addEventListener("click",this._onClearAllBound)},i.prototype._removeEventListeners=function(){window.removeEventListener("resize",this._onResizeBound),window.removeEventListener("scroll",this._onScrollBound),!this._viewMoreButton||this._viewMoreButton.removeEventListener("click",this._toggleViewBound),!this._viewLessButton||this._viewLessButton.removeEventListener("click",this._toggleViewBound),!this._toggleFilterButton||this._toggleFilterButton.removeEventListener("click",this._toggleFilterClickBound),!this._clearAllButton||this._clearAllButton.removeEventListener("click",this._onClearAllBound)},i.prototype._initFilterDisplay=function(){this.initializingFilter=!0,0<this.moduleEls.length&&(this.extraModulesExpanded=!1),(0,h.default)(this.el,"spark-filter--initializing"),this._determineFilterLayout()},i.prototype._determineFilterLayout=function(){switch(this.currentBreakpoint=(0,u.get)(window.innerWidth),this.currentBreakpoint){case"xs":this._curCol=1;break;case"sm":this._curCol=2;break;case"md":this._curCol=3;break;default:this._curCol=4}if(this._curCol<=1?this._isDropdownState||(this._applyExpandCollapseLayout(),this._showModule()):(this._expandCollapseState&&this._removeExpandCollapseLayout(),(0,n.default)(this._buttonGroupEl,"is-fixed")&&(clearTimeout(this._timeout),this._filterFooter.removeAttribute("style"),this._buttonGroupEl.removeAttribute("style"),(0,r.default)(this._buttonGroupEl,"is-fixed")),this._showModule(),this.extraModulesExpanded||this._hideModule(this._curCol,this._maxCol-1)),!this._isDropdownState){var e=document.querySelectorAll(".spark-filter-module.hide");this.extraModulesExpanded||0!==e.length?!this.extraModulesExpanded&&0<e.length&&(0,r.default)(this._viewMoreButton,"hide"):(0,h.default)(this._viewMoreButton,"hide")}},i.prototype._updateFilterLayout=function(){this._determineFilterLayout()},i.prototype._toggleView=function(){this._isFilterExpanded&&!this.extraModulesExpanded?(this._showModule(),this._dispatchVisibilityEvent()):this._isFilterExpanded&&this.extraModulesExpanded&&this._hideModule(this._curCol,this._maxCol-1),this.extraModulesExpanded=!this.extraModulesExpanded,(0,s.default)(this._viewMoreButton,"hide"),(0,s.default)(this._viewLessButton,"hide")},i.prototype.toggleFilterClick=function(){this.initializingFilter&&(this.initializingFilter=!1),this.toggleFilter()},i.prototype.toggleFilter=function(e,t){(0,n.default)(this.el,"spark-filter--initializing")&&!this.initializingFilter&&((0,r.default)(this.el,"spark-filter--initializing"),(0,h.default)(this.el,"spark-filter--initialized")),"expand"===e?(this.initializingFilter?(0,r.default)(this._filterContent,"hide"):((0,r.default)(this._filterContent,"hide"),(0,d.default)({el:this.el,toggleEl:".spark-filter__content",toggleClass:"filter-expanded",action:"expand"}),this._toggleFilterLabel.innerHTML="Hide"),t||(this._isFilterExpanded=!0)):"collapse"===e?(this.initializingFilter?(0,h.default)(this._filterContent,"hide"):((0,h.default)(this._filterContent,"hide"),(0,d.default)({el:this.el,toggleEl:".spark-filter__content",toggleClass:"filter-expanded",action:"collapse"}),this._toggleFilterLabel.innerHTML="Show"),t||(this._isFilterExpanded=!1)):((0,s.default)(this._filterContent,"hide"),(0,n.default)(this.el,"filter-expanded")?((0,d.default)({el:this.el,toggleEl:".spark-filter__content",toggleClass:"filter-expanded",action:"collapse"}),this._toggleFilterLabel.innerHTML="Show"):((0,d.default)({el:this.el,toggleEl:".spark-filter__content",toggleClass:"filter-expanded",action:"expand"}),this._toggleFilterLabel.innerHTML="Hide"),t||(this._isFilterExpanded=!this._isFilterExpanded,(0,n.default)(this.el,"spark-filter--dropdown")&&!(0,n.default)(this._filterContent,"hide")&&this._calculateApplyBtnPosition())),!(0,n.default)(this.el,"spark-filter--dropdown")&&(0,n.default)(this._buttonGroupEl,"is-fixed")&&(clearTimeout(this._timeout),this._filterFooter.removeAttribute("style"),this._buttonGroupEl.removeAttribute("style"),(0,r.default)(this._buttonGroupEl,"is-fixed")),this._dispatchVisibilityEvent()},i.prototype._onResize=function(){this._updateFilterLayout()},i.prototype._onScroll=function(){this._isDropdownState&&(this._timeout=setTimeout(this._calculateApplyBtnPosition.bind(this),300))},i.prototype._onAfterExpand=function(){(0,n.default)(this._buttonGroupEl,"is-fixed")||(this._timeout=setTimeout(this._calculateApplyBtnPosition.bind(this),300))},i.prototype._onAfterCollapse=function(){this._timeout=setTimeout(this._calculateApplyBtnPosition.bind(this),300)},i.prototype._dispatchVisibilityEvent=function(){var e=document.createEvent("Event");e.initEvent("spark.visible-children",!0,!0),this.el.dispatchEvent(e)},i.prototype._calculateApplyBtnPosition=function(){var e=this.el.getBoundingClientRect();if(255<e.height){var t=window.innerHeight,l=window.pageYOffset||document.documentElement.scrollTop||document.body.scrollTop||0,o=l-(e.top+document.body.scrollTop),i=e.top+document.body.scrollTop+e.height-(l+t);if(!(l>e.top+document.body.scrollTop+e.height||e.top+document.body.scrollTop>l+window.innerHeight)){var n,s=100,r=0,a=0;0<o&&(s-=100*o/e.height,r=o),0<i&&(s-=100*i/e.height,a=i),n=(e.height-(a+r))/t*100}if(e.bottom>(window.innerHeight||document.documentElement.clientHeight)&&(45<s||50<n)){var d=this._buttonGroupEl.offsetHeight,u=e.width;this._filterFooter.style.height=d+"px",(0,h.default)(this._buttonGroupEl,"is-fixed"),this._buttonGroupEl.style.width=u-2+"px",this._buttonGroupEl.style.left=e.left+1+"px",this._applyBtnPositionFixed()}else this._applyBtnPositionRelative()}},i.prototype._applyBtnPositionRelative=function(){var e=parseInt(getComputedStyle(this._buttonGroupEl).bottom),t=this._modulesContainer.getBoundingClientRect().bottom,l=(window.innerHeight||document.documentElement.clientHeight)-(t+this._buttonGroupEl.getBoundingClientRect().height);if(!isNaN(e)){this._buttonGroupEl.addEventListener("animationend",function e(){this._filterFooter.removeAttribute("style"),this._buttonGroupEl.removeAttribute("style"),(0,r.default)(this._buttonGroupEl,"is-fixed"),(0,r.default)(this._buttonGroupEl,"spark-filter__apply-btn-container--animate"),this._buttonGroupEl.removeEventListener("animationend",e)}.bind(this),!1);var o="-webkit-transform: translateY(-"+l+"px); transform: translateY(-"+l+"px);";this._buttonGroupEl.setAttribute("style",this._buttonGroupEl.getAttribute("style")+" "+o),(0,h.default)(this._buttonGroupEl,"spark-filter__apply-btn-container--animate")}},i.prototype._applyBtnPositionFixed=function(){var o=requestAnimationFrame(function e(){i+=.01;var t=parseInt(getComputedStyle(this._buttonGroupEl).bottom);var l=parseInt(getComputedStyle(this._buttonGroupEl).height);t<-1*l&&(t=-1*l);-1<t?(this._buttonGroupEl.style.bottom="0px",cancelAnimationFrame(o)):t<0&&(t+=1/i,this._buttonGroupEl.style.bottom=t+"px",requestAnimationFrame(e.bind(this)))}.bind(this)),i=.1},i.prototype._onClearAll=function(){(this.onClearAll||c)()},i.prototype._showModule=function(){for(var e=0;e<this.moduleEls.length;e++)(0,r.default)(this.moduleEls[e],"hide")},i.prototype._hideModule=function(e,t){t=t||this.moduleEls.length-1;for(var l=e;l<=t;l++)(0,h.default)(this.moduleEls[l],"hide")},i.prototype._applyExpandCollapseLayout=function(){(0,h.default)(this.el,"spark-filter--dropdown"),this._expandCollapseState=!0;var e=this._tagsContainer.querySelectorAll(".spark-filter__tag");if(0<e.length){for(var t=0;t<e.length;t++)(0,h.default)(e[t],"hide");(0,r.default)(this._tagsCounter,"hide")}(0,h.default)(this._viewMoreButton,"hide"),(0,h.default)(this._viewLessButton,"hide"),this._applyFiltersButton&&((0,r.default)(this._applyFiltersButton,"spark-btn--sm"),(0,h.default)(this._applyFiltersButton,"spark-btn--block"));for(var l=0;l<this.moduleInsts.length;l++)this.moduleInsts[l]._applyExpand();this._isDropdownState=!0,this._timeout=setTimeout(this._calculateApplyBtnPosition.bind(this),300)},i.prototype._removeExpandCollapseLayout=function(){(0,r.default)(this.el,"spark-filter--dropdown"),this._expandCollapseState=!1,this._filterFooter.removeAttribute("style"),this._buttonGroupEl.removeAttribute("style"),(0,r.default)(this._buttonGroupEl,"is-fixed");var e=this._tagsContainer.querySelectorAll(".spark-filter__tag");if(0<e.length){for(var t=0;t<e.length;t++)(0,r.default)(e[t],"hide");(0,h.default)(this._tagsCounter,"hide")}this.extraModulesExpanded?(0,r.default)(this._viewLessButton,"hide"):(0,r.default)(this._viewMoreButton,"hide"),this._applyFiltersButton&&((0,h.default)(this._applyFiltersButton,"spark-btn--sm"),(0,r.default)(this._applyFiltersButton,"spark-btn--block"));for(var l=0;l<this.moduleInsts.length;l++)this.moduleInsts[l]._disapplyExpand();this._isDropdownState=!1},i.prototype.createTagEl=function(e,t,l){var o=document.createElement("div");o.className=(0,n.default)(this.el,"spark-filter--dropdown")?"spark-filter__tag hide":"spark-filter__tag",o.setAttribute("data-filter-name",e),o.innerHTML='<span class="spark-filter__tag__label">'+t+'</span><i class="spark-icon spark-filter__tag__close"></i>',this._tagsContainer.insertBefore(o,this._clearAllButton),o.querySelector(".spark-filter__tag__close").addEventListener("click",l||c),(0,r.default)(this._clearAllButton,"hide"),(0,n.default)(this.el,"spark-filter--dropdown")&&(0,r.default)(this._tagsCounter,"hide")},i.prototype.clearAllTagEls=function(){for(var e=this._tagsContainer.querySelectorAll(".spark-filter__tag"),t=0;t<e.length;t++)this._tagsContainer.removeChild(e[t]);this._tagsContainer.querySelector("span").innerHTML="0",(0,h.default)(this._clearAllButton,"hide"),(0,h.default)(this._tagsCounter,"hide")},i.prototype.showModuleClearButton=function(e){for(var t=0;t<this.moduleInsts.length;t++)this.moduleInsts[t].el.getAttribute("data-filter-module")===e&&this.moduleInsts[t].enableClearBtn()},i.prototype.disableModuleClearButton=function(e){for(var t=0;t<this.moduleInsts.length;t++)this.moduleInsts[t].el.getAttribute("data-filter-module")===e&&this.moduleInsts[t].disableClearBtn()},i.prototype.hideModuleClearButton=function(e){for(var t=0;t<this.moduleInsts.length;t++)this.moduleInsts[t].el.getAttribute("data-filter-module")===e&&this.moduleInsts[t].hideClearBtn()},i.prototype.moduleClearButtonStatus=function(e){for(var t=0;t<this.moduleInsts.length;t++)if(this.moduleInsts[t].el.getAttribute("data-filter-module")===e)return this.moduleInsts[t].getClearButtonStatus()},i}(o.default);f.prototype._whitelistedParams=["onClearAll","moduleOptions"],f.prototype.defaults={el:null,moduleEls:[],_filterToggleContainer:null,_toggleFilterButton:null,_toggleFilterLabel:null,_tagsContainer:null,_tagsCounter:null,_clearAllButton:null,_filterContent:null,_modulesContainer:null,_viewMoreButton:null,_viewLessButton:null,_filterFooter:null,_buttonGroupEl:null,_applyFiltersButton:null,moduleInsts:[],moduleOptions:[],maxCol:4,onClearAll:c,extraModulesExpanded:!1,_isFilterExpanded:!1,_isDropdownState:!1,_isModuleExpand:!0,_curCol:4,_onResizeBound:null,_toggleViewBound:null,_toggleFilterClickBound:null,_onClearAllBound:null,_onScrollBound:null},l.default=f,t.exports=l.default},{"../helpers/animation/height":6,"../helpers/dom/add-class":7,"../helpers/dom/breakpoint":8,"../helpers/dom/has-class":9,"../helpers/dom/remove-class":11,"../helpers/dom/toggle-class":12,"./base":1,"./filter-module":3}],5:[function(e,t,l){"use strict";Object.defineProperty(l,"__esModule",{value:!0});var o=i(e("./base")),n=i(e("../helpers/dom/toggle-class")),s=i(e("../helpers/dom/add-class")),r=i(e("../helpers/dom/remove-class")),a=i(e("../helpers/dom/has-class")),d=i(e("../helpers/traversal/get-parent"));function i(e){return e&&e.__esModule?e:{default:e}}function u(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}var h=function(o){function i(e){var t,l=1<arguments.length&&void 0!==arguments[1]?arguments[1]:{};return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,i),l.elRequired=!0,(t=u(this,o.call(this,e,l)))&&(t._bindEventListenerCallbacks(),t._addEventListeners()),u(t)}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(i,o),i.prototype.open=function(){this.isActive=!0,document.activeElement&&(this.focusedElBeforeOpen=document.activeElement);var e=this.modalEl.querySelectorAll('a[href], area[href], input:not([disabled]), select:not([disabled]), textarea:not([disabled]), button:not([disabled]), [tabindex="0"]');return 0<e.length&&(this.modalFocusableEls=Array.prototype.slice.call(e),this.firstModalFocusableEl=this.modalFocusableEls[0],this.lastModalFocusableEl=this.modalFocusableEls[this.modalFocusableEls.length-1]),this._addWindowEventListeners(),this._updateClasses(),(0,s.default)(document.body,"spark-modal-open"),0<e.length&&this.firstModalFocusableEl.focus(),this},i.prototype.close=function(){return this.isActive=!1,this.focusedElBeforeOpen&&this.focusedElBeforeOpen.focus(),this._removeWindowEventListeners(),this._updateClasses(),(0,r.default)(document.body,"spark-modal-open"),this},i.prototype.update=function(e){var t=1<arguments.length&&void 0!==arguments[1]?arguments[1]:{};return this._removeEventListeners(),this._cacheElements(e||this.el,t),this._addEventListeners(),this._updateClasses(),this._removeWindowEventListeners(),this.isActive&&this._addWindowEventListeners(),this},i.prototype._cacheElements=function(e,t){var l=(0,a.default)(e,"spark-modal"),o=t.modalEl;l?this.modalEl=e:(this.el=e,this.modalEl=o||document.querySelector(e.getAttribute("data-modal"))),this.scrollEl=this.modalEl.querySelector(".spark-modal__scroll")||this.modalEl,this.isActive=(0,a.default)(this.el||this.modalEl,"active")},i.prototype._updateClasses=function(){(0,n.default)(this.modalEl,"active",this.isActive)},i.prototype._bindEventListenerCallbacks=function(){this._onClickBound=this._onClick.bind(this),this._onKeyupBound=this._onKeyup.bind(this),this._onKeydownBound=this._onKeydown.bind(this),this._onModalClickBound=this._onModalClick.bind(this)},i.prototype._addEventListeners=function(){this.el&&this.el.addEventListener("click",this._onClickBound),this.modalEl&&this.modalEl.addEventListener("click",this._onModalClickBound)},i.prototype._removeEventListeners=function(){this.el&&this.el.removeEventListener("click",this._onClickBound),this.modalEl&&this.modalEl.removeEventListener("click",this._onModalClickBound)},i.prototype._addWindowEventListeners=function(){this._removeWindowEventListeners(),window.addEventListener("keyup",this._onKeyupBound),window.addEventListener("keydown",this._onKeydownBound)},i.prototype._removeWindowEventListeners=function(){window.removeEventListener("keyup",this._onKeyupBound),window.removeEventListener("keydown",this._onKeydownBound)},i.prototype._onClick=function(){this.open()},i.prototype._onModalClick=function(e){(e.target===this.scrollEl||e.target===this.modalEl||(0,d.default)(e.target,".spark-modal__close, .spark-modal__dismiss",this.scrollEl))&&(e.preventDefault(),this.close())},i.prototype._onBackwardTab=function(e){document.activeElement===this.firstModalFocusableEl&&(e.preventDefault(),this.lastModalFocusableEl.focus())},i.prototype._onForwardTab=function(e){document.activeElement===this.lastModalFocusableEl&&(e.preventDefault(),this.firstModalFocusableEl.focus())},i.prototype._onKeyup=function(e){27===e.keyCode&&this.close()},i.prototype._onKeydown=function(e){9===e.keyCode&&(1===this.modalFocusableEls.length&&e.preventDefault(),e.shiftKey?this._onBackwardTab(e):this._onForwardTab(e)),13===e.keyCode&&(e.target!==document.querySelector(".spark-modal__close")&&e.target!==document.querySelector(".spark-modal__dismiss")||(e.preventDefault(),this.close()))},i}(o.default);h.prototype.defaults={el:null,modalEl:null,scrollEl:null,isActive:!1,_onClickBound:null,_onKeyupBound:null,_onKeydownBound:null,_onModalClickBound:null},l.default=h,t.exports=l.default},{"../helpers/dom/add-class":7,"../helpers/dom/has-class":9,"../helpers/dom/remove-class":11,"../helpers/dom/toggle-class":12,"../helpers/traversal/get-parent":13,"./base":1}],6:[function(e,t,l){"use strict";Object.defineProperty(l,"__esModule",{value:!0});var f=o(e("../dom/outer-height")),_=o(e("../dom/add-class")),m=o(e("../dom/remove-class")),g=o(e("../dom/has-class")),y=o(e("../dom/toggle-class"));function o(e){return e&&e.__esModule?e:{default:e}}var v=function(){},E={els:[],completeCallbacks:[]};function b(e){e.toggleClassName?(0,y.default)(e.el,e.toggleClassName,!e.collapse):e.toggleEl.style[e.toggleProperty]="",e.el.style.height="",e.toggleEl.style.height="",e.toggleEl.style.marginBottom="",e.toggleEl.style.marginTop="",(0,m.default)(e.el,e.heightAnimationClass),(0,m.default)(e.toggleEl,e.heightAnimationClass),e.onComplete();var t=E.els.indexOf(e.el);E.els.splice(t,1),E.completeCallbacks.splice(t,1)}l.default=function(o){var i=(o=o||{}).el;if(i){var n=o.action&&"collapse"===o.action,s=o.heightAnimationClass||"spark-animate-height",r="string"==typeof o.toggleEl?i.querySelector(o.toggleEl):o.toggleEl;if(r&&!(0,g.default)(i,"spark-no-animate")){var a=o.toggleClass,d=o.toggleProperty||"display",u=window.getComputedStyle(r),h=u[d],p=o.toggleValue||function(e,t,l){switch(t){case"overflow":case"visibility":return"visible"===l?"hidden":"visible";default:return"block"===l||"inline-block"===l?"none":"block"}}(0,h),e=E.els.indexOf(i);if(-1!==e){var t=E.completeCallbacks[e];t&&clearTimeout(t),b({el:i,toggleEl:r,onComplete:o.onComplete||v,collapse:n,toggleProperty:d,toggleClassName:a,toggleValue:p,heightAnimationClass:s})}var c=(0,f.default)(i);a?(0,y.default)(i,a,!n):r.style[d]=p,n?setTimeout(l,0):l()}}function l(){var e=(0,f.default)(i),t=void 0,l=void 0;n?(a?(0,m.default)(i,a):r.style[d]=h,l=(0,f.default)(r,u),t=0):(t=(0,f.default)(r,u),l=0),i.style.height=c+"px",r.style.height=l+"px",r.style.marginBottom="0px",r.style.marginTop="0px",(0,_.default)(i,s),(0,_.default)(r,s),E.els.push(i),setTimeout(function(){i.style.height=e+"px",r.style.height=t+"px",E.completeCallbacks.push(setTimeout(function(){b({el:i,toggleEl:r,onComplete:o.onComplete||v,collapse:n,toggleProperty:d,toggleClassName:a,toggleValue:p,heightAnimationClass:s})},void 0!==o.animationDuration?o.animationDuration:201))},0)}},t.exports=l.default},{"../dom/add-class":7,"../dom/has-class":9,"../dom/outer-height":10,"../dom/remove-class":11,"../dom/toggle-class":12}],7:[function(e,t,l){"use strict";Object.defineProperty(l,"__esModule",{value:!0});var r=o(e("../util/trim")),a=o(e("./has-class"));function o(e){return e&&e.__esModule?e:{default:e}}var d=/\s+/,u=/\s{2,}/g;l.default=function(e,t){if(1===(t=2===arguments.length&&"string"==typeof t?(0,r.default)(t).split(d):t instanceof Array?t:Array.prototype.slice.call(arguments,1)).length&&e.classList)return t[0]&&e.classList.add(t[0]),e;for(var l=[],o=0,i=t.length,n=void 0,s="string"==typeof e.className?e.className:e.getAttribute?e.getAttribute("class"):"";o<i;o++)(n=t[o])&&!(0,a.default)(s,n)&&l.push(n);return l.length&&("string"==typeof e.className?e.className=(0,r.default)((s+" "+l.join(" ")).replace(u," ")):e.setAttribute&&e.setAttribute("class",(0,r.default)((s+" "+l.join(" ")).replace(u," ")))),e},t.exports=l.default},{"../util/trim":16,"./has-class":9}],8:[function(e,t,l){"use strict";Object.defineProperty(l,"__esModule",{value:!0});var o={xs:{min:0,max:543},sm:{min:544,max:795},md:{min:796,max:1047},lg:{min:1048,max:1799},xl:{min:1800,max:1/0}};l.get=function(e,t){t=t||o;var l=void 0;for(l in t)if(e>=t[l].min&&e<=t[l].max)return l}},{}],9:[function(e,t,l){"use strict";Object.defineProperty(l,"__esModule",{value:!0});var o="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e};l.default=function(e,t){return-1!==(" "+("object"===(void 0===e?"undefined":o(e))?e.className||e.getAttribute&&e.getAttribute("class")||"":e||"").replace(/[\t\r\n\f]/g," ")+" ").indexOf(" "+t+" ")},t.exports=l.default},{}],10:[function(e,t,l){"use strict";Object.defineProperty(l,"__esModule",{value:!0});var o,i=e("../util/each"),n=(o=i)&&o.__esModule?o:{default:o};var s=["marginTop","marginBottom","borderTop","borderBottom"];l.default=function(e,t){t=t||window.getComputedStyle(e);var l=e.clientHeight;return(0,n.default)(s,function(e){l+=parseInt(t[e]||0,10)}),l},t.exports=l.default},{"../util/each":15}],11:[function(e,t,l){"use strict";Object.defineProperty(l,"__esModule",{value:!0});var o,i=e("../util/trim"),a=(o=i)&&o.__esModule?o:{default:o};var d=/\s+/,u=/\s{2,}/g;l.default=function(e,t){if(1===(t=2===arguments.length&&"string"==typeof t?(0,a.default)(t).split(d):t instanceof Array?t:Array.prototype.slice.call(arguments,1)).length&&e.classList)return t[0]&&e.classList.remove(t[0]),e;for(var l=" "+("string"==typeof e.className?e.className:e.getAttribute?e.getAttribute("class"):"")+" ",o=l,i=void 0,n=void 0,s=0,r=t.length;s<r;s++)-1!==(n=(i=t[s])?o.indexOf(" "+i+" "):-1)&&(n+=1,o=o.slice(0,n)+o.slice(n+i.length));return l!==o&&("string"==typeof e.className?e.className=(0,a.default)(o.replace(u," ")):e.setAttribute&&e.setAttribute("class",(0,a.default)(o.replace(u," ")))),e},t.exports=l.default},{"../util/trim":16}],12:[function(e,t,l){"use strict";Object.defineProperty(l,"__esModule",{value:!0});var s=o(e("./has-class")),r=o(e("./add-class")),a=o(e("./remove-class"));function o(e){return e&&e.__esModule?e:{default:e}}l.default=function e(t,l,o){if(t){if(!(t instanceof NodeList||t instanceof Array))return("add"==(void 0!==o?(o="function"==typeof o?o.call(null,t):o)?"add":"remove":(0,s.default)(t,l)?"remove":"add")?r.default:a.default)(t,l);for(var i=0,n=t.length;i<n;i++)e(t[i],l,o)}},t.exports=l.default},{"./add-class":7,"./has-class":9,"./remove-class":11}],13:[function(e,t,l){"use strict";Object.defineProperty(l,"__esModule",{value:!0});var o,i=e("./matches"),n=(o=i)&&o.__esModule?o:{default:o};l.default=function(e,t,l){for(l=l instanceof Array?l:[l||document.body];e;){if((0,n.default)(e,t))return e;if(-1!==l.indexOf(e))return!1;e=e.parentNode}return!1},t.exports=l.default},{"./matches":14}],14:[function(e,t,l){"use strict";Object.defineProperty(l,"__esModule",{value:!0});var i="undefined"!=typeof Element&&(Element.prototype.matches||Element.prototype.matchesSelector||Element.prototype.webkitMatchesSelector||Element.prototype.mozMatchesSelector||Element.prototype.msMatchesSelector||Element.prototype.oMatchesSelector);l.default=function(e,t){if(i)return i.call(e,t);for(var l=e.parentNode?e.parentNode.querySelectorAll(t):[],o=0;o<l.length;o++)if(l[o]===e)return!0;return!1},t.exports=l.default},{}],15:[function(e,t,l){"use strict";Object.defineProperty(l,"__esModule",{value:!0}),l.default=function(e,t){if(e){if("function"!=typeof t)throw new Error("Cannot invoke `each` without a callback!");var l=0,o=e.length;if(void 0===o)for(l in e)"prototype"!==l&&e.hasOwnProperty(l)&&t(l,e[l]);else for(;l<o;l++)t(e[l])}},t.exports=l.default},{}],16:[function(e,t,l){"use strict";Object.defineProperty(l,"__esModule",{value:!0});var o=/^[\s\uFEFF\xA0]+|[\s\uFEFF\xA0]+$/g;l.default=function(e){return e.replace(o,"")},t.exports=l.default},{}]},{},[4])(4)});