/* sabre-spark - v2.4.4 - 2018-3-6 DO NOT MODIFY THIS FILE DIRECTLY OR YOU WILL NOT BE ABLE TO UPDATE YOUR VERSION OF SPARK. */
!function(e){if("object"==typeof exports&&"undefined"!=typeof module)module.exports=e();else if("function"==typeof define&&define.amd)define([],e);else{var t;((t="undefined"!=typeof window?window:"undefined"!=typeof global?global:"undefined"!=typeof self?self:this).Spark||(t.Spark={})).Table=e()}}(function(){return function s(l,a,r){function u(o,e){if(!a[o]){if(!l[o]){var t="function"==typeof require&&require;if(!e&&t)return t(o,!0);if(d)return d(o,!0);var n=new Error("Cannot find module '"+o+"'");throw n.code="MODULE_NOT_FOUND",n}var i=a[o]={exports:{}};l[o][0].call(i.exports,function(e){var t=l[o][1][e];return u(t||e)},i,i.exports,s,l,a,r)}return a[o].exports}for(var d="function"==typeof require&&require,e=0;e<r.length;e++)u(r[e]);return u}({1:[function(e,t,o){"use strict";Object.defineProperty(o,"__esModule",{value:!0});var n,i=e("../helpers/util/each"),s=(n=i)&&n.__esModule?n:{default:n};var l=function(){},a=function(){function o(e){var t=1<arguments.length&&void 0!==arguments[1]?arguments[1]:{};!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,o),t.elRequired&&!e||(this.setParams(this.defaults||{},!0),this.setParams(t),(this._cacheElements||l).call(this,e,t),(this._parseParams||l).call(this))}return o.prototype.remove=function(e){return this._removeEventListeners&&this._removeEventListeners(),!e&&this.el&&this.el.parentNode&&this.el.parentNode.removeChild(this.el),this.unsetParams(this.defaults),this},o.prototype.update=function(e){var t=1<arguments.length&&void 0!==arguments[1]?arguments[1]:{};return this._removeEventListeners&&this._removeEventListeners(),(this._cacheElements||l).call(this,e||this.el,t),(this._parseParams||l).call(this),this._addEventListeners&&this._addEventListeners(),this},o.prototype.setParams=function(e,o){var n=this;return(0,s.default)(e,function(e,t){(-1!==n._whitelistedParams.indexOf(e)||o)&&(n[e]=t)}),this},o.prototype.unsetParams=function(e,t){return e=e instanceof Array?e:Object.keys(e),t=t||this,(0,s.default)(e,function(e){delete t[e]}),this},o}();a.prototype._whitelistedParams=[],a.prototype.defaults={},o.default=a,t.exports=o.default},{"../helpers/util/each":17}],2:[function(e,t,o){"use strict";Object.defineProperty(o,"__esModule",{value:!0});var n=i(e("./base")),s=i(e("../helpers/animation/height")),l=i(e("../helpers/dom/toggle-class")),a=i(e("../helpers/dom/has-class")),r=i(e("../helpers/traversal/get-parent"));function i(e){return e&&e.__esModule?e:{default:e}}function u(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}var d=function(){},c=function(n){function i(e){var t,o=1<arguments.length&&void 0!==arguments[1]?arguments[1]:{};return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,i),o.elRequired=!0,(t=u(this,n.call(this,e,o)))&&(t._bindEventListenerCallbacks(),t._addEventListeners()),u(t)}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(i,n),i.prototype.expand=function(){(this.onBeforeExpand||d)(),(0,s.default)({el:this.el,toggleClass:"expanded",toggleEl:".spark-expand__content, .spark-panel__content"}),this.isExpanded=!0,this._updateClasses();var e=document.createEvent("Event");return e.initEvent("spark.visible-children",!0,!0),this.el.dispatchEvent(e),this.el.querySelector("input")&&this.el.querySelector("input").focus(),(this.onAfterExpand||d)(),this},i.prototype.collapse=function(){return(this.onBeforeCollapse||d)(),(0,s.default)({el:this.el,toggleEl:".spark-expand__content, .spark-panel__content",toggleValue:"none",action:"collapse"}),this.isExpanded=!1,this._updateClasses(),(this.onAfterCollapse||d)(),this},i.prototype.toggle=function(){return this[this.isExpanded?"collapse":"expand"]()},i.prototype._cacheElements=function(e){this.el=e,this.isExpanded=(0,a.default)(this.el,"expanded"),this.accordionHeading=this.el.querySelector('[role="heading"]'),this.accordionContent=this.el.querySelector(".spark-panel__content"),this.panelContent=this.el.querySelector(".spark-expand__content"),this.panelCollapsedButton=this.el.querySelector(".spark-expand__hide--expanded"),this.panelExpandedButton=this.el.querySelector(".spark-expand__show--expanded")},i.prototype._updateClasses=function(){(0,l.default)(this.el,"expanded",this.isExpanded),this._updateAriaAttributes()},i.prototype._updateAriaAttributes=function(){this.isExpanded?(this.accordionHeading&&this.accordionHeading.setAttribute("aria-expanded","true"),this.accordionContent&&this.accordionContent.setAttribute("aria-hidden","false"),this.panelContent&&this.panelContent.setAttribute("aria-hidden","false"),this.panelCollapsedButton&&this.panelCollapsedButton.setAttribute("aria-hidden","true"),this.panelExpandedButton&&this.panelExpandedButton.setAttribute("aria-hidden","false")):(this.accordionHeading&&this.accordionHeading.setAttribute("aria-expanded","false"),this.accordionContent&&this.accordionContent.setAttribute("aria-hidden","true"),this.panelContent&&this.panelContent.setAttribute("aria-hidden","true"),this.panelCollapsedButton&&this.panelCollapsedButton.setAttribute("aria-hidden","false"),this.panelExpandedButton&&this.panelExpandedButton.setAttribute("aria-hidden","true"))},i.prototype._bindEventListenerCallbacks=function(){this._onClickBound=this._onClick.bind(this),this._onKeydownBound=this._onKeydown.bind(this)},i.prototype._addEventListeners=function(){this.el.addEventListener("click",this._onClickBound),this.el.addEventListener("keydown",this._onKeydownBound)},i.prototype._removeEventListeners=function(){this.el.removeEventListener("click",this._onClickBound),this.el.removeEventListener("keydown",this._onKeydownBound)},i.prototype._onClick=function(e){(0,r.default)(e.target,'.spark-expand__toggle, [data-role="toggle"], [role="heading"]',this.el)&&(e.preventDefault(),this.toggle())},i.prototype._onKeydown=function(e){if((0,r.default)(e.target,'.spark-expand__toggle, [data-role="toggle"], [role="heading"]',this.el)){var t=e.keyCode||e.which;32!==t&&13!==t||(e.preventDefault(),this.toggle())}},i}(n.default);c.prototype._whitelistedParams=["onBeforeExpand","onAfterExpand","onBeforeCollapse","onAfterCollapse"],c.prototype.defaults={el:null,isExpanded:!1,onBeforeExpand:null,onAfterExpand:null,onBeforeCollapse:null,onAfterCollapse:null,_onClickBound:null,_onKeydownBound:null},o.default=c,t.exports=o.default},{"../helpers/animation/height":4,"../helpers/dom/has-class":6,"../helpers/dom/toggle-class":9,"../helpers/traversal/get-parent":13,"./base":1}],3:[function(e,t,o){"use strict";Object.defineProperty(o,"__esModule",{value:!0});var n=i(e("./base")),s=i(e("./expand")),l=i(e("../helpers/form/set-caret")),a=e("../helpers/form/form-data"),r=i(e("../helpers/util/each")),u=i(e("../helpers/dom/has-class")),d=i(e("../helpers/dom/toggle-class")),c=i(e("../helpers/dom/add-class")),h=i(e("../helpers/dom/remove-class")),p=i(e("../helpers/traversal/get-parent")),f=i(e("../helpers/traversal/get-index")),_=i(e("../helpers/traversal/get-sibling-before")),v=i(e("../helpers/traversal/get-sibling-after")),y=i(e("../helpers/traversal/matches"));function i(e){return e&&e.__esModule?e:{default:e}}function b(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}var m=function(){},g=function(n){function i(e){var t,o=1<arguments.length&&void 0!==arguments[1]?arguments[1]:{};return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,i),o.elRequired=!0,(t=b(this,n.call(this,e,o)))&&(t._bindEventListenerCallbacks(),t._addEventListeners(),t._initRows(),(t.isSpreadsheet||t.isEditRows)&&t._deactivateAllInputs(),t.isResizable&&t._initResize(),t._disableRowsColumnsCells(),t._initExpands()),b(t)}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(i,n),i.prototype.disableCell=function(e){return e.disabled=!0,(0,c.default)((0,p.default)(e,"td"),"spark-table__disabled-cell"),this},i.prototype.enableCell=function(e){return e.disabled=!1,(0,h.default)((0,p.default)(e,"td"),"spark-table__disabled-cell"),this},i.prototype.disableRow=function(e){return(0,c.default)(e,"spark-table__disabled-row"),(0,r.default)(e.querySelectorAll("input, button, a"),function(e){e.disabled=!0}),this},i.prototype.enableRow=function(e){return(0,h.default)(e,"spark-table__disabled-row"),(0,r.default)(e.querySelectorAll("input, button, a"),function(e){e.disabled=!1}),this},i.prototype.disableColumn=function(e){var t=(0,f.default)(e.parentNode.children,e);return(0,r.default)(this.tableEl.querySelectorAll("tbody tr"),function(e){this.disableCell(e.children[t].querySelector("input"))}.bind(this)),(0,c.default)(e,"spark-table__disabled-column"),this},i.prototype.enableColumn=function(e){var t=(0,f.default)(e.parentNode.children,e);return(0,r.default)(this.tableEl.querySelectorAll("tbody tr"),function(e){this.enableCell(e.children[t].querySelector("input"))}.bind(this)),(0,h.default)(e,"spark-table__disabled-column"),this},i.prototype.remove=function(t){return(0,r.default)(this._expands,function(e){e.remove(t)}),n.prototype.remove.call(this,t)},i.prototype.activateRow=function(e){return(e="number"==typeof e?this.tableEl.querySelectorAll("tbody tr")[e]:e)&&this._makeRowActive(e),this},i.prototype.activateRows=function(e){return(0,r.default)(e,this.activateRow.bind(this)),this},i.prototype.deactivateRow=function(e){return(e="number"==typeof e?this.tableEl.querySelectorAll("tbody tr")[e]:e)&&this._makeRowInActive(e),this},i.prototype.deactivateRows=function(e){return(0,r.default)(e,this.deactivateRow.bind(this)),this},i.prototype.getActiveRows=function(){var t=[];return(0,r.default)(this.el.querySelectorAll("tbody tr.active"),function(e){t.push(e)}),t},i.prototype.update=function(e){return this._removeEventListeners(),this._cacheElements(e||this.el),this._parseParams(),this._addEventListeners(),this._initRows(),(this.isSpreadsheet||this.isEditRows)&&this._deactivateAllInputs(),this.isResizable&&this._initResize(),this._disableRowsColumnsCells(),this._initExpands(),this},i.prototype._cacheElements=function(e){this.el=e,this.tableEl=e.querySelector("table")},i.prototype._parseParams=function(){this.tableEl&&(this.isSpreadsheet=null!==this.isSpreadsheet?this.isSpreadsheet:!!(0,u.default)(this.el,"spark-table--spreadsheet"),this.isEditRows=null!==this.isEditRows?this.isEditRows:!!(0,u.default)(this.el,"spark-table--edit-rows"),this.isResizable=null!==this.isResizable?this.isResizable:!!(0,u.default)(this.el,"spark-table--resizable"))},i.prototype._bindEventListenerCallbacks=function(){this._onClickBound=this._onClick.bind(this),this._onChangeBound=this._onChange.bind(this),this._onFocusBound=this._onFocus.bind(this),this._onBlurBound=this._onBlur.bind(this),this._onTouchstartBound=this._onTouchstart.bind(this),this._onTouchendBound=this._onTouchend.bind(this),this._onKeydownBound=this._onKeydown.bind(this),this._onMouseDownBound=this._onMouseDown.bind(this),this._onMouseMoveBound=this._onMouseMove.bind(this),this._onMouseUpBound=this._onMouseUp.bind(this)},i.prototype._addEventListeners=function(){this.el.addEventListener("click",this._onClickBound,!1),this.el.addEventListener("change",this._onChangeBound,!1),this.el.addEventListener("focus",this._onFocusBound,!0),this.el.addEventListener("blur",this._onBlurBound,!0),this.isSpreadsheet&&(this.el.addEventListener("touchstart",this._onTouchstartBound,!1),this.el.addEventListener("touchend",this._onTouchendBound,!1),this.el.addEventListener("keydown",this._onKeydownBound,!1)),this.isResizable&&this.tableEl.addEventListener("mousedown",this._onMouseDownBound,!1)},i.prototype._removeEventListeners=function(){this.el.removeEventListener("click",this._onClickBound),this.el.removeEventListener("change",this._onChangeBound),this.el.removeEventListener("focus",this._onFocusBound),this.el.removeEventListener("blur",this._onBlurBound),this.el.removeEventListener("touchstart",this._onTouchstartBound),this.el.removeEventListener("touchend",this._onTouchendBound),this.el.removeEventListener("keydown",this._onKeydownBound),this.tableEl.removeEventListener("mousedown",this._onMouseDownBound),this._removeResizeListeners()},i.prototype._addResizeListeners=function(){window.addEventListener("mousemove",this._onMouseMoveBound,!1),window.addEventListener("mouseup",this._onMouseUpBound,!1)},i.prototype._removeResizeListeners=function(){window.removeEventListener("mousemove",this._onMouseMoveBound),window.removeEventListener("mouseup",this._onMouseUpBound)},i.prototype._toggleRowActive=function(e){(0,u.default)(e,"active")?(this._makeRowInActive(e),this._uncheckSelectAll()):this._makeRowActive(e)},i.prototype._makeRowActive=function(e){(0,c.default)(e,"active"),(e.querySelector('.spark-table__checkbox input[type="checkbox"]:not([disabled])')||{}).checked=!0},i.prototype._makeRowInActive=function(e){(0,h.default)(e,"active"),(e.querySelector('.spark-table__checkbox input[type="checkbox"]:not([disabled])')||{}).checked=!1},i.prototype._toggleRowsActive=function(e,t){for(var o=t?"_makeRowActive":"_makeRowInActive",n=0,i=e.length;n<i;n++)this[o](e[n])},i.prototype._toggleSelectAll=function(e){var t=e.querySelector('.spark-table__select-all input[type="checkbox"]');t&&(this._toggleRowsActive(this.el.querySelectorAll("tbody tr"),!t.checked),t.checked=!t.checked)},i.prototype._uncheckSelectAll=function(){for(var e=this.el.querySelectorAll('.spark-table__select-all input[type="checkbox"]'),t=0,o=e.length;t<o;t++)e[t].checked=!1},i.prototype._deactivateAllInputs=function(){this.tableEl&&this._deactivateInputs(this.tableEl)},i.prototype._deactivateInputs=function(e){for(var t=e.querySelectorAll('input:not([type="checkbox"])'),o=0,n=t.length;o<n;o++)this._deactivateInput(t[o])},i.prototype._deactivateInput=function(e){e.setAttribute("readonly",""),(0,h.default)(e.parentNode,"editing")},i.prototype._activateInputs=function(e){for(var t=e.querySelectorAll('input:not([type="checkbox"])'),o=0,n=t.length;o<n;o++)this._activateInput(t[o])},i.prototype._activateInput=function(e){e.removeAttribute("readonly"),(0,c.default)(e.parentNode,"editing"),"checkbox"!==e.type&&"radio"!==e.type&&(0,l.default)(e,-1)},i.prototype._activateInputOrFocusDown=function(e){""!==e.getAttribute("readonly")?this._focusDown(e,!0):this._activateInput(e)},i.prototype._disableRowsColumnsCells=function(){(0,r.default)(this.tableEl.querySelectorAll("td input[disabled]"),this.disableCell.bind(this)),(0,r.default)(this.tableEl.querySelectorAll(".spark-table__disabled-row"),this.disableRow.bind(this)),(0,r.default)(this.tableEl.querySelectorAll(".spark-table__disabled-column"),this.disableColumn.bind(this))},i.prototype._focusUp=function(e,t){return this._focusUpDown(e,"up",t)},i.prototype._focusDown=function(e,t){return this._focusUpDown(e,"down",t)},i.prototype._focusUpDown=function(e,t,o){if(o||null!==e.getAttribute("readonly")){this._deactivateInput(e);var n=(0,p.default)(e,"td",this.el);if(n){var i=(0,f.default)(n.parentNode.children,n),s=("up"===t?_.default:v.default)(n.parentNode,"tr");if(s){var l=s.children[i];if(l){var a=l.querySelector('input:not([type="checkbox"]), select');a&&(a.disabled?this._focusUpDown(a,t,o):a.focus())}}}}},i.prototype._focusLeft=function(e,t){return this._focusLeftRight(e,"left",t)},i.prototype._focusRight=function(e,t){return this._focusLeftRight(e,"right",t)},i.prototype._focusLeftRight=function(e,t,o){if(o||null!==e.getAttribute("readonly")){this._deactivateInput(e);var n=(0,p.default)(e,"td",this.el);if(n){var i=("left"===t?_.default:v.default)(n,"td");if(i){var s=i.querySelector('input:not([type="checkbox"]), select');s&&(s.disabled?this._focusLeftRight(s,t,o):s.focus())}}}},i.prototype._checkDoubleClick=function(e){var t=Date.now(),o=this._lastClickTime,n=this._lastClickEl;return this._lastClickTime=t,(this._lastClickEl=e)===n&&t-500<o},i.prototype._clearClicked=function(){this._lastClickEl=null},i.prototype._editRow=function(e){e&&(this._editingCount++,this._activateInputs(e),(0,a.store)(e),(0,c.default)(e,"editing"),this._updateBindings())},i.prototype._cancelRow=function(e){e&&(this._editingCount--,this._deactivateInputs(e),(0,a.restore)(e),(0,h.default)(e,"editing"),this._updateBindings())},i.prototype._saveRow=function(e){e&&(this._editingCount--,this._deactivateInputs(e),(0,a.clear)(e),(0,h.default)(e,"editing"),this._updateBindings(),(this.onRowSave||m)((0,f.default)(e.parentNode.children,e),e))},i.prototype._deleteRow=function(e){e&&((this.onRowDelete||m)((0,f.default)(e.parentNode.children,e),e),e.parentNode.removeChild(e))},i.prototype._confirmDelete=function(e){this.confirmDelete&&"function"==typeof this.confirmDelete?this.confirmDelete(e,this._deleteRow):this._deleteRow(e)},i.prototype._updateBindings=function(){(0,d.default)(this.el,"editing",this._editingCount)},i.prototype._initResize=function(){this._resizeEls=[];var e=this.tableEl.querySelectorAll("thead th");(0,r.default)(e,function(e){e.innerHTML='<span class="spark-table__resize spark-table__resize--left"></span>'+e.innerHTML+'<span class="spark-table__resize spark-table__resize--right"></span>',this._resizeEls.push(e)}.bind(this))},i.prototype._initRows=function(){(0,r.default)(this.tableEl.querySelectorAll("td.spark-table__checkbox input:checked"),function(e){this._makeRowActive((0,p.default)(e,"tr"))}.bind(this))},i.prototype._sizeColumns=function(t,e){if(t=t||"%",!this._sizeColumnsRun||e){var o=this.tableEl.offsetWidth;(0,r.default)(this.tableEl.querySelectorAll("thead th"),function(e){e.style.width="%"===t?Math.round(e.offsetWidth/o*1e5)/1e5*100+"%":e.offsetWidth+"px"}.bind(this)),this._sizeColumnsRun=!0}},i.prototype._initExpands=function(){var e=this.tableEl.querySelectorAll(".spark-table-expand");this._expands=[],(0,r.default)(e,function(e){this._expands.push(new s.default(e,{onBeforeExpand:this._onBeforeExpand.bind(this)}))}.bind(this))},i.prototype._onBeforeExpand=function(){this._sizeColumns()},i.prototype._onClick=function(e){var t,o,n=e.target||e.srcElement,i=!1,s=!0;(o=(0,p.default)(n,".spark-table__select-all",this.el))&&!(0,y.default)(n,'input[type="checkbox"]')?(this._toggleSelectAll(o),i=!0):(0,y.default)(n,'input:not([type="checkbox"]):not([type="file"]), select')?n.disabled||(this.isSpreadsheet&&(s=!1,this._checkDoubleClick(n)&&(s=!0,this._activateInput(n))),i=!0):(0,y.default)(n,".spark-table__edit-row")?(this._editRow((0,p.default)(n,"tr",this.el)),i=!0):(0,y.default)(n,".spark-table__delete-row")?(this._confirmDelete((0,p.default)(n,"tr",this.el)),i=!0):(0,y.default)(n,".spark-table__edit-row-save")?(this._saveRow((0,p.default)(n,"tr",this.el)),i=!0):(0,y.default)(n,".spark-table__edit-row-cancel")?(this._cancelRow((0,p.default)(n,"tr",this.el)),i=!0):(0,p.default)(n,"button, a, .spark-toggle-switch",this.el)||(0,y.default)(n,'.spark-table__checkbox input[type="checkbox"], select')||!(t=(0,p.default)(n,"tbody tr",this.el))||(t.querySelector('.spark-table__checkbox input[type="checkbox"]')||{}).disabled||(this._toggleRowActive(t),i=!0),s&&this._clearClicked(),i&&e.preventDefault()},i.prototype._onChange=function(e){var t,o,n=e.target||e.srcElement;(o=(0,p.default)(n,".spark-table__select-all",this.el))?(n.checked=!n.checked,this._toggleSelectAll(o)):(0,y.default)(n,'.spark-table__checkbox input[type="checkbox"]')&&(t=(0,p.default)(n,"tbody tr",this.el))&&this._toggleRowActive(t)},i.prototype._onFocus=function(e){var t=e.target||e.srcElement;if(this.isSpreadsheet&&(0,y.default)(t,'input:not([type="checkbox"]), select')){var o=(0,p.default)(t,"td",this.el);(0,c.default)(o,"focus")}},i.prototype._onBlur=function(e){if(this.isSpreadsheet){var t=e.target||e.srcElement,o=(0,p.default)(t,"td",this.el);(0,h.default)(o,"focus"),this._deactivateInput(t)}},i.prototype._onKeydown=function(e){var t=e.target||e.srcElement;if(this.isSpreadsheet&&(0,y.default)(t,'input:not([type="checkbox"]), select'))switch(e.keyCode||e.which){case this._keyCodes.ENTER:this._activateInputOrFocusDown(t);break;case this._keyCodes.ESCAPE:this._deactivateInput(t);break;case this._keyCodes.DOWN:this._focusDown(t);break;case this._keyCodes.UP:this._focusUp(t);break;case this._keyCodes.LEFT:this._focusLeft(t);break;case this._keyCodes.RIGHT:this._focusRight(t)}},i.prototype._onTouchstart=function(e){var t=e.target||e.srcElement;this.isSpreadsheet&&(0,y.default)(t,'input:not([type="checkbox"])')&&(this._touchStartEl=t,this._touchStartTime=Date.now(),this._touchStartTimer=setTimeout(this._onTouchHold.bind(this),1e3))},i.prototype._onTouchend=function(e){var t=e.target||e.srcElement;this._touchStartEl&&t===this._touchStartEl&&(this._touchStartEl=null,this._touchStartTime=null,clearTimeout(this._touchStartTimer))},i.prototype._onTouchHold=function(){this._activateInput(this._touchStartEl),this._touchStartEl=null,this._touchStartTime=null,clearTimeout(this._touchStartTimer)},i.prototype._onMouseDown=function(e){var t=e.target||e.srcElement;if(this.isResizable&&(0,y.default)(t,".spark-table__resize")){e.preventDefault(),this._lastScreenX=e.screenX,this._sizeColumns("px",!0),this._resizingEl=t.parentNode;var o=this._resizeEls.indexOf(this._resizingEl);(0,u.default)(t,"spark-table__resize--left")&&(this._resizingEl=this._resizeEls[o-1]),this._resizingEl&&this._addResizeListeners()}},i.prototype._onMouseMove=function(e){var t=e.screenX,o=t-this._lastScreenX;if(o){e.preventDefault();var n=this._resizingEl.offsetWidth,i=this.tableEl.offsetWidth,s=n+o,l=i+o;this._resizingEl.style.width=s+"px",this.tableEl.style.width=l+"px",(this._resizingEl.offsetWidth===n||this.tableEl.offsetWidth<this.tableEl.parentNode.offsetWidth)&&(this._resizingEl.style.width=n+"px",this.tableEl.style.width=i+"px"),this._lastScreenX=t}},i.prototype._onMouseUp=function(){this._sizeColumns("%",!0),this.tableEl.style.width=this.tableEl.offsetWidth/this.tableEl.parentNode.offsetWidth*100+"%",this._removeResizeListeners()},i}(n.default);g.prototype._whitelistedParams=["isSpreadsheet","isEditRows","isResizable","confirmDelete","onRowSave","onRowDelete"],g.prototype.defaults={el:null,tableEl:null,isSpreadsheet:null,isEditRows:null,isResizable:null,onRowSave:null,onRowDelete:null,confirmDelete:null,_expands:null,_keyCodes:{ENTER:13,UP:38,DOWN:40,LEFT:37,RIGHT:39,ESCAPE:27},_editingCount:0,_lastClickTime:0,_lastClickEl:null,_lastScreenX:0,_touchStartTime:0,_touchStartEl:null,_resizeEls:null,_resizingEl:null,_sizeColumnsRun:!1,_onClickBound:null,_onChangeBound:null,_onFocusBound:null,_onBlurBound:null,_onKeydownBound:null,_onTouchstartBound:null,_onTouchendBound:null,_onMouseDownBound:null,_onMouseMoveBound:null,_onMouseUpBound:null},o.default=g,t.exports=o.default},{"../helpers/dom/add-class":5,"../helpers/dom/has-class":6,"../helpers/dom/remove-class":8,"../helpers/dom/toggle-class":9,"../helpers/form/form-data":10,"../helpers/form/set-caret":11,"../helpers/traversal/get-index":12,"../helpers/traversal/get-parent":13,"../helpers/traversal/get-sibling-after":14,"../helpers/traversal/get-sibling-before":15,"../helpers/traversal/matches":16,"../helpers/util/each":17,"./base":1,"./expand":2}],4:[function(e,t,o){"use strict";Object.defineProperty(o,"__esModule",{value:!0});var f=n(e("../dom/outer-height")),_=n(e("../dom/add-class")),v=n(e("../dom/remove-class")),y=n(e("../dom/has-class")),b=n(e("../dom/toggle-class"));function n(e){return e&&e.__esModule?e:{default:e}}var m=function(){},g={els:[],completeCallbacks:[]};function E(e){e.toggleClassName?(0,b.default)(e.el,e.toggleClassName,!e.collapse):e.toggleEl.style[e.toggleProperty]="",e.el.style.height="",e.toggleEl.style.height="",e.toggleEl.style.marginBottom="",e.toggleEl.style.marginTop="",(0,v.default)(e.el,e.heightAnimationClass),(0,v.default)(e.toggleEl,e.heightAnimationClass),e.onComplete();var t=g.els.indexOf(e.el);g.els.splice(t,1),g.completeCallbacks.splice(t,1)}o.default=function(n){var i=(n=n||{}).el;if(i){var s=n.action&&"collapse"===n.action,l=n.heightAnimationClass||"spark-animate-height",a="string"==typeof n.toggleEl?i.querySelector(n.toggleEl):n.toggleEl;if(a&&!(0,y.default)(i,"spark-no-animate")){var r=n.toggleClass,u=n.toggleProperty||"display",d=window.getComputedStyle(a),c=d[u],h=n.toggleValue||function(e,t,o){switch(t){case"overflow":case"visibility":return"visible"===o?"hidden":"visible";default:return"block"===o||"inline-block"===o?"none":"block"}}(0,c),e=g.els.indexOf(i);if(-1!==e){var t=g.completeCallbacks[e];t&&clearTimeout(t),E({el:i,toggleEl:a,onComplete:n.onComplete||m,collapse:s,toggleProperty:u,toggleClassName:r,toggleValue:h,heightAnimationClass:l})}var p=(0,f.default)(i);r?(0,b.default)(i,r,!s):a.style[u]=h,s?setTimeout(o,0):o()}}function o(){var e=(0,f.default)(i),t=void 0,o=void 0;s?(r?(0,v.default)(i,r):a.style[u]=c,o=(0,f.default)(a,d),t=0):(t=(0,f.default)(a,d),o=0),i.style.height=p+"px",a.style.height=o+"px",a.style.marginBottom="0px",a.style.marginTop="0px",(0,_.default)(i,l),(0,_.default)(a,l),g.els.push(i),setTimeout(function(){i.style.height=e+"px",a.style.height=t+"px",g.completeCallbacks.push(setTimeout(function(){E({el:i,toggleEl:a,onComplete:n.onComplete||m,collapse:s,toggleProperty:u,toggleClassName:r,toggleValue:h,heightAnimationClass:l})},void 0!==n.animationDuration?n.animationDuration:201))},0)}},t.exports=o.default},{"../dom/add-class":5,"../dom/has-class":6,"../dom/outer-height":7,"../dom/remove-class":8,"../dom/toggle-class":9}],5:[function(e,t,o){"use strict";Object.defineProperty(o,"__esModule",{value:!0});var a=n(e("../util/trim")),r=n(e("./has-class"));function n(e){return e&&e.__esModule?e:{default:e}}var u=/\s+/,d=/\s{2,}/g;o.default=function(e,t){if(1===(t=2===arguments.length&&"string"==typeof t?(0,a.default)(t).split(u):t instanceof Array?t:Array.prototype.slice.call(arguments,1)).length&&e.classList)return t[0]&&e.classList.add(t[0]),e;for(var o=[],n=0,i=t.length,s=void 0,l="string"==typeof e.className?e.className:e.getAttribute?e.getAttribute("class"):"";n<i;n++)(s=t[n])&&!(0,r.default)(l,s)&&o.push(s);return o.length&&("string"==typeof e.className?e.className=(0,a.default)((l+" "+o.join(" ")).replace(d," ")):e.setAttribute&&e.setAttribute("class",(0,a.default)((l+" "+o.join(" ")).replace(d," ")))),e},t.exports=o.default},{"../util/trim":18,"./has-class":6}],6:[function(e,t,o){"use strict";Object.defineProperty(o,"__esModule",{value:!0});var n="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e};o.default=function(e,t){return-1!==(" "+("object"===(void 0===e?"undefined":n(e))?e.className||e.getAttribute&&e.getAttribute("class")||"":e||"").replace(/[\t\r\n\f]/g," ")+" ").indexOf(" "+t+" ")},t.exports=o.default},{}],7:[function(e,t,o){"use strict";Object.defineProperty(o,"__esModule",{value:!0});var n,i=e("../util/each"),s=(n=i)&&n.__esModule?n:{default:n};var l=["marginTop","marginBottom","borderTop","borderBottom"];o.default=function(e,t){t=t||window.getComputedStyle(e);var o=e.clientHeight;return(0,s.default)(l,function(e){o+=parseInt(t[e]||0,10)}),o},t.exports=o.default},{"../util/each":17}],8:[function(e,t,o){"use strict";Object.defineProperty(o,"__esModule",{value:!0});var n,i=e("../util/trim"),r=(n=i)&&n.__esModule?n:{default:n};var u=/\s+/,d=/\s{2,}/g;o.default=function(e,t){if(1===(t=2===arguments.length&&"string"==typeof t?(0,r.default)(t).split(u):t instanceof Array?t:Array.prototype.slice.call(arguments,1)).length&&e.classList)return t[0]&&e.classList.remove(t[0]),e;for(var o=" "+("string"==typeof e.className?e.className:e.getAttribute?e.getAttribute("class"):"")+" ",n=o,i=void 0,s=void 0,l=0,a=t.length;l<a;l++)-1!==(s=(i=t[l])?n.indexOf(" "+i+" "):-1)&&(s+=1,n=n.slice(0,s)+n.slice(s+i.length));return o!==n&&("string"==typeof e.className?e.className=(0,r.default)(n.replace(d," ")):e.setAttribute&&e.setAttribute("class",(0,r.default)(n.replace(d," ")))),e},t.exports=o.default},{"../util/trim":18}],9:[function(e,t,o){"use strict";Object.defineProperty(o,"__esModule",{value:!0});var l=n(e("./has-class")),a=n(e("./add-class")),r=n(e("./remove-class"));function n(e){return e&&e.__esModule?e:{default:e}}o.default=function e(t,o,n){if(t){if(!(t instanceof NodeList||t instanceof Array))return("add"==(void 0!==n?(n="function"==typeof n?n.call(null,t):n)?"add":"remove":(0,l.default)(t,o)?"remove":"add")?a.default:r.default)(t,o);for(var i=0,s=t.length;i<s;i++)e(t[i],o,n)}},t.exports=o.default},{"./add-class":5,"./has-class":6,"./remove-class":8}],10:[function(e,t,o){"use strict";Object.defineProperty(o,"__esModule",{value:!0}),o.clear=o.restore=o.store=void 0;var n,i=e("../util/each"),s=(n=i)&&n.__esModule?n:{default:n};function l(e,t){(0,s.default)(e.querySelectorAll("input, select, textarea"),function(e){t(e)})}o.store=function(e){l(e,function(e){var t=void 0;switch(e.nodeName.toLowerCase()){case"select":t=e.selectedIndex;break;default:t=encodeURI(e.value)}e.setAttribute("data-stored-value",t)})},o.restore=function(e){l(e,function(e){var t=e.nodeName.toLowerCase(),o=e.getAttribute("data-stored-value");if(o||""===o){switch(t){case"select":e.options[o].selected=!0;break;default:e.value=decodeURI(o)}e.removeAttribute("data-stored-value")}})},o.clear=function(e){l(e,function(e){e.removeAttribute("data-stored-value")})}},{"../util/each":17}],11:[function(e,t,o){"use strict";Object.defineProperty(o,"__esModule",{value:!0}),o.default=function(e,t,o){var n=document.activeElement;if(t=t<0?e.value.length+t+1:t,o=o<0?e.value.length+o+1:o,document.selection){e.focus();var i=document.selection.createRange();i.moveStart("character",-e.value.length),i.moveStart("character",t),i.moveEnd("character",void 0!==o?o:t),i.select()}else(e.selectionStart||0===e.selectionStart)&&(e.selectionStart=t,e.selectionEnd=void 0!==o?o:t);return n!==e&&(e.blur(),n.focus()),{start:t,end:o}},t.exports=o.default},{}],12:[function(e,t,o){"use strict";Object.defineProperty(o,"__esModule",{value:!0}),o.default=function(e,t){return Array.prototype.indexOf.call(e,t)},t.exports=o.default},{}],13:[function(e,t,o){"use strict";Object.defineProperty(o,"__esModule",{value:!0});var n,i=e("./matches"),s=(n=i)&&n.__esModule?n:{default:n};o.default=function(e,t,o){for(o=o instanceof Array?o:[o||document.body];e;){if((0,s.default)(e,t))return e;if(-1!==o.indexOf(e))return!1;e=e.parentNode}return!1},t.exports=o.default},{"./matches":16}],14:[function(e,t,o){"use strict";Object.defineProperty(o,"__esModule",{value:!0});var n,i=e("./matches"),s=(n=i)&&n.__esModule?n:{default:n};o.default=function(e,t){for(;e=e.nextElementSibling;)if((0,s.default)(e,t))return e;return null},t.exports=o.default},{"./matches":16}],15:[function(e,t,o){"use strict";Object.defineProperty(o,"__esModule",{value:!0});var n,i=e("./matches"),s=(n=i)&&n.__esModule?n:{default:n};o.default=function(e,t){for(;e=e.previousElementSibling;)if((0,s.default)(e,t))return e;return null},t.exports=o.default},{"./matches":16}],16:[function(e,t,o){"use strict";Object.defineProperty(o,"__esModule",{value:!0});var i="undefined"!=typeof Element&&(Element.prototype.matches||Element.prototype.matchesSelector||Element.prototype.webkitMatchesSelector||Element.prototype.mozMatchesSelector||Element.prototype.msMatchesSelector||Element.prototype.oMatchesSelector);o.default=function(e,t){if(i)return i.call(e,t);for(var o=e.parentNode?e.parentNode.querySelectorAll(t):[],n=0;n<o.length;n++)if(o[n]===e)return!0;return!1},t.exports=o.default},{}],17:[function(e,t,o){"use strict";Object.defineProperty(o,"__esModule",{value:!0}),o.default=function(e,t){if(e){if("function"!=typeof t)throw new Error("Cannot invoke `each` without a callback!");var o=0,n=e.length;if(void 0===n)for(o in e)"prototype"!==o&&e.hasOwnProperty(o)&&t(o,e[o]);else for(;o<n;o++)t(e[o])}},t.exports=o.default},{}],18:[function(e,t,o){"use strict";Object.defineProperty(o,"__esModule",{value:!0});var n=/^[\s\uFEFF\xA0]+|[\s\uFEFF\xA0]+$/g;o.default=function(e){return e.replace(n,"")},t.exports=o.default},{}]},{},[3])(3)});