{"version":3,"sources":["helpers/form/set-caret.js"],"names":["setCaret","el","start","end","originalActiveElement","document","activeElement","value","length","selection","focus","sel","createRange","moveStart","moveEnd","undefined","select","selectionStart","selectionEnd","blur"],"mappings":";;;;;AAAA;;;;;;;;;;;;;;AAcA,SAASA,QAAT,CAAkBC,EAAlB,EAAsBC,KAAtB,EAA6BC,GAA7B,EAAkC;;AAEhC,MAAIC,wBAAwBC,SAASC,aAArC;;AAEAJ,UAAQA,QAAQ,CAAR,GAAYD,GAAGM,KAAH,CAASC,MAAT,GAAkBN,KAAlB,GAA0B,CAAtC,GAA0CA,KAAlD;AACAC,QAAMA,MAAM,CAAN,GAAUF,GAAGM,KAAH,CAASC,MAAT,GAAkBL,GAAlB,GAAwB,CAAlC,GAAsCA,GAA5C;;AAEA;AACA,MAAIE,SAASI,SAAb,EAAwB;AACtBR,OAAGS,KAAH;AACA,QAAIC,MAAMN,SAASI,SAAT,CAAmBG,WAAnB,EAAV;AACAD,QAAIE,SAAJ,CAAc,WAAd,EAA2B,CAACZ,GAAGM,KAAH,CAASC,MAArC;AACAG,QAAIE,SAAJ,CAAc,WAAd,EAA2BX,KAA3B;AACAS,QAAIG,OAAJ,CAAY,WAAZ,EAAyBX,QAAQY,SAAR,GAAoBZ,GAApB,GAA0BD,KAAnD;AACAS,QAAIK,MAAJ;AACD,GAPD,MAQK,IAAIf,GAAGgB,cAAH,IAAqBhB,GAAGgB,cAAH,KAAsB,CAA/C,EAAkD;AACrDhB,OAAGgB,cAAH,GAAoBf,KAApB;AACAD,OAAGiB,YAAH,GAAkBf,QAAQY,SAAR,GAAoBZ,GAApB,GAA0BD,KAA5C;AACD;;AAED;AACA,MAAIE,0BAA0BH,EAA9B,EAAkC;AAChCA,OAAGkB,IAAH;AACAf,0BAAsBM,KAAtB;AACD;;AAED,SAAO;AACLR,WAAOA,KADF;AAELC,SAAKA;AAFA,GAAP;AAID;;kBAEcH,Q","file":"set-caret.js","sourcesContent":["/**\n * # Set Caret\n * Set the caret position in an input.\n *\n * @param {Element} el\n * @param {Number} start\n * @param {Number} end\n *\n * @example\n * setCaret(el, -1);\n * setCaret(el, 2);\n *\n * @module helpers/form/set-caret.js\n */\nfunction setCaret(el, start, end) {\n\n  let originalActiveElement = document.activeElement;\n\n  start = start < 0 ? el.value.length + start + 1 : start;\n  end = end < 0 ? el.value.length + end + 1 : end;\n\n  // IE support\n  if (document.selection) {\n    el.focus();\n    let sel = document.selection.createRange();\n    sel.moveStart('character', -el.value.length);\n    sel.moveStart('character', start);\n    sel.moveEnd('character', end !== undefined ? end : start);\n    sel.select();\n  }\n  else if (el.selectionStart || el.selectionStart === 0) {\n    el.selectionStart = start;\n    el.selectionEnd = end !== undefined ? end : start;\n  }\n\n  // If we didn't have focus, go back to focusing on the original\n  if (originalActiveElement !== el) {\n    el.blur();\n    originalActiveElement.focus();\n  }\n\n  return {\n    start: start,\n    end: end\n  };\n}\n\nexport default setCaret;\n"]}